{"version":3,"sources":["webpack:///./node_modules/@theia/plugin-ext/src/common/disposable-util.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/errors.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/index.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/paths-util.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-api-rpc-model.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-api-rpc.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-ext-api-contribution.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/plugin-protocol.ts","webpack:///./node_modules/@theia/plugin-ext/src/common/rpc-protocol.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/documents-main.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/editor/untitled-resource.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/menus/menus-contribution-handler.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/scm-main.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/view/plugin-view-widget.ts","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/view/tree-view-widget.tsx","webpack:///./node_modules/@theia/plugin-ext/src/main/browser/view/view-context-key-service.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/markdown-string.ts","webpack:///./node_modules/@theia/plugin-ext/src/plugin/types-impl.ts"],"names":[],"mappings":"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","file":"46.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface Disposable {\n    dispose(): void;\n}\n\nexport function dispose<T extends Disposable>(disposable: T): T | undefined;\nexport function dispose<T extends Disposable>(...disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(first: T | T[], ...rest: T[]): T | T[] | undefined {\n    if (Array.isArray(first)) {\n        first.forEach(d => d && d.dispose());\n        return [];\n    } else if (rest.length === 0) {\n        if (first) {\n            first.dispose();\n            return first;\n        }\n        return undefined;\n    } else {\n        dispose(first);\n        dispose(rest);\n        return [];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport function illegalArgument(message?: string): Error {\n    if (message) {\n        return new Error(`Illegal argument: ${message}`);\n    } else {\n        return new Error('Illegal argument');\n    }\n}\n\nexport function readonly(name?: string): Error {\n    if (name) {\n        return new Error(`readonly property '${name} cannot be changed'`);\n    } else {\n        return new Error('readonly property cannot be changed');\n    }\n}\n\nexport function disposed(what: string): Error {\n    const result = new Error(`${what} has been disposed`);\n    result.name = 'DISPOSED';\n    return result;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// Here we expose types from @theia/plugin, so it becomes a direct dependency\nexport * from './plugin-protocol';\nexport * from './plugin-api-rpc';\nexport * from './plugin-ext-api-contribution';\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// file copied from https://github.com/wjordan/browser-path/blob/master/src/node_path.ts\n// Original license:\n/*\n====\n\nCopyright (c) 2015 John Vilk and other contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n====\n*/\n\nimport { sep } from '@theia/languages/lib/common/language-selector/paths';\n\nconst replaceRegex = new RegExp('//+', 'g');\n\nexport function resolve(...paths: string[]): string {\n    let processed: string[] = [];\n    for (const p of paths) {\n        if (typeof p !== 'string') {\n            throw new TypeError('Invalid argument type to path.join: ' + (typeof p));\n        } else if (p !== '') {\n            if (p.charAt(0) === sep) {\n                processed = [];\n            }\n            processed.push(p);\n        }\n    }\n\n    const resolved = normalize(processed.join(sep));\n    if (resolved.length > 1 && resolved.charAt(resolved.length - 1) === sep) {\n        return resolved.substr(0, resolved.length - 1);\n    }\n\n    return resolved;\n}\n\nexport function relative(from: string, to: string): string {\n    let i: number;\n\n    from = resolve(from);\n    to = resolve(to);\n    const fromSegments = from.split(sep);\n    const toSegments = to.split(sep);\n\n    toSegments.shift();\n    fromSegments.shift();\n\n    let upCount = 0;\n    let downSegments: string[] = [];\n\n    for (i = 0; i < fromSegments.length; i++) {\n        const seg = fromSegments[i];\n        if (seg === toSegments[i]) {\n            continue;\n        }\n\n        upCount = fromSegments.length - i;\n        break;\n    }\n\n    downSegments = toSegments.slice(i);\n\n    if (fromSegments.length === 1 && fromSegments[0] === '') {\n        upCount = 0;\n    }\n\n    if (upCount > fromSegments.length) {\n        upCount = fromSegments.length;\n    }\n\n    let rv = '';\n    for (i = 0; i < upCount; i++) {\n        rv += '../';\n    }\n    rv += downSegments.join(sep);\n\n    if (rv.length > 1 && rv.charAt(rv.length - 1) === sep) {\n        rv = rv.substr(0, rv.length - 1);\n    }\n    return rv;\n}\nexport function normalize(p: string): string {\n\n    if (p === '') {\n        p = '.';\n    }\n\n    const absolute = p.charAt(0) === sep;\n\n    p = removeDuplicateSeparators(p);\n\n    const components = p.split(sep);\n    const goodComponents: string[] = [];\n    for (const c of components) {\n        if (c === '.') {\n            continue;\n        } else if (c === '..' && (absolute || (!absolute && goodComponents.length > 0 && goodComponents[0] !== '..'))) {\n            goodComponents.pop();\n        } else {\n            goodComponents.push(c);\n        }\n    }\n\n    if (!absolute && goodComponents.length < 2) {\n        switch (goodComponents.length) {\n            case 1:\n                if (goodComponents[0] === '') {\n                    goodComponents.unshift('.');\n                }\n                break;\n            default:\n                goodComponents.push('.');\n        }\n    }\n    p = goodComponents.join(sep);\n    if (absolute && p.charAt(0) !== sep) {\n        p = sep + p;\n    }\n    return p;\n}\n\nfunction removeDuplicateSeparators(p: string): string {\n    p = p.replace(replaceRegex, sep);\n    return p;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as theia from '@theia/plugin';\nimport { UriComponents } from './uri-components';\nimport { FileStat } from '@theia/filesystem/lib/common';\n\n// Should contains internal Plugin API types\n\n/**\n * Represents options to configure the behavior of showing a document in an editor.\n */\nexport interface TextDocumentShowOptions {\n    /**\n     * An optional selection to apply for the document in the editor.\n     */\n    selection?: Range;\n\n    /**\n     * An optional flag that when `true` will stop the editor from taking focus.\n     */\n    preserveFocus?: boolean;\n\n    /**\n     * An optional flag that controls if an editor-tab will be replaced\n     * with the next editor or if it will be kept.\n     */\n    preview?: boolean;\n\n    /**\n     * Denotes a location of an editor in the window. Editors can be arranged in a grid\n     * and each column represents one editor location in that grid by counting the editors\n     * in order of their appearance.\n     */\n    viewColumn?: theia.ViewColumn;\n}\n\nexport interface Range {\n    /**\n     * Line number on which the range starts (starts at 1).\n     */\n    readonly startLineNumber: number;\n    /**\n     * Column on which the range starts in line `startLineNumber` (starts at 1).\n     */\n    readonly startColumn: number;\n    /**\n     * Line number on which the range ends.\n     */\n    readonly endLineNumber: number;\n    /**\n     * Column on which the range ends in line `endLineNumber`.\n     */\n    readonly endColumn: number;\n}\n\nexport interface MarkdownString {\n    value: string;\n    isTrusted?: boolean;\n    uris?: {\n        [href: string]: UriComponents;\n    };\n}\n\nexport interface SerializedDocumentFilter {\n    $serialized: true;\n    language?: string;\n    scheme?: string;\n    pattern?: theia.GlobPattern;\n}\n\nexport interface FileWatcherSubscriberOptions {\n    globPattern: theia.GlobPattern;\n    ignoreCreateEvents?: boolean;\n    ignoreChangeEvents?: boolean;\n    ignoreDeleteEvents?: boolean;\n}\n\nexport interface FileChangeEvent {\n    subscriberId: string,\n    uri: UriComponents,\n    type: FileChangeEventType\n}\n\nexport type FileChangeEventType = 'created' | 'updated' | 'deleted';\n\nexport enum CompletionTriggerKind {\n    Invoke = 0,\n    TriggerCharacter = 1,\n    TriggerForIncompleteCompletions = 2\n}\n\nexport interface CompletionContext {\n    triggerKind: CompletionTriggerKind;\n    triggerCharacter?: string;\n}\n\nexport enum CompletionItemInsertTextRule {\n    KeepWhitespace = 1,\n    InsertAsSnippet = 4\n}\n\nexport interface Completion {\n    label: string;\n    kind: CompletionItemKind;\n    detail?: string;\n    documentation?: string | MarkdownString;\n    sortText?: string;\n    filterText?: string;\n    preselect?: boolean;\n    insertText: string;\n    insertTextRules?: CompletionItemInsertTextRule;\n    range?: Range | {\n        insert: Range;\n        replace: Range;\n    };\n    commitCharacters?: string[];\n    additionalTextEdits?: SingleEditOperation[];\n    command?: Command;\n}\n\nexport interface SingleEditOperation {\n    range: Range;\n    text: string | null;\n    /**\n     * This indicates that this operation has \"insert\" semantics.\n     * i.e. forceMoveMarkers = true => if `range` is collapsed, all markers at the position will be moved.\n     */\n    forceMoveMarkers?: boolean;\n}\n\nexport interface Command {\n    id: string;\n    title: string;\n    tooltip?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    arguments?: any[];\n}\n\nexport enum CompletionItemKind {\n    Method = 0,\n    Function = 1,\n    Constructor = 2,\n    Field = 3,\n    Variable = 4,\n    Class = 5,\n    Struct = 6,\n    Interface = 7,\n    Module = 8,\n    Property = 9,\n    Event = 10,\n    Operator = 11,\n    Unit = 12,\n    Value = 13,\n    Constant = 14,\n    Enum = 15,\n    EnumMember = 16,\n    Keyword = 17,\n    Text = 18,\n    Color = 19,\n    File = 20,\n    Reference = 21,\n    Customcolor = 22,\n    Folder = 23,\n    TypeParameter = 24,\n    Snippet = 25\n}\n\nexport class IdObject {\n    id?: number;\n}\nexport interface CompletionDto extends Completion {\n    id: number;\n    parentId: number;\n}\n\nexport interface CompletionResultDto extends IdObject {\n    id: number;\n    defaultRange: {\n        insert: Range,\n        replace: Range\n    }\n    completions: CompletionDto[];\n    incomplete?: boolean;\n}\n\nexport interface MarkerData {\n    code?: string;\n    severity: MarkerSeverity;\n    message: string;\n    source?: string;\n    startLineNumber: number;\n    startColumn: number;\n    endLineNumber: number;\n    endColumn: number;\n    relatedInformation?: RelatedInformation[];\n    tags?: MarkerTag[];\n}\n\nexport interface RelatedInformation {\n    resource: string;\n    message: string;\n    startLineNumber: number;\n    startColumn: number;\n    endLineNumber: number;\n    endColumn: number;\n}\n\nexport enum MarkerSeverity {\n    Hint = 1,\n    Info = 2,\n    Warning = 4,\n    Error = 8,\n}\n\nexport enum MarkerTag {\n    Unnecessary = 1,\n}\n\nexport interface ParameterInformation {\n    label: string | [number, number];\n    documentation?: string | MarkdownString;\n}\n\nexport interface SignatureInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n    parameters: ParameterInformation[];\n}\n\nexport interface SignatureHelp extends IdObject {\n    signatures: SignatureInformation[];\n    activeSignature: number;\n    activeParameter: number;\n}\n\nexport interface SignatureHelpContext {\n    triggerKind: theia.SignatureHelpTriggerKind;\n    triggerCharacter?: string;\n    isRetrigger: boolean;\n    activeSignatureHelp?: SignatureHelp;\n}\n\nexport interface Hover {\n    contents: MarkdownString[];\n    range?: Range;\n}\n\nexport interface HoverProvider {\n    provideHover(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): Hover | undefined | Thenable<Hover | undefined>;\n}\n\nexport enum DocumentHighlightKind {\n    Text = 0,\n    Read = 1,\n    Write = 2\n}\n\nexport interface DocumentHighlight {\n    range: Range;\n    kind?: DocumentHighlightKind;\n}\n\nexport interface DocumentHighlightProvider {\n    provideDocumentHighlights(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): DocumentHighlight[] | undefined;\n}\n\nexport interface FormattingOptions {\n    tabSize: number;\n    insertSpaces: boolean;\n}\n\nexport interface TextEdit {\n    range: Range;\n    text: string;\n    eol?: monaco.editor.EndOfLineSequence;\n}\n\nexport interface Location {\n    uri: UriComponents;\n    range: Range;\n}\n\nexport type Definition = Location | Location[] | LocationLink[];\n\nexport interface LocationLink {\n    uri: UriComponents;\n    range: Range;\n    originSelectionRange?: Range;\n    targetSelectionRange?: Range;\n}\n\nexport interface DefinitionProvider {\n    provideDefinition(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): Definition | undefined;\n}\n\nexport interface DeclarationProvider {\n    provideDeclaration(model: monaco.editor.ITextModel, position: monaco.Position, token: monaco.CancellationToken): Definition | undefined;\n}\n\n/**\n * Value-object that contains additional information when\n * requesting references.\n */\nexport interface ReferenceContext {\n\n    /**\n     * Include the declaration of the current symbol.\n     */\n    includeDeclaration: boolean;\n}\n\nexport interface DocumentLink {\n    range: Range;\n    url?: UriComponents | string;\n    tooltip?: string;\n}\n\nexport interface DocumentLinkProvider {\n    provideLinks(model: monaco.editor.ITextModel, token: monaco.CancellationToken): DocumentLink[] | undefined | PromiseLike<DocumentLink[] | undefined>;\n    resolveLink?: (link: DocumentLink, token: monaco.CancellationToken) => DocumentLink | PromiseLike<DocumentLink[]>;\n}\n\nexport interface CodeLensSymbol {\n    range: Range;\n    command?: Command;\n}\n\nexport interface CodeAction {\n    title: string;\n    command?: Command;\n    edit?: WorkspaceEdit;\n    diagnostics?: MarkerData[];\n    kind?: string;\n}\n\nexport interface CodeActionContext {\n    only?: string;\n}\n\nexport interface CodeActionProvider {\n    provideCodeActions(\n        model: monaco.editor.ITextModel,\n        range: Range | Selection,\n        context: monaco.languages.CodeActionContext,\n        token: monaco.CancellationToken\n    ): CodeAction[] | PromiseLike<CodeAction[]>;\n\n    providedCodeActionKinds?: string[];\n}\n\nexport interface ResourceFileEdit {\n    oldUri: UriComponents;\n    newUri: UriComponents;\n    options: { overwrite?: boolean, ignoreIfNotExists?: boolean, ignoreIfExists?: boolean, recursive?: boolean };\n}\n\nexport interface ResourceTextEdit {\n    resource: UriComponents;\n    modelVersionId?: number;\n    edits: TextEdit[];\n}\n\nexport interface WorkspaceEdit {\n    edits: Array<ResourceTextEdit | ResourceFileEdit>;\n    rejectReason?: string;\n}\n\nexport enum SymbolKind {\n    File = 0,\n    Module = 1,\n    Namespace = 2,\n    Package = 3,\n    Class = 4,\n    Method = 5,\n    Property = 6,\n    Field = 7,\n    Constructor = 8,\n    Enum = 9,\n    Interface = 10,\n    Function = 11,\n    Variable = 12,\n    Constant = 13,\n    String = 14,\n    Number = 15,\n    Boolean = 16,\n    Array = 17,\n    Object = 18,\n    Key = 19,\n    Null = 20,\n    EnumMember = 21,\n    Struct = 22,\n    Event = 23,\n    Operator = 24,\n    TypeParameter = 25\n}\n\nexport enum SymbolTag {\n    Deprecated = 1\n}\n\nexport interface DocumentSymbol {\n    name: string;\n    detail: string;\n    kind: SymbolKind;\n    tags: ReadonlyArray<SymbolTag>;\n    containerName?: string;\n    range: Range;\n    selectionRange: Range;\n    children?: DocumentSymbol[];\n}\n\nexport interface WorkspaceRootsChangeEvent {\n    roots: FileStat[];\n}\n\nexport interface WorkspaceFolder {\n    uri: UriComponents;\n    name: string;\n    index: number;\n}\n\nexport interface Breakpoint {\n    readonly id: string;\n    readonly enabled: boolean;\n    readonly condition?: string;\n    readonly hitCondition?: string;\n    readonly logMessage?: string;\n    readonly location?: Location;\n    readonly functionName?: string;\n}\n\nexport interface WorkspaceSymbolParams {\n    query: string\n}\n\nexport interface FoldingContext {\n}\n\nexport interface FoldingRange {\n    start: number;\n    end: number;\n    kind?: FoldingRangeKind;\n}\n\nexport class FoldingRangeKind {\n    static readonly Comment = new FoldingRangeKind('comment');\n    static readonly Imports = new FoldingRangeKind('imports');\n    static readonly Region = new FoldingRangeKind('region');\n    public constructor(public value: string) { }\n}\n\nexport interface SelectionRange {\n    range: Range;\n}\n\nexport interface Color {\n    readonly red: number;\n    readonly green: number;\n    readonly blue: number;\n    readonly alpha: number;\n}\n\nexport interface ColorPresentation {\n    label: string;\n    textEdit?: TextEdit;\n    additionalTextEdits?: TextEdit[];\n}\n\nexport interface ColorInformation {\n    range: Range;\n    color: Color;\n}\n\nexport interface DocumentColorProvider {\n    provideDocumentColors(model: monaco.editor.ITextModel): PromiseLike<ColorInformation[]>;\n    provideColorPresentations(model: monaco.editor.ITextModel, colorInfo: ColorInformation): PromiseLike<ColorPresentation[]>;\n}\n\nexport interface Rejection {\n    rejectReason?: string;\n}\n\nexport interface RenameLocation {\n    range: Range;\n    text: string;\n}\n\nexport interface RenameProvider {\n    provideRenameEdits(model: monaco.editor.ITextModel, position: Position, newName: string): PromiseLike<WorkspaceEdit & Rejection>;\n    resolveRenameLocation?(model: monaco.editor.ITextModel, position: Position): PromiseLike<RenameLocation & Rejection>;\n}\n\nexport interface CallHierarchyDefinition {\n    name: string;\n    kind: SymbolKind;\n    detail?: string;\n    uri: UriComponents;\n    range: Range;\n    selectionRange: Range;\n}\n\nexport interface CallHierarchyReference {\n    callerDefinition: CallHierarchyDefinition,\n    references: Range[]\n}\n\nexport interface CallHierarchyItem {\n    _sessionId?: string;\n    _itemId?: string;\n\n    kind: SymbolKind;\n    name: string;\n    detail?: string;\n    uri: UriComponents;\n    range: Range;\n    selectionRange: Range;\n}\n\nexport interface CallHierarchyIncomingCall {\n    from: CallHierarchyItem;\n    fromRanges: Range[];\n}\n\nexport interface CallHierarchyOutgoingCall {\n    to: CallHierarchyItem;\n    fromRanges: Range[];\n}\n\nexport interface CreateFilesEventDTO {\n    files: UriComponents[]\n}\n\nexport interface RenameFilesEventDTO {\n    files: { oldUri: UriComponents, newUri: UriComponents }[]\n}\n\nexport interface DeleteFilesEventDTO {\n    files: UriComponents[]\n}\n\nexport interface SearchInWorkspaceResult {\n    root: string;\n    fileUri: string;\n    matches: SearchMatch[];\n}\n\nexport interface SearchMatch {\n    line: number;\n    character: number;\n    length: number;\n    lineText: string | LinePreview;\n\n}\nexport interface LinePreview {\n    text: string;\n    character: number;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { createProxyIdentifier, ProxyIdentifier, RPCProtocol } from './rpc-protocol';\nimport * as theia from '@theia/plugin';\nimport { PluginLifecycle, PluginModel, PluginMetadata, PluginPackage, IconUrl, PluginJsonValidationContribution } from './plugin-protocol';\nimport { QueryParameters } from './env';\nimport { TextEditorCursorStyle } from './editor-options';\nimport {\n    TextEditorLineNumbersStyle,\n    EndOfLine,\n    OverviewRulerLane,\n    IndentAction,\n    FileOperationOptions,\n    QuickInputButton\n} from '../plugin/types-impl';\nimport { UriComponents } from './uri-components';\nimport { ConfigurationTarget, FileType, FileStat } from '../plugin/types-impl';\nimport {\n    SerializedDocumentFilter,\n    CompletionContext,\n    MarkdownString,\n    Range,\n    Completion,\n    CompletionResultDto,\n    MarkerData,\n    SignatureHelp,\n    Hover,\n    DocumentHighlight,\n    FormattingOptions,\n    Definition,\n    DocumentLink,\n    CodeLensSymbol,\n    Command,\n    TextEdit,\n    DocumentSymbol,\n    ReferenceContext,\n    FileWatcherSubscriberOptions,\n    FileChangeEvent,\n    TextDocumentShowOptions,\n    WorkspaceRootsChangeEvent,\n    Location,\n    Breakpoint,\n    ColorPresentation,\n    RenameLocation,\n    SignatureHelpContext,\n    CodeAction,\n    CodeActionContext,\n    FoldingContext,\n    FoldingRange,\n    SelectionRange,\n    CallHierarchyDefinition,\n    CallHierarchyReference,\n    CreateFilesEventDTO,\n    RenameFilesEventDTO,\n    DeleteFilesEventDTO,\n    SearchInWorkspaceResult\n} from './plugin-api-rpc-model';\nimport { ExtPluginApi } from './plugin-ext-api-contribution';\nimport { KeysToAnyValues, KeysToKeysToAnyValue } from './types';\nimport { CancellationToken, Progress, ProgressOptions } from '@theia/plugin';\nimport { DebuggerDescription } from '@theia/debug/lib/common/debug-service';\nimport { DebugProtocol } from 'vscode-debugprotocol';\nimport { SymbolInformation } from 'vscode-languageserver-types';\nimport { ArgumentProcessor } from '../plugin/command-registry';\nimport { MaybePromise } from '@theia/core/lib/common/types';\nimport { QuickTitleButton } from '@theia/core/lib/common/quick-open-model';\n\nexport interface PreferenceData {\n    [scope: number]: any;\n}\n\nexport interface Plugin {\n    pluginPath: string | undefined;\n    pluginFolder: string;\n    model: PluginModel;\n    rawModel: PluginPackage;\n    lifecycle: PluginLifecycle;\n}\n\nexport interface ConfigStorage {\n    hostLogPath: string;\n    hostStoragePath?: string;\n    hostGlobalStoragePath: string;\n}\n\nexport enum UIKind {\n\n    /**\n     * Extensions are accessed from a desktop application.\n     */\n    Desktop = 1,\n\n    /**\n     * Extensions are accessed from a web browser.\n     */\n    Web = 2\n}\n\nexport interface EnvInit {\n    queryParams: QueryParameters;\n    language: string;\n    shell: string;\n    uiKind: UIKind,\n    appName: string;\n}\n\nexport interface PluginAPI {\n\n}\n\nexport interface PluginManager {\n    getAllPlugins(): Plugin[];\n    getPluginById(pluginId: string): Plugin | undefined;\n    getPluginExport(pluginId: string): PluginAPI | undefined;\n    isRunning(pluginId: string): boolean;\n    isActive(pluginId: string): boolean;\n    activatePlugin(pluginId: string): PromiseLike<void>;\n    onDidChange: theia.Event<void>;\n}\n\nexport interface PluginAPIFactory {\n    (plugin: Plugin): typeof theia;\n}\n\nexport const emptyPlugin: Plugin = {\n    lifecycle: {\n        startMethod: 'empty',\n        stopMethod: 'empty'\n    },\n    model: {\n        id: 'emptyPlugin',\n        name: 'emptyPlugin',\n        publisher: 'Theia',\n        version: 'empty',\n        displayName: 'empty',\n        description: 'empty',\n        engine: {\n            type: 'empty',\n            version: 'empty'\n        },\n        packagePath: 'empty',\n        packageUri: 'empty',\n        entryPoint: {\n\n        }\n    },\n    pluginPath: 'empty',\n    pluginFolder: 'empty',\n    rawModel: {\n        name: 'emptyPlugin',\n        publisher: 'Theia',\n        version: 'empty',\n        displayName: 'empty',\n        description: 'empty',\n        engines: {\n            type: 'empty',\n            version: 'empty'\n        },\n        packagePath: 'empty'\n    }\n};\n\nexport interface PluginManagerInitializeParams {\n    preferences: PreferenceData\n    globalState: KeysToKeysToAnyValue\n    workspaceState: KeysToKeysToAnyValue\n    env: EnvInit\n    extApi?: ExtPluginApi[]\n    webview: WebviewInitData\n    jsonValidation: PluginJsonValidationContribution[]\n}\n\nexport interface PluginManagerStartParams {\n    plugins: PluginMetadata[]\n    configStorage: ConfigStorage\n    activationEvents: string[]\n}\n\nexport interface PluginManagerExt {\n\n    /** initialize the manager, should be called only once */\n    $init(params: PluginManagerInitializeParams): Promise<void>;\n\n    /** load and activate plugins */\n    $start(params: PluginManagerStartParams): Promise<void>;\n\n    /** deactivate the plugin */\n    $stop(pluginId: string): Promise<void>;\n\n    /** deactivate all plugins */\n    $stop(): Promise<void>;\n\n    $updateStoragePath(path: string | undefined): Promise<void>;\n\n    $activateByEvent(event: string): Promise<void>;\n\n    $activatePlugin(id: string): Promise<void>;\n}\n\nexport interface CommandRegistryMain {\n    $registerCommand(command: theia.CommandDescription): void;\n    $unregisterCommand(id: string): void;\n\n    $registerHandler(id: string): void;\n    $unregisterHandler(id: string): void;\n\n    $executeCommand<T>(id: string, ...args: any[]): PromiseLike<T | undefined>;\n    $getCommands(): PromiseLike<string[]>;\n    $getKeyBinding(commandId: string): PromiseLike<theia.CommandKeyBinding[] | undefined>;\n}\n\nexport interface CommandRegistryExt {\n    $executeCommand<T>(id: string, ...ars: any[]): PromiseLike<T | undefined>;\n    registerArgumentProcessor(processor: ArgumentProcessor): void;\n}\n\nexport interface TerminalServiceExt {\n    $terminalCreated(id: string, name: string): void;\n    $terminalNameChanged(id: string, name: string): void;\n    $terminalOpened(id: string, processId: number, cols: number, rows: number): void;\n    $terminalClosed(id: string): void;\n    $terminalOnInput(id: string, data: string): void;\n    $terminalSizeChanged(id: string, cols: number, rows: number): void;\n    $currentTerminalChanged(id: string | undefined): void;\n}\nexport interface OutputChannelRegistryExt {\n    createOutputChannel(name: string, pluginInfo: PluginInfo): theia.OutputChannel\n}\n\nexport interface ConnectionMain {\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>;\n    $sendMessage(id: string, message: string): void;\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>;\n}\n\nexport interface ConnectionExt {\n    $createConnection(id: string): Promise<void>;\n    $deleteConnection(id: string): Promise<void>\n    $sendMessage(id: string, message: string): void;\n}\n\nexport interface TerminalServiceMain {\n    /**\n     * Create new Terminal with Terminal options.\n     * @param options - object with parameters to create new terminal.\n     */\n    $createTerminal(id: string, options: theia.TerminalOptions, isPseudoTerminal?: boolean): Promise<string>;\n\n    /**\n     * Send text to the terminal by id.\n     * @param id - terminal id.\n     * @param text - text content.\n     * @param addNewLine - in case true - add new line after the text, otherwise - don't apply new line.\n     */\n    $sendText(id: string, text: string, addNewLine?: boolean): void;\n\n    /**\n     * Write data to the terminal by id.\n     * @param id - terminal id.\n     * @param data - data.\n     */\n    $write(id: string, data: string): void;\n\n    /**\n     * Resize the terminal by id.\n     * @param id - terminal id.\n     * @param cols - columns.\n     * @param rows - rows.\n     */\n    $resize(id: string, cols: number, rows: number): void;\n\n    /**\n     * Show terminal on the UI panel.\n     * @param id - terminal id.\n     * @param preserveFocus - set terminal focus in case true value, and don't set focus otherwise.\n     */\n    $show(id: string, preserveFocus?: boolean): void;\n\n    /**\n     * Hide UI panel where is located terminal widget.\n     * @param id - terminal id.\n     */\n    $hide(id: string): void;\n\n    /**\n     * Destroy terminal.\n     * @param id - terminal id.\n     */\n    $dispose(id: string): void;\n}\n\nexport interface AutoFocus {\n    autoFocusFirstEntry?: boolean;\n    // TODO\n}\n\nexport interface PickOptions {\n    placeHolder?: string;\n    autoFocus?: AutoFocus;\n    matchOnDescription?: boolean;\n    matchOnDetail?: boolean;\n    ignoreFocusLost?: boolean;\n    quickNavigationConfiguration?: {}; // TODO\n    contextKey?: string;\n    canSelectMany?: boolean;\n}\n\nexport interface PickOpenItem {\n    handle: number;\n    label: string;\n    description?: string;\n    detail?: string;\n    picked?: boolean;\n    groupLabel?: string;\n    showBorder?: boolean;\n}\n\nexport enum MainMessageType {\n    Error,\n    Warning,\n    Info\n}\n\nexport interface MainMessageOptions {\n    modal?: boolean\n    onCloseActionHandle?: number\n}\n\nexport interface MainMessageItem {\n    title: string,\n    isCloseAffordance?: boolean;\n    handle?: number\n}\n\nexport interface MessageRegistryMain {\n    $showMessage(type: MainMessageType, message: string, options: MainMessageOptions, actions: MainMessageItem[]): PromiseLike<number | undefined>;\n}\n\nexport interface StatusBarMessageRegistryMain {\n    $setMessage(id: string,\n        text: string | undefined,\n        priority: number,\n        alignment: theia.StatusBarAlignment,\n        color: string | undefined,\n        tooltip: string | undefined,\n        command: string | undefined,\n        args: any[] | undefined): PromiseLike<void>;\n    $dispose(id: string): void;\n}\n\nexport interface QuickOpenExt {\n    $onItemSelected(handle: number): void;\n    $validateInput(input: string): PromiseLike<string | undefined> | undefined;\n\n    $acceptOnDidAccept(quickInputNumber: number): Promise<void>;\n    $acceptDidChangeValue(quickInputNumber: number, changedValue: string): Promise<void>;\n    $acceptOnDidHide(quickInputNumber: number): Promise<void>;\n    $acceptOnDidTriggerButton(quickInputNumber: number, btn: QuickTitleButton): Promise<void>;\n    $onDidChangeActive(sessionId: number, handles: number[]): void;\n    $onDidChangeSelection(sessionId: number, handles: number[]): void;\n}\n\n/**\n * Options to configure the behaviour of a file open dialog.\n */\nexport interface OpenDialogOptionsMain {\n    /**\n     * The resource the dialog shows when opened.\n     */\n    defaultUri?: string;\n\n    /**\n     * A human-readable string for the open button.\n     */\n    openLabel?: string;\n\n    /**\n     * Allow to select files, defaults to `true`.\n     */\n    canSelectFiles?: boolean;\n\n    /**\n     * Allow to select folders, defaults to `false`.\n     */\n    canSelectFolders?: boolean;\n\n    /**\n     * Allow to select many files or folders.\n     */\n    canSelectMany?: boolean;\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     * \t'Images': ['png', 'jpg']\n     * \t'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: { [name: string]: string[] };\n}\n\n/**\n * Options to configure the behaviour of a file save dialog.\n */\nexport interface SaveDialogOptionsMain {\n    /**\n     * The resource the dialog shows when opened.\n     */\n    defaultUri?: string;\n\n    /**\n     * A human-readable string for the save button.\n     */\n    saveLabel?: string;\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     * \t'Images': ['png', 'jpg']\n     * \t'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: { [name: string]: string[] };\n}\n\n/**\n * Options to configure the behaviour of a file upload dialog.\n */\nexport interface UploadDialogOptionsMain {\n    /**\n     * The resource, where files should be uploaded.\n     */\n    defaultUri?: string;\n}\n\nexport interface FileUploadResultMain {\n    uploaded: string[]\n}\n\n/**\n * Options to configure the behaviour of the [workspace folder](#WorkspaceFolder) pick UI.\n */\nexport interface WorkspaceFolderPickOptionsMain {\n    /**\n     * An optional string to show as place holder in the input box to guide the user what to pick on.\n     */\n    placeHolder?: string;\n\n    /**\n     * Set to `true` to keep the picker open when focus moves to another part of the editor or to another window.\n     */\n    ignoreFocusOut?: boolean;\n}\n\nexport interface QuickInputTitleButtonHandle extends QuickTitleButton {\n    index: number; // index of where they are in buttons array if QuickInputButton or -1 if QuickInputButtons.Back\n}\n\nexport interface TransferQuickInput {\n    id: number;\n    title: string | undefined;\n    step: number | undefined;\n    totalSteps: number | undefined;\n    enabled: boolean;\n    busy: boolean;\n    ignoreFocusOut: boolean;\n}\n\nexport interface TransferInputBox extends TransferQuickInput {\n    value: string;\n    placeholder: string | undefined;\n    password: boolean;\n    buttons: ReadonlyArray<QuickInputButton>;\n    prompt: string | undefined;\n    validationMessage: string | undefined;\n    validateInput(value: string): MaybePromise<string | undefined>;\n}\n\nexport interface TransferQuickPick<T extends theia.QuickPickItem> extends TransferQuickInput {\n    value: string;\n    placeholder: string | undefined;\n    buttons: ReadonlyArray<QuickInputButton>;\n    items: PickOpenItem[];\n    canSelectMany: boolean;\n    matchOnDescription: boolean;\n    matchOnDetail: boolean;\n    activeItems: ReadonlyArray<T>;\n    selectedItems: ReadonlyArray<T>;\n}\n\nexport interface QuickOpenMain {\n    $show(options: PickOptions, token: CancellationToken): Promise<number | number[]>;\n    $setItems(items: PickOpenItem[]): Promise<any>;\n    $input(options: theia.InputBoxOptions, validateInput: boolean, token: CancellationToken): Promise<string | undefined>;\n    $hide(): void;\n    $showInputBox(inputBox: TransferInputBox, validateInput: boolean): void;\n    $showCustomQuickPick<T extends theia.QuickPickItem>(inputBox: TransferQuickPick<T>): void;\n    $setQuickInputChanged(changed: object): void;\n    $refreshQuickInput(): void;\n}\n\nexport interface WorkspaceMain {\n    $pickWorkspaceFolder(options: WorkspaceFolderPickOptionsMain): Promise<theia.WorkspaceFolder | undefined>;\n    $startFileSearch(includePattern: string, includeFolder: string | undefined, excludePatternOrDisregardExcludes: string | false,\n        maxResults: number | undefined, token: theia.CancellationToken): PromiseLike<UriComponents[]>;\n    $findTextInFiles(query: theia.TextSearchQuery, options: theia.FindTextInFilesOptions, searchRequestId: number,\n        token?: theia.CancellationToken): Promise<theia.TextSearchComplete>\n    $registerTextDocumentContentProvider(scheme: string): Promise<void>;\n    $unregisterTextDocumentContentProvider(scheme: string): void;\n    $onTextDocumentContentChange(uri: string, content: string): void;\n    $registerFileSystemWatcher(options: FileWatcherSubscriberOptions): Promise<string>;\n    $unregisterFileSystemWatcher(watcherId: string): Promise<void>;\n    $updateWorkspaceFolders(start: number, deleteCount?: number, ...rootsToAdd: string[]): Promise<void>;\n}\n\nexport interface WorkspaceExt {\n    $onWorkspaceFoldersChanged(event: WorkspaceRootsChangeEvent): void;\n    $provideTextDocumentContent(uri: string): Promise<string | undefined>;\n    $fileChanged(event: FileChangeEvent): void;\n\n    $onWillCreateFiles(event: CreateFilesEventDTO): Promise<any[]>;\n    $onDidCreateFiles(event: CreateFilesEventDTO): void;\n    $onWillRenameFiles(event: RenameFilesEventDTO): Promise<any[]>;\n    $onDidRenameFiles(event: RenameFilesEventDTO): void;\n    $onWillDeleteFiles(event: DeleteFilesEventDTO): Promise<any[]>;\n    $onDidDeleteFiles(event: DeleteFilesEventDTO): void;\n    $onTextSearchResult(searchRequestId: number, done: boolean, result?: SearchInWorkspaceResult): void;\n}\n\nexport interface DialogsMain {\n    $showOpenDialog(options: OpenDialogOptionsMain): Promise<string[] | undefined>;\n    $showSaveDialog(options: SaveDialogOptionsMain): Promise<string | undefined>;\n    $showUploadDialog(options: UploadDialogOptionsMain): Promise<string[] | undefined>;\n}\n\nexport interface TreeViewRevealOptions {\n    select: boolean\n    focus: boolean\n    expand: boolean | number\n}\n\nexport interface TreeViewsMain {\n    $registerTreeDataProvider(treeViewId: string): void;\n    $unregisterTreeDataProvider(treeViewId: string): void;\n    $refresh(treeViewId: string): Promise<void>;\n    $reveal(treeViewId: string, treeItemId: string, options: TreeViewRevealOptions): Promise<any>;\n    $setMessage(treeViewId: string, message: string): void;\n    $setTitle(treeViewId: string, title: string): void;\n}\n\nexport interface TreeViewsExt {\n    $getChildren(treeViewId: string, treeItemId: string | undefined): Promise<TreeViewItem[] | undefined>;\n    $setExpanded(treeViewId: string, treeItemId: string, expanded: boolean): Promise<any>;\n    $setSelection(treeViewId: string, treeItemIds: string[]): Promise<void>;\n    $setVisible(treeViewId: string, visible: boolean): Promise<void>;\n}\n\nexport interface TreeViewItem {\n\n    id: string;\n\n    label: string;\n\n    description?: string | boolean;\n\n    /* font-awesome icon for compatibility */\n    icon?: string;\n    iconUrl?: IconUrl;\n\n    themeIconId?: string;\n\n    resourceUri?: UriComponents;\n\n    tooltip?: string;\n\n    collapsibleState?: TreeViewItemCollapsibleState;\n\n    contextValue?: string;\n\n    command?: Command;\n\n}\n\nexport interface TreeViewSelection {\n    treeViewId: string\n    treeItemId: string\n}\nexport namespace TreeViewSelection {\n    export function is(arg: Object | any): arg is TreeViewSelection {\n        return !!arg && typeof arg === 'object' && 'treeViewId' in arg && 'treeItemId' in arg;\n    }\n}\n\n/**\n * Collapsible state of the tree item\n */\nexport enum TreeViewItemCollapsibleState {\n    /**\n     * Determines an item can be neither collapsed nor expanded. Implies it has no children.\n     */\n    None = 0,\n    /**\n     * Determines an item is collapsed\n     */\n    Collapsed = 1,\n    /**\n     * Determines an item is expanded\n     */\n    Expanded = 2\n}\n\nexport interface WindowMain {\n    $openUri(uri: UriComponents): Promise<boolean>;\n    $asExternalUri(uri: UriComponents): Promise<UriComponents>;\n}\n\nexport interface WindowStateExt {\n    $onWindowStateChanged(focus: boolean): void;\n}\n\nexport interface NotificationExt {\n    withProgress<R>(\n        options: ProgressOptions,\n        task: (progress: Progress<{ message?: string; increment?: number }>, token: CancellationToken) => PromiseLike<R>\n    ): PromiseLike<R>;\n}\n\nexport interface ScmCommandArg {\n    sourceControlHandle: number\n    resourceGroupHandle?: number\n    resourceStateHandle?: number\n}\nexport namespace ScmCommandArg {\n    export function is(arg: Object | undefined): arg is ScmCommandArg {\n        return !!arg && typeof arg === 'object' && 'sourceControlHandle' in arg;\n    }\n}\n\nexport interface ScmExt {\n    createSourceControl(plugin: Plugin, id: string, label: string, rootUri?: theia.Uri): theia.SourceControl;\n    getLastInputBox(plugin: Plugin): theia.SourceControlInputBox | undefined;\n    $updateInputBox(sourceControlHandle: number, message: string): Promise<void>;\n    $executeResourceCommand(sourceControlHandle: number, groupHandle: number, resourceHandle: number): Promise<void>;\n    $provideOriginalResource(sourceControlHandle: number, uri: string, token: CancellationToken): Promise<UriComponents | undefined>;\n    $setSourceControlSelection(sourceControlHandle: number, selected: boolean): Promise<void>;\n}\n\nexport interface DecorationsExt {\n    registerDecorationProvider(provider: theia.DecorationProvider): theia.Disposable\n    $provideDecoration(id: number, uri: string): Promise<DecorationData | undefined>\n}\n\nexport interface DecorationsMain {\n    $registerDecorationProvider(id: number, provider: DecorationProvider): Promise<number>;\n    $fireDidChangeDecorations(id: number, arg: undefined | string | string[]): Promise<void>;\n    $dispose(id: number): Promise<void>;\n}\n\nexport interface DecorationData {\n    letter?: string;\n    title?: string;\n    color?: ThemeColor;\n    priority?: number;\n    bubble?: boolean;\n    source?: string;\n}\n\nexport interface ScmMain {\n    $registerSourceControl(sourceControlHandle: number, id: string, label: string, rootUri?: string): Promise<void>\n    $updateSourceControl(sourceControlHandle: number, features: SourceControlProviderFeatures): Promise<void>;\n    $unregisterSourceControl(sourceControlHandle: number): Promise<void>;\n\n    $registerGroup(sourceControlHandle: number, groupHandle: number, id: string, label: string): Promise<void>;\n    $updateGroup(sourceControlHandle: number, groupHandle: number, features: SourceControlGroupFeatures): Promise<void>;\n    $updateGroupLabel(sourceControlHandle: number, groupHandle: number, label: string): Promise<void>;\n    $updateResourceState(sourceControlHandle: number, groupHandle: number, resources: SourceControlResourceState[]): Promise<void>;\n    $unregisterGroup(sourceControlHandle: number, groupHandle: number): Promise<void>;\n\n    $setInputBoxValue(sourceControlHandle: number, value: string): Promise<void>;\n    $setInputBoxPlaceholder(sourceControlHandle: number, placeholder: string): Promise<void>;\n}\n\nexport interface SourceControlProviderFeatures {\n    hasQuickDiffProvider?: boolean;\n    count?: number;\n    commitTemplate?: string;\n    acceptInputCommand?: Command;\n    statusBarCommands?: Command[];\n}\n\nexport interface SourceControlGroupFeatures {\n    hideWhenEmpty: boolean | undefined;\n}\n\nexport interface SourceControlResourceState {\n    readonly handle: number\n    /**\n     * The uri of the underlying resource inside the workspace.\n     */\n    readonly resourceUri: string;\n\n    /**\n     * The command which should be run when the resource\n     * state is open in the Source Control viewlet.\n     */\n    readonly command?: Command;\n\n    /**\n     * The decorations for this source control\n     * resource state.\n     */\n    readonly decorations?: SourceControlResourceDecorations;\n\n    readonly letter?: string;\n\n    readonly colorId?: string\n}\n\n/**\n * The decorations for a [source control resource state](#SourceControlResourceState).\n * Can be independently specified for light and dark themes.\n */\nexport interface SourceControlResourceDecorations {\n\n    /**\n     * Whether the source control resource state should be striked-through in the UI.\n     */\n    readonly strikeThrough?: boolean;\n\n    /**\n     * Whether the source control resource state should be faded in the UI.\n     */\n    readonly faded?: boolean;\n\n    /**\n     * The title for a specific source control resource state.\n     */\n    readonly tooltip?: string;\n\n    /**\n     * The icon path for a specific source control resource state.\n     */\n    readonly iconPath?: string;\n}\n\nexport interface DecorationProvider {\n    provideDecoration(uri: string): Promise<DecorationData | undefined>;\n}\n\nexport interface NotificationMain {\n    $startProgress(options: NotificationMain.StartProgressOptions): Promise<string>;\n    $stopProgress(id: string): void;\n    $updateProgress(id: string, report: NotificationMain.ProgressReport): void;\n}\nexport namespace NotificationMain {\n    export interface StartProgressOptions {\n        title: string;\n        location?: string;\n        cancellable?: boolean;\n    }\n    export interface ProgressReport {\n        message?: string;\n        increment?: number;\n        total?: number;\n    }\n}\n\nexport enum EditorPosition {\n    ONE = 0,\n    TWO = 1,\n    THREE = 2,\n    FOUR = 3,\n    FIVE = 4,\n    SIX = 5,\n    SEVEN = 6,\n    EIGHT = 7,\n    NINE = 8\n}\n\nexport interface Position {\n    readonly lineNumber: number;\n    readonly column: number;\n}\n\nexport interface Selection {\n    /**\n     * The line number on which the selection has started.\n     */\n    readonly selectionStartLineNumber: number;\n    /**\n     * The column on `selectionStartLineNumber` where the selection has started.\n     */\n    readonly selectionStartColumn: number;\n    /**\n     * The line number on which the selection has ended.\n     */\n    readonly positionLineNumber: number;\n    /**\n     * The column on `positionLineNumber` where the selection has ended.\n     */\n    readonly positionColumn: number;\n}\n\nexport interface TextEditorConfiguration {\n    tabSize: number;\n    insertSpaces: boolean;\n    cursorStyle: TextEditorCursorStyle;\n    lineNumbers: TextEditorLineNumbersStyle;\n}\n\nexport interface TextEditorConfigurationUpdate {\n    tabSize?: number | 'auto';\n    insertSpaces?: boolean | 'auto';\n    cursorStyle?: TextEditorCursorStyle;\n    lineNumbers?: TextEditorLineNumbersStyle;\n}\n\nexport enum TextEditorRevealType {\n    Default = 0,\n    InCenter = 1,\n    InCenterIfOutsideViewport = 2,\n    AtTop = 3\n}\n\nexport interface SelectionChangeEvent {\n    selections: Selection[];\n    source?: string;\n}\n\nexport interface EditorChangedPropertiesData {\n    options?: TextEditorConfiguration;\n    selections?: SelectionChangeEvent;\n    visibleRanges?: Range[];\n}\n\nexport interface TextEditorPositionData {\n    [id: string]: EditorPosition;\n}\n\nexport interface TextEditorsExt {\n    $acceptEditorPropertiesChanged(id: string, props: EditorChangedPropertiesData): void;\n    $acceptEditorPositionData(data: TextEditorPositionData): void;\n}\n\nexport interface SingleEditOperation {\n    range?: Range;\n    text?: string;\n    forceMoveMarkers?: boolean;\n}\n\nexport interface UndoStopOptions {\n    undoStopBefore: boolean;\n    undoStopAfter: boolean;\n}\n\nexport interface ApplyEditsOptions extends UndoStopOptions {\n    setEndOfLine: EndOfLine;\n}\n\nexport interface ThemeColor {\n    id: string;\n}\n\n/**\n * Describes the behavior of decorations when typing/editing near their edges.\n */\nexport enum TrackedRangeStickiness {\n    AlwaysGrowsWhenTypingAtEdges = 0,\n    NeverGrowsWhenTypingAtEdges = 1,\n    GrowsOnlyWhenTypingBefore = 2,\n    GrowsOnlyWhenTypingAfter = 3,\n}\nexport interface ContentDecorationRenderOptions {\n    contentText?: string;\n    contentIconPath?: UriComponents;\n\n    border?: string;\n    borderColor?: string | ThemeColor;\n    fontStyle?: string;\n    fontWeight?: string;\n    textDecoration?: string;\n    color?: string | ThemeColor;\n    backgroundColor?: string | ThemeColor;\n\n    margin?: string;\n    width?: string;\n    height?: string;\n}\n\nexport interface ThemeDecorationRenderOptions {\n    backgroundColor?: string | ThemeColor;\n\n    outline?: string;\n    outlineColor?: string | ThemeColor;\n    outlineStyle?: string;\n    outlineWidth?: string;\n\n    border?: string;\n    borderColor?: string | ThemeColor;\n    borderRadius?: string;\n    borderSpacing?: string;\n    borderStyle?: string;\n    borderWidth?: string;\n\n    fontStyle?: string;\n    fontWeight?: string;\n    textDecoration?: string;\n    cursor?: string;\n    color?: string | ThemeColor;\n    opacity?: string;\n    letterSpacing?: string;\n\n    gutterIconPath?: UriComponents;\n    gutterIconSize?: string;\n\n    overviewRulerColor?: string | ThemeColor;\n\n    before?: ContentDecorationRenderOptions;\n    after?: ContentDecorationRenderOptions;\n}\n\nexport interface DecorationRenderOptions extends ThemeDecorationRenderOptions {\n    isWholeLine?: boolean;\n    rangeBehavior?: TrackedRangeStickiness;\n    overviewRulerLane?: OverviewRulerLane;\n\n    light?: ThemeDecorationRenderOptions;\n    dark?: ThemeDecorationRenderOptions;\n}\n\nexport interface ThemeDecorationInstanceRenderOptions {\n    before?: ContentDecorationRenderOptions;\n    after?: ContentDecorationRenderOptions;\n}\n\nexport interface DecorationInstanceRenderOptions extends ThemeDecorationInstanceRenderOptions {\n    light?: ThemeDecorationInstanceRenderOptions;\n    dark?: ThemeDecorationInstanceRenderOptions;\n}\n\nexport interface DecorationOptions {\n    range: Range;\n    hoverMessage?: MarkdownString | MarkdownString[];\n    renderOptions?: DecorationInstanceRenderOptions;\n}\n\nexport interface TextEditorsMain {\n    // $tryShowTextDocument(resource: UriComponents, options: TextDocumentShowOptions): Promise<string>;\n    $registerTextEditorDecorationType(key: string, options: DecorationRenderOptions): void;\n    $removeTextEditorDecorationType(key: string): void;\n    // $tryShowEditor(id: string, position: EditorPosition): Promise<void>;\n    // $tryHideEditor(id: string): Promise<void>;\n    $trySetOptions(id: string, options: TextEditorConfigurationUpdate): Promise<void>;\n    $trySetDecorations(id: string, key: string, ranges: DecorationOptions[]): Promise<void>;\n    $trySetDecorationsFast(id: string, key: string, ranges: number[]): Promise<void>;\n    $tryRevealRange(id: string, range: Range, revealType: TextEditorRevealType): Promise<void>;\n    $trySetSelections(id: string, selections: Selection[]): Promise<void>;\n    $tryApplyEdits(id: string, modelVersionId: number, edits: SingleEditOperation[], opts: ApplyEditsOptions): Promise<boolean>;\n    $tryApplyWorkspaceEdit(workspaceEditDto: WorkspaceEditDto): Promise<boolean>;\n    $tryInsertSnippet(id: string, template: string, selections: Range[], opts: UndoStopOptions): Promise<boolean>;\n    $saveAll(includeUntitled?: boolean): Promise<boolean>;\n    // $getDiffInformation(id: string): Promise<editorCommon.ILineChange[]>;\n}\n\nexport interface ModelAddedData {\n    uri: UriComponents;\n    versionId: number;\n    lines: string[];\n    EOL: string;\n    modeId: string;\n    isDirty: boolean;\n}\n\nexport interface TextEditorAddData {\n    id: string;\n    documentUri: UriComponents;\n    options: TextEditorConfiguration;\n    selections: Selection[];\n    visibleRanges: Range[];\n    editorPosition?: EditorPosition;\n}\n\nexport interface EditorsAndDocumentsDelta {\n    removedDocuments?: UriComponents[];\n    addedDocuments?: ModelAddedData[];\n    removedEditors?: string[];\n    addedEditors?: TextEditorAddData[];\n    /**\n     * undefined means no changes\n     * null means no active\n     * string means id of active\n     */\n    newActiveEditor?: string | null;\n}\n\nexport interface EditorsAndDocumentsExt {\n    $acceptEditorsAndDocumentsDelta(delta: EditorsAndDocumentsDelta): void;\n}\n\nexport interface ModelContentChange {\n    readonly range: Range;\n    readonly rangeOffset: number;\n    readonly rangeLength: number;\n    readonly text: string;\n}\nexport interface ModelChangedEvent {\n    readonly changes: ModelContentChange[];\n\n    readonly eol: string;\n\n    readonly versionId: number;\n}\n\nexport interface DocumentsExt {\n    $acceptModelModeChanged(startUrl: UriComponents, oldModeId: string, newModeId: string): void;\n    $acceptModelSaved(strUrl: UriComponents): void;\n    $acceptModelWillSave(strUrl: UriComponents, reason: theia.TextDocumentSaveReason, saveTimeout: number): Promise<SingleEditOperation[]>;\n    $acceptDirtyStateChanged(strUrl: UriComponents, isDirty: boolean): void;\n    $acceptModelChanged(strUrl: UriComponents, e: ModelChangedEvent, isDirty: boolean): void;\n}\n\nexport interface DocumentsMain {\n    $tryCreateDocument(options?: { language?: string; content?: string; }): Promise<UriComponents>;\n    $tryShowDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void>;\n    $tryOpenDocument(uri: UriComponents): Promise<boolean>;\n    $trySaveDocument(uri: UriComponents): Promise<boolean>;\n    $tryCloseDocument(uri: UriComponents): Promise<boolean>;\n}\n\nexport interface EnvMain {\n    $getEnvVariable(envVarName: string): Promise<string | undefined>;\n    $getClientOperatingSystem(): Promise<theia.OperatingSystem>;\n}\n\nexport interface PreferenceRegistryMain {\n    $updateConfigurationOption(\n        target: boolean | ConfigurationTarget | undefined,\n        key: string,\n        value: any,\n        resource?: string\n    ): PromiseLike<void>;\n    $removeConfigurationOption(\n        target: boolean | ConfigurationTarget | undefined,\n        key: string,\n        resource?: string\n    ): PromiseLike<void>;\n}\n\nexport interface PreferenceChangeExt {\n    preferenceName: string,\n    newValue: any\n}\n\nexport interface TerminalOptionsExt {\n    attributes?: {\n        [key: string]: string;\n    }\n}\n\nexport interface PreferenceRegistryExt {\n    $acceptConfigurationChanged(data: { [key: string]: any }, eventData: PreferenceChangeExt[]): void;\n}\n\nexport interface OutputChannelRegistryMain {\n    $append(channelName: string, value: string, pluginInfo: PluginInfo): PromiseLike<void>;\n    $clear(channelName: string): PromiseLike<void>;\n    $dispose(channelName: string): PromiseLike<void>;\n    $reveal(channelName: string, preserveFocus: boolean): PromiseLike<void>;\n    $close(channelName: string): PromiseLike<void>;\n}\n\nexport type CharacterPair = [string, string];\n\nexport interface CommentRule {\n    lineComment?: string;\n    blockComment?: CharacterPair;\n}\n\nexport interface SerializedRegExp {\n    pattern: string;\n    flags?: string;\n}\n\nexport interface SerializedIndentationRule {\n    decreaseIndentPattern?: SerializedRegExp;\n    increaseIndentPattern?: SerializedRegExp;\n    indentNextLinePattern?: SerializedRegExp;\n    unIndentedLinePattern?: SerializedRegExp;\n}\n\nexport interface EnterAction {\n    indentAction: IndentAction;\n    outdentCurrentLine?: boolean;\n    appendText?: string;\n    removeText?: number;\n}\n\nexport interface SerializedOnEnterRule {\n    beforeText: SerializedRegExp;\n    afterText?: SerializedRegExp;\n    action: EnterAction;\n}\n\nexport interface SerializedLanguageConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    wordPattern?: SerializedRegExp;\n    indentationRules?: SerializedIndentationRule;\n    onEnterRules?: SerializedOnEnterRule[];\n}\n\nexport interface CodeActionDto {\n    title: string;\n    edit?: WorkspaceEditDto;\n    diagnostics?: MarkerData[];\n    command?: Command;\n    kind?: string;\n}\n\nexport interface ResourceFileEditDto {\n    oldUri: UriComponents;\n    newUri: UriComponents;\n    options: FileOperationOptions;\n}\n\nexport interface ResourceTextEditDto {\n    resource: UriComponents;\n    modelVersionId?: number;\n    edits: TextEdit[];\n}\nexport namespace ResourceTextEditDto {\n    export function is(arg: Object): arg is ResourceTextEditDto {\n        return !!arg && typeof arg === 'object' && 'resource' in arg && 'edits' in arg;\n    }\n}\n\nexport interface WorkspaceEditDto {\n    edits: (ResourceFileEditDto | ResourceTextEditDto)[];\n    rejectReason?: string;\n}\n\nexport interface LanguagesContributionExt {\n    $start(languageServerInfo: theia.LanguageServerInfo): void;\n}\n\nexport interface LanguagesContributionMain {\n    $registerLanguageServerProvider(languageServerInfo: theia.LanguageServerInfo): void\n    $stop(id: string): void\n}\n\nexport interface CommandProperties {\n    command: string;\n    args?: string[];\n    options?: {\n        cwd?: string;\n        [key: string]: any\n    };\n}\n\nexport interface TaskDto {\n    type: string;\n    label: string;\n    source?: string;\n    scope: string | number;\n    detail?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n}\n\nexport interface TaskExecutionDto {\n    id: number;\n    task: TaskDto;\n}\n\nexport interface ProcessTaskDto extends TaskDto, CommandProperties {\n    windows?: CommandProperties;\n}\n\nexport interface PluginInfo {\n    id: string;\n    name: string;\n}\n\nexport interface LanguagesExt {\n    $provideCompletionItems(handle: number, resource: UriComponents, position: Position,\n        context: CompletionContext, token: CancellationToken): Promise<CompletionResultDto | undefined>;\n    $resolveCompletionItem(handle: number, parentId: number, id: number, token: CancellationToken): Promise<Completion | undefined>;\n    $releaseCompletionItems(handle: number, id: number): void;\n    $provideImplementation(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<Definition | undefined>;\n    $provideTypeDefinition(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<Definition | undefined>;\n    $provideDefinition(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<Definition | undefined>;\n    $provideDeclaration(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<Definition | undefined>;\n    $provideReferences(handle: number, resource: UriComponents, position: Position, context: ReferenceContext, token: CancellationToken): Promise<Location[] | undefined>;\n    $provideSignatureHelp(\n        handle: number, resource: UriComponents, position: Position, context: SignatureHelpContext, token: CancellationToken\n    ): Promise<SignatureHelp | undefined>;\n    $releaseSignatureHelp(handle: number, id: number): void;\n    $provideHover(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<Hover | undefined>;\n    $provideDocumentHighlights(handle: number, resource: UriComponents, position: Position, token: CancellationToken): Promise<DocumentHighlight[] | undefined>;\n    $provideDocumentFormattingEdits(handle: number, resource: UriComponents,\n        options: FormattingOptions, token: CancellationToken): Promise<TextEdit[] | undefined>;\n    $provideDocumentRangeFormattingEdits(handle: number, resource: UriComponents, range: Range,\n        options: FormattingOptions, token: CancellationToken): Promise<TextEdit[] | undefined>;\n    $provideOnTypeFormattingEdits(\n        handle: number,\n        resource: UriComponents,\n        position: Position,\n        ch: string,\n        options: FormattingOptions,\n        token: CancellationToken\n    ): Promise<TextEdit[] | undefined>;\n    $provideDocumentLinks(handle: number, resource: UriComponents, token: CancellationToken): Promise<DocumentLink[] | undefined>;\n    $resolveDocumentLink(handle: number, link: DocumentLink, token: CancellationToken): Promise<DocumentLink | undefined>;\n    $releaseDocumentLinks(handle: number, ids: number[]): void;\n    $provideCodeLenses(handle: number, resource: UriComponents, token: CancellationToken): Promise<CodeLensSymbol[] | undefined>;\n    $resolveCodeLens(handle: number, resource: UriComponents, symbol: CodeLensSymbol, token: CancellationToken): Promise<CodeLensSymbol | undefined>;\n    $releaseCodeLenses(handle: number, ids: number[]): void;\n    $provideCodeActions(\n        handle: number,\n        resource: UriComponents,\n        rangeOrSelection: Range | Selection,\n        context: CodeActionContext,\n        token: CancellationToken\n    ): Promise<CodeAction[] | undefined>;\n    $provideDocumentSymbols(handle: number, resource: UriComponents, token: CancellationToken): Promise<DocumentSymbol[] | undefined>;\n    $provideWorkspaceSymbols(handle: number, query: string, token: CancellationToken): PromiseLike<SymbolInformation[]>;\n    $resolveWorkspaceSymbol(handle: number, symbol: SymbolInformation, token: CancellationToken): PromiseLike<SymbolInformation | undefined>;\n    $provideFoldingRange(\n        handle: number,\n        resource: UriComponents,\n        context: FoldingContext,\n        token: CancellationToken\n    ): PromiseLike<FoldingRange[] | undefined>;\n    $provideSelectionRanges(handle: number, resource: UriComponents, positions: Position[], token: CancellationToken): PromiseLike<SelectionRange[][]>;\n    $provideDocumentColors(handle: number, resource: UriComponents, token: CancellationToken): PromiseLike<RawColorInfo[]>;\n    $provideColorPresentations(handle: number, resource: UriComponents, colorInfo: RawColorInfo, token: CancellationToken): PromiseLike<ColorPresentation[]>;\n    $provideRenameEdits(handle: number, resource: UriComponents, position: Position, newName: string, token: CancellationToken): PromiseLike<WorkspaceEditDto | undefined>;\n    $resolveRenameLocation(handle: number, resource: UriComponents, position: Position, token: CancellationToken): PromiseLike<RenameLocation | undefined>;\n    $provideRootDefinition(handle: number, resource: UriComponents, location: Position, token: CancellationToken): Promise<CallHierarchyDefinition | undefined>;\n    $provideCallers(handle: number, definition: CallHierarchyDefinition, token: CancellationToken): Promise<CallHierarchyReference[] | undefined>;\n}\n\nexport const LanguagesMainFactory = Symbol('LanguagesMainFactory');\nexport interface LanguagesMainFactory {\n    (proxy: RPCProtocol): LanguagesMain;\n}\n\nexport const OutputChannelRegistryFactory = Symbol('OutputChannelRegistryFactory');\nexport interface OutputChannelRegistryFactory {\n    (): OutputChannelRegistryMain;\n}\n\nexport interface LanguagesMain {\n    $getLanguages(): Promise<string[]>;\n    $changeLanguage(resource: UriComponents, languageId: string): Promise<void>;\n    $setLanguageConfiguration(handle: number, languageId: string, configuration: SerializedLanguageConfiguration): void;\n    $unregister(handle: number): void;\n    $registerCompletionSupport(handle: number, pluginInfo: PluginInfo,\n        selector: SerializedDocumentFilter[], triggerCharacters: string[], supportsResolveDetails: boolean): void;\n    $registerImplementationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerTypeDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerDeclarationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerReferenceProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerSignatureHelpProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], metadata: theia.SignatureHelpProviderMetadata): void;\n    $registerHoverProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerDocumentHighlightProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerQuickFixProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], codeActionKinds?: string[]): void;\n    $clearDiagnostics(id: string): void;\n    $changeDiagnostics(id: string, delta: [string, MarkerData[]][]): void;\n    $registerDocumentFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerRangeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerOnTypeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], autoFormatTriggerCharacters: string[]): void;\n    $registerDocumentLinkProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerCodeLensSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], eventHandle?: number): void;\n    $emitCodeLensEvent(eventHandle: number, event?: any): void;\n    $registerOutlineSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerWorkspaceSymbolProvider(handle: number, pluginInfo: PluginInfo): void;\n    $registerFoldingRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerSelectionRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerDocumentColorProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void;\n    $registerRenameProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], supportsResolveInitialValues: boolean): void;\n    $registerCallHierarchyProvider(handle: number, selector: SerializedDocumentFilter[]): void;\n}\n\nexport interface WebviewInitData {\n    webviewResourceRoot: string\n    webviewCspSource: string\n}\n\nexport interface WebviewPanelViewState {\n    readonly active: boolean;\n    readonly visible: boolean;\n    readonly position: number;\n}\n\nexport interface WebviewsExt {\n    $onMessage(handle: string, message: any): void;\n    $onDidChangeWebviewPanelViewState(handle: string, newState: WebviewPanelViewState): void;\n    $onDidDisposeWebviewPanel(handle: string): PromiseLike<void>;\n    $deserializeWebviewPanel(newWebviewHandle: string,\n        viewType: string,\n        title: string,\n        state: any,\n        viewState: WebviewPanelViewState,\n        options: theia.WebviewOptions & theia.WebviewPanelOptions): PromiseLike<void>;\n}\n\nexport interface WebviewsMain {\n    $createWebviewPanel(handle: string,\n        viewType: string,\n        title: string,\n        showOptions: theia.WebviewPanelShowOptions,\n        options: theia.WebviewPanelOptions & theia.WebviewOptions): void;\n    $disposeWebview(handle: string): void;\n    $reveal(handle: string, showOptions: theia.WebviewPanelShowOptions): void;\n    $setTitle(handle: string, value: string): void;\n    $setIconPath(handle: string, value: IconUrl | undefined): void;\n    $setHtml(handle: string, value: string): void;\n    $setOptions(handle: string, options: theia.WebviewOptions): void;\n    $postMessage(handle: string, value: any): Thenable<boolean>;\n\n    $registerSerializer(viewType: string): void;\n    $unregisterSerializer(viewType: string): void;\n}\n\nexport interface StorageMain {\n    $set(key: string, value: KeysToAnyValues, isGlobal: boolean): Promise<boolean>;\n    $get(key: string, isGlobal: boolean): Promise<KeysToAnyValues>;\n    $getAll(isGlobal: boolean): Promise<KeysToKeysToAnyValue>;\n}\n\nexport interface StorageExt {\n    $updatePluginsWorkspaceData(data: KeysToKeysToAnyValue): void;\n}\n\nexport interface DebugExt {\n    $onSessionCustomEvent(sessionId: string, event: string, body?: any): void;\n    $breakpointsDidChange(added: Breakpoint[], removed: string[], changed: Breakpoint[]): void;\n    $sessionDidCreate(sessionId: string): void;\n    $sessionDidDestroy(sessionId: string): void;\n    $sessionDidChange(sessionId: string | undefined): void;\n    $provideDebugConfigurations(debugType: string, workspaceFolder: string | undefined): Promise<theia.DebugConfiguration[]>;\n    $resolveDebugConfigurations(debugConfiguration: theia.DebugConfiguration, workspaceFolder: string | undefined): Promise<theia.DebugConfiguration | undefined>;\n    $resolveDebugConfigurationWithSubstitutedVariables(debugConfiguration: theia.DebugConfiguration, workspaceFolder: string | undefined):\n        Promise<theia.DebugConfiguration | undefined>;\n    $createDebugSession(debugConfiguration: theia.DebugConfiguration): Promise<string>;\n    $terminateDebugSession(sessionId: string): Promise<void>;\n    $getTerminalCreationOptions(debugType: string): Promise<TerminalOptionsExt | undefined>;\n}\n\nexport interface DebugMain {\n    $appendToDebugConsole(value: string): Promise<void>;\n    $appendLineToDebugConsole(value: string): Promise<void>;\n    $registerDebuggerContribution(description: DebuggerDescription): Promise<void>;\n    $unregisterDebuggerConfiguration(debugType: string): Promise<void>;\n    $addBreakpoints(breakpoints: Breakpoint[]): Promise<void>;\n    $removeBreakpoints(breakpoints: string[]): Promise<void>;\n    $startDebugging(folder: theia.WorkspaceFolder | undefined, nameOrConfiguration: string | theia.DebugConfiguration): Promise<boolean>;\n    $customRequest(sessionId: string, command: string, args?: any): Promise<DebugProtocol.Response>;\n}\n\nexport interface FileSystemExt {\n    $stat(handle: number, resource: UriComponents): Promise<FileStat>;\n    $readDirectory(handle: number, resource: UriComponents): Promise<[string, FileType][]>;\n    $createDirectory(handle: number, uri: UriComponents): Promise<void>;\n    $readFile(handle: number, resource: UriComponents, options?: { encoding?: string }): Promise<string>;\n    $writeFile(handle: number, resource: UriComponents, content: string, options?: { encoding?: string }): Promise<void>;\n    $delete(handle: number, resource: UriComponents, options: { recursive: boolean }): Promise<void>;\n    $rename(handle: number, source: UriComponents, target: UriComponents, options: { overwrite: boolean }): Promise<void>;\n    $copy(handle: number, source: UriComponents, target: UriComponents, options: { overwrite: boolean }): Promise<void>;\n}\n\nexport interface FileSystemMain {\n    $stat(uri: UriComponents): Promise<FileStat>\n    $readDirectory(uri: UriComponents): Promise<[string, FileType][]>;\n    $createDirectory(uri: UriComponents): Promise<void>\n    $readFile(uri: UriComponents): Promise<string>;\n    $writeFile(uri: UriComponents, content: string): Promise<void>;\n    $delete(uri: UriComponents, options: { recursive: boolean }): Promise<void>;\n    $rename(source: UriComponents, target: UriComponents, options: { overwrite: boolean }): Promise<void>;\n    $copy(source: UriComponents, target: UriComponents, options: { overwrite: boolean }): Promise<void>;\n    $registerFileSystemProvider(handle: number, scheme: string): void;\n    $unregisterProvider(handle: number): void;\n}\n\nexport interface ClipboardMain {\n    $readText(): Promise<string>;\n    $writeText(value: string): Promise<void>;\n}\n\nexport const PLUGIN_RPC_CONTEXT = {\n    COMMAND_REGISTRY_MAIN: <ProxyIdentifier<CommandRegistryMain>>createProxyIdentifier<CommandRegistryMain>('CommandRegistryMain'),\n    QUICK_OPEN_MAIN: createProxyIdentifier<QuickOpenMain>('QuickOpenMain'),\n    DIALOGS_MAIN: createProxyIdentifier<DialogsMain>('DialogsMain'),\n    WORKSPACE_MAIN: createProxyIdentifier<WorkspaceMain>('WorkspaceMain'),\n    MESSAGE_REGISTRY_MAIN: <ProxyIdentifier<MessageRegistryMain>>createProxyIdentifier<MessageRegistryMain>('MessageRegistryMain'),\n    TEXT_EDITORS_MAIN: createProxyIdentifier<TextEditorsMain>('TextEditorsMain'),\n    DOCUMENTS_MAIN: createProxyIdentifier<DocumentsMain>('DocumentsMain'),\n    STATUS_BAR_MESSAGE_REGISTRY_MAIN: <ProxyIdentifier<StatusBarMessageRegistryMain>>createProxyIdentifier<StatusBarMessageRegistryMain>('StatusBarMessageRegistryMain'),\n    ENV_MAIN: createProxyIdentifier<EnvMain>('EnvMain'),\n    NOTIFICATION_MAIN: createProxyIdentifier<NotificationMain>('NotificationMain'),\n    TERMINAL_MAIN: createProxyIdentifier<TerminalServiceMain>('TerminalServiceMain'),\n    TREE_VIEWS_MAIN: createProxyIdentifier<TreeViewsMain>('TreeViewsMain'),\n    PREFERENCE_REGISTRY_MAIN: createProxyIdentifier<PreferenceRegistryMain>('PreferenceRegistryMain'),\n    OUTPUT_CHANNEL_REGISTRY_MAIN: <ProxyIdentifier<OutputChannelRegistryMain>>createProxyIdentifier<OutputChannelRegistryMain>('OutputChannelRegistryMain'),\n    LANGUAGES_MAIN: createProxyIdentifier<LanguagesMain>('LanguagesMain'),\n    CONNECTION_MAIN: createProxyIdentifier<ConnectionMain>('ConnectionMain'),\n    WEBVIEWS_MAIN: createProxyIdentifier<WebviewsMain>('WebviewsMain'),\n    STORAGE_MAIN: createProxyIdentifier<StorageMain>('StorageMain'),\n    TASKS_MAIN: createProxyIdentifier<TasksMain>('TasksMain'),\n    LANGUAGES_CONTRIBUTION_MAIN: createProxyIdentifier<LanguagesContributionMain>('LanguagesContributionMain'),\n    DEBUG_MAIN: createProxyIdentifier<DebugMain>('DebugMain'),\n    FILE_SYSTEM_MAIN: createProxyIdentifier<FileSystemMain>('FileSystemMain'),\n    SCM_MAIN: createProxyIdentifier<ScmMain>('ScmMain'),\n    DECORATIONS_MAIN: createProxyIdentifier<DecorationsMain>('DecorationsMain'),\n    WINDOW_MAIN: createProxyIdentifier<WindowMain>('WindowMain'),\n    CLIPBOARD_MAIN: <ProxyIdentifier<ClipboardMain>>createProxyIdentifier<ClipboardMain>('ClipboardMain')\n};\n\nexport const MAIN_RPC_CONTEXT = {\n    HOSTED_PLUGIN_MANAGER_EXT: createProxyIdentifier<PluginManagerExt>('PluginManagerExt'),\n    COMMAND_REGISTRY_EXT: createProxyIdentifier<CommandRegistryExt>('CommandRegistryExt'),\n    QUICK_OPEN_EXT: createProxyIdentifier<QuickOpenExt>('QuickOpenExt'),\n    WINDOW_STATE_EXT: createProxyIdentifier<WindowStateExt>('WindowStateExt'),\n    NOTIFICATION_EXT: createProxyIdentifier<NotificationExt>('NotificationExt'),\n    WORKSPACE_EXT: createProxyIdentifier<WorkspaceExt>('WorkspaceExt'),\n    TEXT_EDITORS_EXT: createProxyIdentifier<TextEditorsExt>('TextEditorsExt'),\n    EDITORS_AND_DOCUMENTS_EXT: createProxyIdentifier<EditorsAndDocumentsExt>('EditorsAndDocumentsExt'),\n    DOCUMENTS_EXT: createProxyIdentifier<DocumentsExt>('DocumentsExt'),\n    TERMINAL_EXT: createProxyIdentifier<TerminalServiceExt>('TerminalServiceExt'),\n    OUTPUT_CHANNEL_REGISTRY_EXT: createProxyIdentifier<OutputChannelRegistryExt>('OutputChannelRegistryExt'),\n    TREE_VIEWS_EXT: createProxyIdentifier<TreeViewsExt>('TreeViewsExt'),\n    PREFERENCE_REGISTRY_EXT: createProxyIdentifier<PreferenceRegistryExt>('PreferenceRegistryExt'),\n    LANGUAGES_EXT: createProxyIdentifier<LanguagesExt>('LanguagesExt'),\n    CONNECTION_EXT: createProxyIdentifier<ConnectionExt>('ConnectionExt'),\n    WEBVIEWS_EXT: createProxyIdentifier<WebviewsExt>('WebviewsExt'),\n    STORAGE_EXT: createProxyIdentifier<StorageExt>('StorageExt'),\n    TASKS_EXT: createProxyIdentifier<TasksExt>('TasksExt'),\n    LANGUAGES_CONTRIBUTION_EXT: createProxyIdentifier<LanguagesContributionExt>('LanguagesContributionExt'),\n    DEBUG_EXT: createProxyIdentifier<DebugExt>('DebugExt'),\n    FILE_SYSTEM_EXT: createProxyIdentifier<FileSystemExt>('FileSystemExt'),\n    SCM_EXT: createProxyIdentifier<ScmExt>('ScmExt'),\n    DECORATIONS_EXT: createProxyIdentifier<DecorationsExt>('DecorationsExt')\n};\n\nexport interface TasksExt {\n    $provideTasks(handle: number, token?: CancellationToken): Promise<TaskDto[] | undefined>;\n    $resolveTask(handle: number, task: TaskDto, token?: CancellationToken): Promise<TaskDto | undefined>;\n    $onDidStartTask(execution: TaskExecutionDto): void;\n    $onDidEndTask(id: number): void;\n    $onDidStartTaskProcess(processId: number | undefined, execution: TaskExecutionDto): void;\n    $onDidEndTaskProcess(exitCode: number | undefined, taskId: number): void;\n}\n\nexport interface TasksMain {\n    $registerTaskProvider(handle: number, type: string): void;\n    $fetchTasks(taskVersion: string | undefined, taskType: string | undefined): Promise<TaskDto[]>;\n    $executeTask(taskDto: TaskDto): Promise<TaskExecutionDto | undefined>;\n    $taskExecutions(): Promise<TaskExecutionDto[]>;\n    $unregister(handle: number): void;\n    $terminateTask(id: number): void;\n}\n\nexport interface RawColorInfo {\n    color: [number, number, number, number];\n    range: Range;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { RPCProtocol } from './rpc-protocol';\nimport { PluginManager, Plugin } from './plugin-api-rpc';\nimport { interfaces } from 'inversify';\n\nexport const ExtPluginApiProvider = 'extPluginApi';\n/**\n * Provider for extension API description\n */\nexport interface ExtPluginApiProvider {\n    /**\n     * Provide API description\n     */\n    provideApi(): ExtPluginApi;\n}\n\n/**\n * Plugin API extension description.\n * This interface describes scripts for both plugin runtimes: frontend(WebWorker) and backend(NodeJs)\n */\nexport interface ExtPluginApi {\n\n    /**\n     * Path to the script which should be loaded to provide api, module should export `provideApi` function with\n     * [ExtPluginApiBackendInitializationFn](#ExtPluginApiBackendInitializationFn) signature\n     */\n    backendInitPath?: string;\n\n    /**\n     * Initialization information for frontend part of Plugin API\n     */\n    frontendExtApi?: FrontendExtPluginApi;\n}\n\nexport interface ExtPluginApiFrontendInitializationFn {\n    (rpc: RPCProtocol, plugins: Map<string, Plugin>): void;\n}\n\nexport interface ExtPluginApiBackendInitializationFn {\n    (rpc: RPCProtocol, pluginManager: PluginManager): void;\n}\n\n/**\n * Interface contains information for frontend(WebWorker) Plugin API extension initialization\n */\nexport interface FrontendExtPluginApi {\n    /**\n     * path to js file\n     */\n    initPath: string;\n    /** global variable name */\n    initVariable: string;\n    /**\n     * init function name,\n     * function should have  [ExtPluginApiFrontendInitializationFn](#ExtPluginApiFrontendInitializationFn)\n     */\n    initFunction: string;\n}\n\nexport const MainPluginApiProvider = Symbol('mainPluginApi');\n\n/**\n * Implementation should contains main(Theia) part of new namespace in Plugin API.\n * [initialize](#initialize) will be called once per plugin runtime\n */\nexport interface MainPluginApiProvider {\n    initialize(rpc: RPCProtocol, container: interfaces.Container): void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { JsonRpcServer } from '@theia/core/lib/common/messaging/proxy-factory';\nimport { RPCProtocol } from './rpc-protocol';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { LogPart, KeysToAnyValues, KeysToKeysToAnyValue } from './types';\nimport { CharacterPair, CommentRule, PluginAPIFactory, Plugin } from './plugin-api-rpc';\nimport { ExtPluginApi } from './plugin-ext-api-contribution';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { RecursivePartial } from '@theia/core/lib/common/types';\nimport { PreferenceSchema, PreferenceSchemaProperties } from '@theia/core/lib/common/preferences/preference-schema';\nimport { ProblemMatcherContribution, ProblemPatternContribution, TaskDefinition } from '@theia/task/lib/common';\nimport { FileStat } from '@theia/filesystem/lib/common';\nimport { ColorDefinition } from '@theia/core/lib/browser/color-registry';\n\nexport const hostedServicePath = '/services/hostedPlugin';\n\n/**\n * Plugin engine (API) type, i.e. 'theiaPlugin', 'vscode', etc.\n */\nexport type PluginEngine = string;\n\n/**\n * This interface describes a package.json object.\n */\nexport interface PluginPackage {\n    name: string;\n    publisher: string;\n    version: string;\n    engines: {\n        [type in PluginEngine]: string;\n    };\n    theiaPlugin?: {\n        frontend?: string;\n        backend?: string;\n    };\n    main?: string;\n    displayName: string;\n    description: string;\n    contributes?: PluginPackageContribution;\n    packagePath: string;\n    activationEvents?: string[];\n    extensionDependencies?: string[];\n    extensionPack?: string[];\n    icon?: string;\n}\nexport namespace PluginPackage {\n    export function toPluginUrl(pck: PluginPackage, relativePath: string): string {\n        return `hostedPlugin/${getPluginId(pck)}/${encodeURIComponent(relativePath)}`;\n    }\n}\n\n/**\n * This interface describes a package.json contribution section object.\n */\nexport interface PluginPackageContribution {\n    configuration?: RecursivePartial<PreferenceSchema> | RecursivePartial<PreferenceSchema>[];\n    configurationDefaults?: RecursivePartial<PreferenceSchemaProperties>;\n    languages?: PluginPackageLanguageContribution[];\n    grammars?: PluginPackageGrammarsContribution[];\n    viewsContainers?: { [location: string]: PluginPackageViewContainer[] };\n    views?: { [location: string]: PluginPackageView[] };\n    commands?: PluginPackageCommand | PluginPackageCommand[];\n    menus?: { [location: string]: PluginPackageMenu[] };\n    keybindings?: PluginPackageKeybinding | PluginPackageKeybinding[];\n    debuggers?: PluginPackageDebuggersContribution[];\n    snippets?: PluginPackageSnippetsContribution[];\n    themes?: PluginThemeContribution[];\n    iconThemes?: PluginIconThemeContribution[];\n    colors?: PluginColorContribution[];\n    taskDefinitions?: PluginTaskDefinitionContribution[];\n    problemMatchers?: PluginProblemMatcherContribution[];\n    problemPatterns?: PluginProblemPatternContribution[];\n    jsonValidation?: PluginJsonValidationContribution[]\n}\n\nexport interface PluginPackageViewContainer {\n    id: string;\n    title: string;\n    icon: string;\n}\n\nexport interface PluginPackageView {\n    id: string;\n    name: string;\n    when?: string;\n}\n\nexport interface PluginPackageCommand {\n    command: string;\n    title: string;\n    category?: string;\n    icon?: string | { light: string; dark: string; };\n}\n\nexport interface PluginPackageMenu {\n    command: string;\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\nexport interface PluginPackageKeybinding {\n    key?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n}\n\nexport interface PluginPackageGrammarsContribution {\n    language?: string;\n    scopeName: string;\n    path: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\nexport interface ScopeMap {\n    [scopeName: string]: string;\n}\n\nexport interface PluginPackageSnippetsContribution {\n    language?: string;\n    path?: string;\n}\n\nexport interface PluginColorContribution {\n    id?: string;\n    description?: string;\n    defaults?: { light?: string, dark?: string, highContrast?: string };\n}\n\nexport type PluginUiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface PluginThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PluginIconThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PlatformSpecificAdapterContribution {\n    program?: string;\n    args?: string[];\n    runtime?: string;\n    runtimeArgs?: string[];\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface PluginPackageDebuggersContribution extends PlatformSpecificAdapterContribution {\n    type: string;\n    label?: string;\n    languages?: string[];\n    enableBreakpointsFor?: { languageIds: string[] };\n    configurationAttributes: { [request: string]: IJSONSchema };\n    configurationSnippets: IJSONSchemaSnippet[];\n    variables?: ScopeMap;\n    adapterExecutableCommand?: string;\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\n/**\n * This interface describes a package.json languages contribution section object.\n */\nexport interface PluginPackageLanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: string;\n}\n\nexport interface PluginPackageLanguageContributionConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    autoClosingPairs?: (CharacterPair | AutoClosingPairConditional)[];\n    surroundingPairs?: (CharacterPair | AutoClosingPair)[];\n    wordPattern?: string;\n    indentationRules?: IndentationRules;\n    folding?: FoldingRules;\n}\n\nexport interface PluginTaskDefinitionContribution {\n    type: string;\n    required: string[];\n    properties?: {\n        [name: string]: {\n            type: string;\n            description?: string;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            [additionalProperty: string]: any;\n        }\n    }\n}\n\nexport interface PluginProblemMatcherContribution extends ProblemMatcherContribution {\n    name: string;\n}\n\nexport interface PluginProblemPatternContribution extends ProblemPatternContribution {\n    name: string;\n}\n\nexport interface PluginJsonValidationContribution {\n    fileMatch: string | string[];\n    url: string;\n}\n\nexport const PluginScanner = Symbol('PluginScanner');\n/**\n * This scanner process package.json object and returns plugin metadata objects.\n */\nexport interface PluginScanner {\n    /**\n     * The type of plugin's API (engine name)\n     */\n    apiType: PluginEngine;\n\n    /**\n     * Creates plugin's model.\n     *\n     * @param {PluginPackage} plugin\n     * @returns {PluginModel}\n     */\n    getModel(plugin: PluginPackage): PluginModel;\n\n    /**\n     * Creates plugin's lifecycle.\n     *\n     * @returns {PluginLifecycle}\n     */\n    getLifecycle(plugin: PluginPackage): PluginLifecycle;\n\n    getContribution(plugin: PluginPackage): PluginContribution | undefined;\n\n    /**\n     * A mapping between a dependency as its defined in package.json\n     * and its deployable form, e.g. `publisher.name` -> `vscode:extension/publisher.name`\n     */\n    getDependencies(plugin: PluginPackage): Map<string, string> | undefined;\n}\n\n/**\n * A plugin resolver is handling how to resolve a plugin link into a local resource.\n */\nexport const PluginDeployerResolver = Symbol('PluginDeployerResolver');\n/**\n * A resolver handle a set of resource\n */\nexport interface PluginDeployerResolver {\n\n    init?(pluginDeployerResolverInit: PluginDeployerResolverInit): void;\n\n    accept(pluginSourceId: string): boolean;\n\n    resolve(pluginResolverContext: PluginDeployerResolverContext): Promise<void>;\n\n}\n\nexport const PluginDeployerDirectoryHandler = Symbol('PluginDeployerDirectoryHandler');\nexport interface PluginDeployerDirectoryHandler {\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerDirectoryHandlerContext): Promise<void>;\n}\n\nexport const PluginDeployerFileHandler = Symbol('PluginDeployerFileHandler');\nexport interface PluginDeployerFileHandler {\n\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerFileHandlerContext): Promise<void>;\n}\n\nexport interface PluginDeployerResolverInit {\n\n}\n\nexport interface PluginDeployerResolverContext {\n\n    addPlugin(pluginId: string, path: string): void;\n\n    getPlugins(): PluginDeployerEntry[];\n\n    getOriginId(): string;\n\n}\n\nexport interface PluginDeployerStartContext {\n    readonly userEntries: string[]\n    readonly systemEntries: string[]\n}\n\nexport const PluginDeployer = Symbol('PluginDeployer');\nexport interface PluginDeployer {\n\n    start(): void;\n\n}\n\nexport const PluginDeployerParticipant = Symbol('PluginDeployerParticipant');\n/**\n * A participant can hook into the plugin deployer lifecycle.\n */\nexport interface PluginDeployerParticipant {\n    onWillStart?(context: PluginDeployerStartContext): Promise<void>;\n}\n\nexport enum PluginDeployerEntryType {\n\n    FRONTEND,\n\n    BACKEND\n}\n\n/**\n * Whether a plugin installed by a user or system.\n */\nexport enum PluginType {\n    System,\n    User\n};\n\nexport interface PluginDeployerEntry {\n\n    /**\n     * ID (before any resolution)\n     */\n    id(): string;\n\n    /**\n     * Original resolved path\n     */\n    originalPath(): string;\n\n    /**\n     * Local path on the filesystem.\n     */\n    path(): string;\n\n    /**\n     * Get a specific entry\n     */\n    getValue<T>(key: string): T;\n\n    /**\n     * Store a value\n     */\n    storeValue<T>(key: string, value: T): void;\n\n    /**\n     * Update path\n     */\n    updatePath(newPath: string): void;\n\n    getChanges(): string[];\n\n    isFile(): boolean;\n\n    isDirectory(): boolean;\n\n    /**\n     * Resolved if a resolver has handle this plugin\n     */\n    isResolved(): boolean;\n\n    resolvedBy(): string;\n\n    /**\n     * Accepted when a handler is telling this location can go live\n     */\n    isAccepted(...types: PluginDeployerEntryType[]): boolean;\n\n    accept(...types: PluginDeployerEntryType[]): void;\n\n    hasError(): boolean;\n\n    type: PluginType\n    /**\n     * A fs path to a directory where a plugin is located.\n     * Depending on a plugin format it can be different from `path`.\n     * Use `path` if you want to resolve something within a plugin, like `README.md` file.\n     * Use `rootPath` if you want to manipulate the entire plugin location, like delete or move it.\n     */\n    rootPath: string\n}\n\nexport interface PluginDeployerFileHandlerContext {\n\n    unzip(sourcePath: string, destPath: string): Promise<void>;\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\nexport interface PluginDeployerDirectoryHandlerContext {\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\n/**\n * This interface describes a plugin model object, which is populated from package.json.\n */\nexport interface PluginModel {\n    id: string;\n    name: string;\n    publisher: string;\n    version: string;\n    displayName: string;\n    description: string;\n    engine: {\n        type: PluginEngine;\n        version: string;\n    };\n    entryPoint: PluginEntryPoint;\n    packageUri: string;\n    /**\n     * @deprecated since 1.1.0 - because it lead to problems with getting a relative path\n     * needed by Icon Themes to correctly load Fonts, use packageUri instead.\n     */\n    packagePath: string;\n    iconUrl?: string;\n    readmeUrl?: string;\n    licenseUrl?: string;\n}\n\nexport interface PluginEntryPoint {\n    frontend?: string;\n    backend?: string;\n}\n\n/**\n * This interface describes some static plugin contributions.\n */\nexport interface PluginContribution {\n    activationEvents?: string[];\n    configuration?: PreferenceSchema[];\n    configurationDefaults?: PreferenceSchemaProperties;\n    languages?: LanguageContribution[];\n    grammars?: GrammarsContribution[];\n    viewsContainers?: { [location: string]: ViewContainer[] };\n    views?: { [location: string]: View[] };\n    commands?: PluginCommand[]\n    menus?: { [location: string]: Menu[] };\n    keybindings?: Keybinding[];\n    debuggers?: DebuggerContribution[];\n    snippets?: SnippetContribution[];\n    themes?: ThemeContribution[];\n    iconThemes?: IconThemeContribution[];\n    colors?: ColorDefinition[];\n    taskDefinitions?: TaskDefinition[];\n    problemMatchers?: ProblemMatcherContribution[];\n    problemPatterns?: ProblemPatternContribution[];\n}\n\nexport interface SnippetContribution {\n    uri: string\n    source: string\n    language?: string\n}\n\nexport type UiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface ThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface IconThemeContribution {\n    id: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface GrammarsContribution {\n    format: 'json' | 'plist';\n    language?: string;\n    scope: string;\n    grammar?: string | object;\n    grammarLocation?: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\n/**\n * The language contribution\n */\nexport interface LanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: LanguageConfiguration;\n}\n\nexport interface LanguageConfiguration {\n    brackets?: CharacterPair[];\n    indentationRules?: IndentationRules;\n    surroundingPairs?: AutoClosingPair[];\n    autoClosingPairs?: AutoClosingPairConditional[];\n    comments?: CommentRule;\n    folding?: FoldingRules;\n    wordPattern?: string;\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface DebuggerContribution extends PlatformSpecificAdapterContribution {\n    type: string,\n    label?: string,\n    languages?: string[],\n    enableBreakpointsFor?: {\n        languageIds: string[]\n    },\n    configurationAttributes?: IJSONSchema[],\n    configurationSnippets?: IJSONSchemaSnippet[],\n    variables?: ScopeMap,\n    adapterExecutableCommand?: string\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\nexport interface IndentationRules {\n    increaseIndentPattern: string;\n    decreaseIndentPattern: string;\n    unIndentedLinePattern?: string;\n    indentNextLinePattern?: string;\n}\nexport interface AutoClosingPair {\n    close: string;\n    open: string;\n}\n\nexport interface AutoClosingPairConditional extends AutoClosingPair {\n    notIn?: string[];\n}\n\nexport interface FoldingMarkers {\n    start: string;\n    end: string;\n}\n\nexport interface FoldingRules {\n    offSide?: boolean;\n    markers?: FoldingMarkers;\n}\n\n/**\n * Views Containers contribution\n */\nexport interface ViewContainer {\n    id: string;\n    title: string;\n    iconUrl: string;\n}\n\n/**\n * View contribution\n */\nexport interface View {\n    id: string;\n    name: string;\n    when?: string;\n}\n\nexport interface PluginCommand {\n    command: string;\n    title: string;\n    category?: string;\n    iconUrl?: IconUrl;\n    themeIcon?: string;\n}\n\nexport type IconUrl = string | { light: string; dark: string; };\n\n/**\n * Menu contribution\n */\nexport interface Menu {\n    command: string;\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\n/**\n * Keybinding contribution\n */\nexport interface Keybinding {\n    keybinding?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n}\n\n/**\n * This interface describes a plugin lifecycle object.\n */\nexport interface PluginLifecycle {\n    startMethod: string;\n    stopMethod: string;\n    /**\n     * Frontend module name, frontend plugin should expose this name.\n     */\n    frontendModuleName?: string;\n    /**\n     * Path to the script which should do some initialization before frontend plugin is loaded.\n     */\n    frontendInitPath?: string;\n    /**\n     * Path to the script which should do some initialization before backend plugin is loaded.\n     */\n    backendInitPath?: string;\n}\n\n/**\n * The export function of initialization module of backend plugin.\n */\nexport interface BackendInitializationFn {\n    (apiFactory: PluginAPIFactory, plugin: Plugin): void;\n}\n\nexport interface BackendLoadingFn {\n    (rpc: RPCProtocol, plugin: Plugin): void;\n}\n\nexport interface PluginContext {\n    subscriptions: Disposable[];\n}\n\nexport interface ExtensionContext {\n    subscriptions: Disposable[];\n}\n\nexport interface PluginMetadata {\n    host: string;\n    model: PluginModel;\n    lifecycle: PluginLifecycle;\n}\n\nexport const MetadataProcessor = Symbol('MetadataProcessor');\nexport interface MetadataProcessor {\n    process(pluginMetadata: PluginMetadata): void;\n}\n\nexport function getPluginId(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport function buildFrontendModuleName(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport const HostedPluginClient = Symbol('HostedPluginClient');\nexport interface HostedPluginClient {\n    postMessage(message: string): Promise<void>;\n\n    log(logPart: LogPart): void;\n\n    onDidDeploy(): void;\n}\n\nexport interface PluginDependencies {\n    metadata: PluginMetadata\n    mapping?: Map<string, string>\n}\n\nexport const PluginDeployerHandler = Symbol('PluginDeployerHandler');\nexport interface PluginDeployerHandler {\n    deployFrontendPlugins(frontendPlugins: PluginDeployerEntry[]): Promise<void>;\n    deployBackendPlugins(backendPlugins: PluginDeployerEntry[]): Promise<void>;\n\n    undeployPlugin(pluginId: string): Promise<boolean>;\n\n    getPluginDependencies(pluginToBeInstalled: PluginDeployerEntry): Promise<PluginDependencies | undefined>\n}\n\nexport interface GetDeployedPluginsParams {\n    pluginIds: string[]\n}\n\nexport interface DeployedPlugin {\n    /**\n     * defaults to system\n     */\n    type?: PluginType;\n    metadata: PluginMetadata;\n    contributes?: PluginContribution;\n}\n\nexport const HostedPluginServer = Symbol('HostedPluginServer');\nexport interface HostedPluginServer extends JsonRpcServer<HostedPluginClient> {\n\n    getDeployedPluginIds(): Promise<string[]>;\n\n    getDeployedPlugins(params: GetDeployedPluginsParams): Promise<DeployedPlugin[]>;\n\n    getExtPluginAPI(): Promise<ExtPluginApi[]>;\n\n    onMessage(message: string): Promise<void>;\n\n}\n\nexport interface WorkspaceStorageKind {\n    workspace?: FileStat | undefined;\n    roots: FileStat[];\n}\nexport type GlobalStorageKind = undefined;\nexport type PluginStorageKind = GlobalStorageKind | WorkspaceStorageKind;\n\n/**\n * The JSON-RPC workspace interface.\n */\nexport const pluginServerJsonRpcPath = '/services/plugin-ext';\nexport const PluginServer = Symbol('PluginServer');\nexport interface PluginServer {\n\n    /**\n     * Deploy a plugin.\n     *\n     * @param type whether a plugin is installed by a system or a user, defaults to a user\n     */\n    deploy(pluginEntry: string, type?: PluginType): Promise<void>;\n\n    undeploy(pluginId: string): Promise<void>;\n\n    setStorageValue(key: string, value: KeysToAnyValues, kind: PluginStorageKind): Promise<boolean>;\n    getStorageValue(key: string, kind: PluginStorageKind): Promise<KeysToAnyValues>;\n    getAllStorageValues(kind: PluginStorageKind): Promise<KeysToKeysToAnyValue>;\n}\n\nexport const ServerPluginRunner = Symbol('ServerPluginRunner');\nexport interface ServerPluginRunner {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    acceptMessage(jsonMessage: any): boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onMessage(jsonMessage: any): void;\n    setClient(client: HostedPluginClient): void;\n    setDefault(defaultRunner: ServerPluginRunner): void;\n    clientClosed(): void;\n\n    /**\n     * Provides additional deployed plugins.\n     */\n    getExtraDeployedPlugins(): Promise<DeployedPlugin[]>;\n\n    /**\n     * Provides additional plugin ids.\n     */\n    getExtraDeployedPluginIds(): Promise<string[]>;\n\n}\n\nexport const PluginHostEnvironmentVariable = Symbol('PluginHostEnvironmentVariable');\nexport interface PluginHostEnvironmentVariable {\n    process(env: NodeJS.ProcessEnv): void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied from https://github.com/Microsoft/vscode/blob/master/src/vs/workbench/services/extensions/node/rpcProtocol.ts\n// with small modifications\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { Event } from '@theia/core/lib/common/event';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { URI as VSCodeURI } from 'vscode-uri';\nimport URI from '@theia/core/lib/common/uri';\nimport { CancellationToken, CancellationTokenSource } from 'vscode-languageserver-protocol';\nimport { Range, Position } from '../plugin/types-impl';\n\nexport interface MessageConnection {\n    send(msg: {}): void;\n    onMessage: Event<{}>;\n}\n\nexport const RPCProtocol = Symbol('RPCProtocol');\nexport interface RPCProtocol extends Disposable {\n    /**\n     * Returns a proxy to an object addressable/named in the plugin process or in the main process.\n     */\n    getProxy<T>(proxyId: ProxyIdentifier<T>): T;\n\n    /**\n     * Register manually created instance.\n     */\n    set<T, R extends T>(identifier: ProxyIdentifier<T>, instance: R): R;\n\n}\n\nexport class ProxyIdentifier<T> {\n    public readonly id: string;\n    constructor(public readonly isMain: boolean, id: string | T) {\n        // TODO this is nasty, rewrite this\n        this.id = (id as any).toString();\n    }\n}\n\nexport function createProxyIdentifier<T>(identifier: string): ProxyIdentifier<T> {\n    return new ProxyIdentifier(false, identifier);\n}\n\nexport interface ConnectionClosedError extends Error {\n    code: 'RPC_PROTOCOL_CLOSED'\n}\nexport namespace ConnectionClosedError {\n    const code: ConnectionClosedError['code'] = 'RPC_PROTOCOL_CLOSED';\n    export function create(message: string = 'connection is closed'): ConnectionClosedError {\n        return Object.assign(new Error(message), { code });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function is(error: any): error is ConnectionClosedError {\n        return !!error && typeof error === 'object' && 'code' in error && error['code'] === code;\n    }\n}\n\nexport class RPCProtocolImpl implements RPCProtocol {\n\n    private readonly locals = new Map<string, any>();\n    private readonly proxies = new Map<string, any>();\n    private lastMessageId = 0;\n    private readonly cancellationTokenSources = new Map<string, CancellationTokenSource>();\n    private readonly pendingRPCReplies = new Map<string, Deferred<any>>();\n    private readonly multiplexor: RPCMultiplexer;\n    private messageToSendHostId: string | undefined;\n\n    private readonly toDispose = new DisposableCollection(\n        Disposable.create(() => { /* mark as no disposed */ })\n    );\n\n    constructor(connection: MessageConnection, readonly remoteHostID?: string) {\n        this.toDispose.push(\n            this.multiplexor = new RPCMultiplexer(connection, msg => this.receiveOneMessage(msg), remoteHostID)\n        );\n        this.toDispose.push(Disposable.create(() => {\n            this.proxies.clear();\n            for (const reply of this.pendingRPCReplies.values()) {\n                reply.reject(ConnectionClosedError.create());\n            }\n            this.pendingRPCReplies.clear();\n        }));\n    }\n\n    private get isDisposed(): boolean {\n        return this.toDispose.disposed;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    getProxy<T>(proxyId: ProxyIdentifier<T>): T {\n        if (this.isDisposed) {\n            throw ConnectionClosedError.create();\n        }\n        let proxy = this.proxies.get(proxyId.id);\n        if (!proxy) {\n            proxy = this.createProxy(proxyId.id);\n            this.proxies.set(proxyId.id, proxy);\n        }\n        return proxy;\n    }\n\n    set<T, R extends T>(identifier: ProxyIdentifier<T>, instance: R): R {\n        if (this.isDisposed) {\n            throw ConnectionClosedError.create();\n        }\n        this.locals.set(identifier.id, instance);\n        if (Disposable.is(instance)) {\n            this.toDispose.push(instance);\n        }\n        this.toDispose.push(Disposable.create(() => this.locals.delete(identifier.id)));\n        return instance;\n    }\n\n    private createProxy<T>(proxyId: string): T {\n        const handler = {\n            get: (target: any, name: string) => {\n                if (!target[name] && name.charCodeAt(0) === 36 /* CharCode.DollarSign */) {\n                    target[name] = (...myArgs: any[]) =>\n                        this.remoteCall(proxyId, name, myArgs);\n                }\n                return target[name];\n            }\n        };\n        return new Proxy(Object.create(null), handler);\n    }\n\n    private remoteCall(proxyId: string, methodName: string, args: any[]): Promise<any> {\n        if (this.isDisposed) {\n            return Promise.reject(ConnectionClosedError.create());\n        }\n        const cancellationToken: CancellationToken | undefined = args.length && CancellationToken.is(args[args.length - 1]) ? args.pop() : undefined;\n        if (cancellationToken && cancellationToken.isCancellationRequested) {\n            return Promise.reject(canceled());\n        }\n\n        const callId = String(++this.lastMessageId);\n        const result = new Deferred();\n\n        if (cancellationToken) {\n            args.push('add.cancellation.token');\n            cancellationToken.onCancellationRequested(() =>\n                this.multiplexor.send(MessageFactory.cancel(callId, this.messageToSendHostId))\n            );\n        }\n\n        this.pendingRPCReplies.set(callId, result);\n        this.multiplexor.send(MessageFactory.request(callId, proxyId, methodName, args, this.messageToSendHostId));\n        return result.promise;\n    }\n\n    private receiveOneMessage(rawmsg: string): void {\n        if (this.isDisposed) {\n            return;\n        }\n\n        const msg = <RPCMessage>JSON.parse(rawmsg, ObjectsTransferrer.reviver);\n\n        // handle message that sets the Host ID\n        if ((<any>msg).setHostID) {\n            this.messageToSendHostId = (<any>msg).setHostID;\n            return;\n        }\n\n        // skip message if not matching host\n        if (this.remoteHostID && (<any>msg).hostID && this.remoteHostID !== (<any>msg).hostID) {\n            return;\n        }\n\n        switch (msg.type) {\n            case MessageType.Request:\n                this.receiveRequest(msg);\n                break;\n            case MessageType.Reply:\n                this.receiveReply(msg);\n                break;\n            case MessageType.ReplyErr:\n                this.receiveReplyErr(msg);\n                break;\n            case MessageType.Cancel:\n                this.receiveCancel(msg);\n                break;\n        }\n    }\n\n    private receiveCancel(msg: CancelMessage): void {\n        const cancellationTokenSource = this.cancellationTokenSources.get(msg.id);\n        if (cancellationTokenSource) {\n            cancellationTokenSource.cancel();\n        }\n    }\n\n    private receiveRequest(msg: RequestMessage): void {\n        const callId = msg.id;\n        const proxyId = msg.proxyId;\n        // convert `null` to `undefined`, since we don't use `null` in internal plugin APIs\n        const args = msg.args.map(arg => arg === null ? undefined : arg); // eslint-disable-line no-null/no-null\n\n        const addToken = args.length && args[args.length - 1] === 'add.cancellation.token' ? args.pop() : false;\n        if (addToken) {\n            const tokenSource = new CancellationTokenSource();\n            this.cancellationTokenSources.set(callId, tokenSource);\n            args.push(tokenSource.token);\n        }\n        const invocation = this.invokeHandler(proxyId, msg.method, args);\n\n        invocation.then(result => {\n            this.cancellationTokenSources.delete(callId);\n            this.multiplexor.send(MessageFactory.replyOK(callId, result, this.messageToSendHostId));\n        }, error => {\n            this.cancellationTokenSources.delete(callId);\n            this.multiplexor.send(MessageFactory.replyErr(callId, error, this.messageToSendHostId));\n        });\n    }\n\n    private receiveReply(msg: ReplyMessage): void {\n        const callId = msg.id;\n        const pendingReply = this.pendingRPCReplies.get(callId);\n        if (!pendingReply) {\n            return;\n        }\n        this.pendingRPCReplies.delete(callId);\n        pendingReply.resolve(msg.res);\n    }\n\n    private receiveReplyErr(msg: ReplyErrMessage): void {\n        const callId = msg.id;\n        const pendingReply = this.pendingRPCReplies.get(callId);\n        if (!pendingReply) {\n            return;\n        }\n        this.pendingRPCReplies.delete(callId);\n\n        let err: Error | undefined = undefined;\n        if (msg.err && msg.err.$isError) {\n            err = new Error();\n            err.name = msg.err.name;\n            err.message = msg.err.message;\n            err.stack = msg.err.stack;\n        }\n        pendingReply.reject(err);\n    }\n\n    private invokeHandler(proxyId: string, methodName: string, args: any[]): Promise<any> {\n        try {\n            return Promise.resolve(this.doInvokeHandler(proxyId, methodName, args));\n        } catch (err) {\n            return Promise.reject(err);\n        }\n    }\n\n    private doInvokeHandler(proxyId: string, methodName: string, args: any[]): any {\n        const actor = this.locals.get(proxyId);\n        if (!actor) {\n            throw new Error('Unknown actor ' + proxyId);\n        }\n        const method = actor[methodName];\n        if (typeof method !== 'function') {\n            throw new Error('Unknown method ' + methodName + ' on actor ' + proxyId);\n        }\n        return method.apply(actor, args);\n    }\n}\n\nfunction canceled(): Error {\n    const error = new Error('Canceled');\n    error.name = error.message;\n    return error;\n}\n\n/**\n * Sends/Receives multiple messages in one go:\n *  - multiple messages to be sent from one stack get sent in bulk at `process.nextTick`.\n *  - each incoming message is handled in a separate `process.nextTick`.\n */\nclass RPCMultiplexer implements Disposable {\n\n    private readonly connection: MessageConnection;\n    private readonly sendAccumulatedBound: () => void;\n\n    private messagesToSend: string[];\n\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(connection: MessageConnection, onMessage: (msg: string) => void, remoteHostId?: string) {\n        this.connection = connection;\n        this.sendAccumulatedBound = this.sendAccumulated.bind(this);\n\n        this.toDispose.push(Disposable.create(() => this.messagesToSend = []));\n        this.toDispose.push(this.connection.onMessage((data: string[]) => {\n            const len = data.length;\n            for (let i = 0; i < len; i++) {\n                onMessage(data[i]);\n            }\n        }));\n\n        this.messagesToSend = [];\n        if (remoteHostId) {\n            this.send(`{\"setHostID\":\"${remoteHostId}\"}`);\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private sendAccumulated(): void {\n        const tmp = this.messagesToSend;\n        this.messagesToSend = [];\n        this.connection.send(tmp);\n    }\n\n    public send(msg: string): void {\n        if (this.toDispose.disposed) {\n            throw ConnectionClosedError.create();\n        }\n        if (this.messagesToSend.length === 0) {\n            if (typeof setImmediate !== 'undefined') {\n                setImmediate(this.sendAccumulatedBound);\n            } else {\n                setTimeout(this.sendAccumulatedBound, 0);\n            }\n        }\n        this.messagesToSend.push(msg);\n    }\n}\n\nclass MessageFactory {\n\n    static cancel(req: string, messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        return `{${prefix}\"type\":${MessageType.Cancel},\"id\":\"${req}\"}`;\n    }\n\n    public static request(req: string, rpcId: string, method: string, args: any[], messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        return `{${prefix}\"type\":${MessageType.Request},\"id\":\"${req}\",\"proxyId\":\"${rpcId}\",\"method\":\"${method}\",\"args\":${JSON.stringify(args, ObjectsTransferrer.replacer)}}`;\n    }\n\n    public static replyOK(req: string, res: any, messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        if (typeof res === 'undefined') {\n            return `{${prefix}\"type\":${MessageType.Reply},\"id\":\"${req}\"}`;\n        }\n        return `{${prefix}\"type\":${MessageType.Reply},\"id\":\"${req}\",\"res\":${safeStringify(res, ObjectsTransferrer.replacer)}}`;\n    }\n\n    public static replyErr(req: string, err: any, messageToSendHostId?: string): string {\n        let prefix = '';\n        if (messageToSendHostId) {\n            prefix = `\"hostID\":\"${messageToSendHostId}\",`;\n        }\n        err = typeof err === 'string' ? new Error(err) : err;\n        if (err instanceof Error) {\n            return `{${prefix}\"type\":${MessageType.ReplyErr},\"id\":\"${req}\",\"err\":${safeStringify(transformErrorForSerialization(err))}}`;\n        }\n        return `{${prefix}\"type\":${MessageType.ReplyErr},\"id\":\"${req}\",\"err\":null}`;\n    }\n}\n\n/**\n * These functions are responsible for correct transferring objects via rpc channel.\n *\n * To reach that some specific kind of objects is converted to json in some custom way\n * and then, after receiving, revived to objects again,\n * so there is feeling that object was transferred via rpc channel.\n *\n * To distinguish between regular and altered objects, field $type is added to altered ones.\n * Also value of that field specifies kind of the object.\n */\nnamespace ObjectsTransferrer {\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function replacer(key: string | undefined, value: any): any {\n        if (value instanceof URI) {\n            return {\n                $type: SerializedObjectType.THEIA_URI,\n                data: value.toString()\n            } as SerializedObject;\n        } else if (value instanceof Range) {\n            const range = value as Range;\n            const serializedValue = {\n                start: {\n                    line: range.start.line,\n                    character: range.start.character\n                },\n                end: {\n                    line: range.end.line,\n                    character: range.end.character\n                }\n            };\n            return {\n                $type: SerializedObjectType.THEIA_RANGE,\n                data: JSON.stringify(serializedValue)\n            } as SerializedObject;\n        } else if (value && value['$mid'] === 1) {\n            // Given value is VSCode URI\n            // We cannot use instanceof here because VSCode URI has toJSON method which is invoked before this replacer.\n            const uri = VSCodeURI.revive(value);\n            return {\n                $type: SerializedObjectType.VSCODE_URI,\n                data: uri.toString()\n            } as SerializedObject;\n        }\n\n        return value;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function reviver(key: string | undefined, value: any): any {\n        if (isSerializedObject(value)) {\n            switch (value.$type) {\n                case SerializedObjectType.THEIA_URI:\n                    return new URI(value.data);\n                case SerializedObjectType.VSCODE_URI:\n                    return VSCodeURI.parse(value.data);\n                case SerializedObjectType.THEIA_RANGE:\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    const obj: any = JSON.parse(value.data);\n                    const start = new Position(obj.start.line, obj.start.character);\n                    const end = new Position(obj.end.line, obj.end.character);\n                    return new Range(start, end);\n            }\n        }\n\n        return value;\n    }\n\n}\n\ninterface SerializedObject {\n    $type: SerializedObjectType;\n    data: string;\n}\n\nenum SerializedObjectType {\n    THEIA_URI,\n    VSCODE_URI,\n    THEIA_RANGE\n}\n\nfunction isSerializedObject(obj: any): obj is SerializedObject {\n    return obj && obj.$type !== undefined && obj.data !== undefined;\n}\n\nexport const enum MessageType {\n    Request = 1,\n    Reply = 2,\n    ReplyErr = 3,\n    Cancel = 4,\n    Terminate = 5,\n    Terminated = 6\n}\n\nclass CancelMessage {\n    type: MessageType.Cancel;\n    id: string;\n}\n\nclass RequestMessage {\n    type: MessageType.Request;\n    id: string;\n    proxyId: string;\n    method: string;\n    args: any[];\n}\n\nclass ReplyMessage {\n    type: MessageType.Reply;\n    id: string;\n    res: any;\n}\n\nclass ReplyErrMessage {\n    type: MessageType.ReplyErr;\n    id: string;\n    err: SerializedError;\n}\n\ntype RPCMessage = RequestMessage | ReplyMessage | ReplyErrMessage | CancelMessage;\n\nexport interface SerializedError {\n    readonly $isError: true;\n    readonly name: string;\n    readonly message: string;\n    readonly stack: string;\n}\n\nexport function transformErrorForSerialization(error: Error): SerializedError {\n    if (error instanceof Error) {\n        const { name, message } = error;\n        const stack: string = (<any>error).stacktrace || error.stack;\n        return {\n            $isError: true,\n            name,\n            message,\n            stack\n        };\n    }\n\n    // return as is\n    return error;\n}\n\ninterface JSONStringifyReplacer {\n    (key: string, value: any): any;\n}\n\nfunction safeStringify(obj: any, replacer?: JSONStringifyReplacer): string {\n    try {\n        return JSON.stringify(obj, replacer);\n    } catch (err) {\n        return 'null';\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { DocumentsMain, MAIN_RPC_CONTEXT, DocumentsExt } from '../../common/plugin-api-rpc';\nimport { UriComponents } from '../../common/uri-components';\nimport { EditorsAndDocumentsMain } from './editors-and-documents-main';\nimport { DisposableCollection, Disposable } from '@theia/core';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { EditorModelService } from './text-editor-model-service';\nimport { UntitledResourceResolver } from './editor/untitled-resource';\nimport { EditorManager, EditorOpenerOptions } from '@theia/editor/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { URI as CodeURI } from 'vscode-uri';\nimport { ApplicationShell, Saveable } from '@theia/core/lib/browser';\nimport { TextDocumentShowOptions } from '../../common/plugin-api-rpc-model';\nimport { Range } from 'vscode-languageserver-types';\nimport { OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { dispose } from '../../common/disposable-util';\nimport { FileResourceResolver } from '@theia/filesystem/lib/browser';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ModelReferenceCollection {\n\n    private data = new Array<{ length: number, dispose(): void }>();\n    private length = 0;\n\n    constructor(\n        private readonly maxAge: number = 1000 * 60 * 3,\n        private readonly maxLength: number = 1024 * 1024 * 80\n    ) { }\n\n    dispose(): void {\n        this.data = dispose(this.data) || [];\n    }\n\n    add(ref: Reference<MonacoEditorModel>): void {\n        const length = ref.object.textEditorModel.getValueLength();\n        const handle = setTimeout(_dispose, this.maxAge);\n        const entry = { length, dispose: _dispose };\n        const self = this;\n        function _dispose(): void {\n            const idx = self.data.indexOf(entry);\n            if (idx >= 0) {\n                self.length -= length;\n                ref.dispose();\n                clearTimeout(handle);\n                self.data.splice(idx, 1);\n            }\n        };\n\n        this.data.push(entry);\n        this.length += length;\n        this.cleanup();\n    }\n\n    private cleanup(): void {\n        while (this.length > this.maxLength) {\n            this.data[0].dispose();\n        }\n    }\n}\n\nexport class DocumentsMainImpl implements DocumentsMain, Disposable {\n\n    private readonly proxy: DocumentsExt;\n    private readonly syncedModels = new Map<string, Disposable>();\n    private readonly modelReferenceCache = new ModelReferenceCollection();\n\n    protected saveTimeout = 1750;\n\n    private readonly toDispose = new DisposableCollection(this.modelReferenceCache);\n\n    constructor(\n        editorsAndDocuments: EditorsAndDocumentsMain,\n        private readonly modelService: EditorModelService,\n        rpc: RPCProtocol,\n        private editorManager: EditorManager,\n        private openerService: OpenerService,\n        private shell: ApplicationShell,\n        private untitledResourceResolver: UntitledResourceResolver,\n        private fileResourceResolver: FileResourceResolver\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.DOCUMENTS_EXT);\n\n        this.toDispose.push(editorsAndDocuments);\n        this.toDispose.push(editorsAndDocuments.onDocumentAdd(documents => documents.forEach(this.onModelAdded, this)));\n        this.toDispose.push(editorsAndDocuments.onDocumentRemove(documents => documents.forEach(this.onModelRemoved, this)));\n        this.toDispose.push(modelService.onModelModeChanged(this.onModelChanged, this));\n\n        this.toDispose.push(modelService.onModelSaved(m => {\n            this.proxy.$acceptModelSaved(m.textEditorModel.uri);\n        }));\n        this.toDispose.push(modelService.onModelWillSave(onWillSaveModelEvent => {\n            onWillSaveModelEvent.waitUntil(new Promise<monaco.editor.IIdentifiedSingleEditOperation[]>(async (resolve, reject) => {\n                setTimeout(() => reject(new Error(`Aborted onWillSaveTextDocument-event after ${this.saveTimeout}ms`)), this.saveTimeout);\n                const edits = await this.proxy.$acceptModelWillSave(onWillSaveModelEvent.model.textEditorModel.uri, onWillSaveModelEvent.reason, this.saveTimeout);\n                const editOperations: monaco.editor.IIdentifiedSingleEditOperation[] = [];\n                for (const edit of edits) {\n                    const { range, text } = edit;\n                    if (!range && !text) {\n                        continue;\n                    }\n                    if (range && range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn && !edit.text) {\n                        continue;\n                    }\n\n                    editOperations.push({\n                        range: range ? monaco.Range.lift(range) : onWillSaveModelEvent.model.textEditorModel.getFullModelRange(),\n                        /* eslint-disable-next-line no-null/no-null */\n                        text: text || null,\n                        forceMoveMarkers: edit.forceMoveMarkers\n                    });\n                }\n                resolve(editOperations);\n            }));\n        }));\n        this.toDispose.push(modelService.onModelDirtyChanged(m => {\n            this.proxy.$acceptDirtyStateChanged(m.textEditorModel.uri, m.dirty);\n        }));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onModelChanged(event: { model: MonacoEditorModel, oldModeId: string }): void {\n        const modelUrl = event.model.textEditorModel.uri;\n        if (this.syncedModels.has(modelUrl.toString())) {\n            this.proxy.$acceptModelModeChanged(modelUrl, event.oldModeId, event.model.languageId);\n        }\n    }\n\n    private onModelAdded(model: MonacoEditorModel): void {\n        const modelUri = model.textEditorModel.uri;\n        const key = modelUri.toString();\n\n        const toDispose = new DisposableCollection(\n            model.textEditorModel.onDidChangeContent(e =>\n                this.proxy.$acceptModelChanged(modelUri, {\n                    eol: e.eol,\n                    versionId: e.versionId,\n                    changes: e.changes.map(c =>\n                        ({\n                            text: c.text,\n                            range: c.range,\n                            rangeLength: c.rangeLength,\n                            rangeOffset: c.rangeOffset\n                        }))\n                }, model.dirty)\n            ),\n            Disposable.create(() => this.syncedModels.delete(key))\n        );\n        this.syncedModels.set(key, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    private onModelRemoved(url: monaco.Uri): void {\n        const model = this.syncedModels.get(url.toString());\n        if (model) {\n            model.dispose();\n        }\n    }\n\n    async $tryCreateDocument(options?: { language?: string; content?: string; }): Promise<UriComponents> {\n        const language = options && options.language;\n        const content = options && options.content;\n        const resource = await this.untitledResourceResolver.createUntitledResource(this.fileResourceResolver, content, language);\n        return monaco.Uri.parse(resource.uri.toString());\n    }\n\n    async $tryShowDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void> {\n        // Removing try-catch block here makes it not possible to handle errors.\n        // Following message is appeared in browser console\n        //   - Uncaught (in promise) Error: Cannot read property 'message' of undefined.\n        try {\n            const editorOptions = DocumentsMainImpl.toEditorOpenerOptions(this.shell, options);\n            const uriArg = new URI(CodeURI.revive(uri));\n            const opener = await this.openerService.getOpener(uriArg, editorOptions);\n            await opener.open(uriArg, editorOptions);\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    async $trySaveDocument(uri: UriComponents): Promise<boolean> {\n        const widget = await this.editorManager.getByUri(new URI(CodeURI.revive(uri)));\n        if (widget) {\n            await Saveable.save(widget);\n            return true;\n        }\n\n        return false;\n    }\n\n    async $tryOpenDocument(uri: UriComponents): Promise<boolean> {\n        const ref = await this.modelService.createModelReference(new URI(CodeURI.revive(uri)));\n        if (ref.object) {\n            this.modelReferenceCache.add(ref);\n            return true;\n        } else {\n            ref.dispose();\n            return false;\n        }\n    }\n\n    async $tryCloseDocument(uri: UriComponents): Promise<boolean> {\n        const widget = await this.editorManager.getByUri(new URI(CodeURI.revive(uri)));\n        if (widget) {\n            await Saveable.save(widget);\n            widget.close();\n            return true;\n        }\n\n        return false;\n    }\n\n    static toEditorOpenerOptions(shell: ApplicationShell, options?: TextDocumentShowOptions): EditorOpenerOptions | undefined {\n        if (!options) {\n            return undefined;\n        }\n        let range: Range | undefined;\n        if (options.selection) {\n            const selection = options.selection;\n            range = {\n                start: { line: selection.startLineNumber - 1, character: selection.startColumn - 1 },\n                end: { line: selection.endLineNumber - 1, character: selection.endColumn - 1 }\n            };\n        }\n        /* fall back to side group -> split relative to the active widget */\n        let widgetOptions: ApplicationShell.WidgetOptions | undefined = { mode: 'split-right' };\n        const viewColumn = options.viewColumn;\n        if (viewColumn === undefined || viewColumn === -1) {\n            /* active group -> skip (default behaviour) */\n            widgetOptions = undefined;\n        } else if (viewColumn > 0) {\n            const tabBars = shell.mainAreaTabBars;\n            // convert to zero-based index\n            const tabBar = tabBars[viewColumn - 1];\n            if (tabBar && tabBar.currentTitle) {\n                widgetOptions = { ref: tabBar.currentTitle.owner };\n            }\n        }\n        return {\n            selection: range,\n            mode: options.preserveFocus ? 'reveal' : 'activate',\n            preview: options.preview,\n            widgetOptions\n        };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { injectable, inject } from 'inversify';\nimport { TextDocumentContentChangeEvent } from 'vscode-languageserver-protocol';\nimport { Resource, ResourceResolver, ResourceVersion } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { Schemes } from '../../../common/uri-components';\nimport { FileResource, FileResourceResolver } from '@theia/filesystem/lib/browser';\n\nlet index = 0;\n\n@injectable()\nexport class UntitledResourceResolver implements ResourceResolver {\n\n    @inject(FileResourceResolver)\n    protected readonly fileResourceResolver: FileResourceResolver;\n\n    protected readonly resources = new Map<string, UntitledResource>();\n\n    async resolve(uri: URI): Promise<UntitledResource> {\n        if (uri.scheme !== Schemes.UNTITLED) {\n            throw new Error('The given uri is not untitled file uri: ' + uri);\n        } else {\n            const untitledResource = this.resources.get(uri.toString());\n            if (!untitledResource) {\n                return this.createUntitledResource(this.fileResourceResolver, '', '', uri);\n            } else {\n                return untitledResource;\n            }\n        }\n    }\n\n    async  createUntitledResource(fileResourceResolver: FileResourceResolver, content?: string, language?: string, uri?: URI): Promise<UntitledResource> {\n        let extension;\n        if (language) {\n            for (const lang of monaco.languages.getLanguages()) {\n                if (lang.id === language) {\n                    if (lang.extensions) {\n                        extension = lang.extensions[0];\n                        break;\n                    }\n                }\n            }\n        }\n        return new UntitledResource(this.resources, uri ? uri : new URI().withScheme(Schemes.UNTITLED).withPath(`/Untitled-${index++}${extension ? extension : ''}`),\n            fileResourceResolver, content);\n    }\n}\n\nexport class UntitledResource implements Resource {\n\n    private fileResource?: FileResource;\n\n    protected readonly onDidChangeContentsEmitter = new Emitter<void>();\n    readonly onDidChangeContents: Event<void> = this.onDidChangeContentsEmitter.event;\n\n    constructor(private resources: Map<string, UntitledResource>, public uri: URI, private fileResourceResolver: FileResourceResolver, private content?: string) {\n        this.resources.set(this.uri.toString(), this);\n    }\n\n    dispose(): void {\n        this.resources.delete(this.uri.toString());\n        this.onDidChangeContentsEmitter.dispose();\n        if (this.fileResource) {\n            this.fileResource.dispose();\n        }\n    }\n\n    async readContents(options?: { encoding?: string | undefined; } | undefined): Promise<string> {\n        if (this.fileResource) {\n            return this.fileResource.readContents(options);\n        } else if (this.content) {\n            return this.content;\n        } else {\n            return '';\n        }\n    }\n\n    async saveContents(content: string, options?: { encoding?: string, overwriteEncoding?: string }): Promise<void> {\n        if (!this.fileResource) {\n            this.fileResource = await this.fileResourceResolver.resolve(new URI(this.uri.path.toString()));\n            if (this.fileResource.onDidChangeContents) {\n                this.fileResource.onDidChangeContents(() => this.fireDidChangeContents());\n            }\n        }\n        await this.fileResource.saveContents(content, options);\n    }\n\n    async saveContentChanges(changes: TextDocumentContentChangeEvent[], options?: { encoding?: string, overwriteEncoding?: string }): Promise<void> {\n        if (!this.fileResource) {\n            throw new Error('FileResource is not available for: ' + this.uri.path.toString());\n        }\n        await this.fileResource.saveContentChanges(changes, options);\n    }\n\n    async guessEncoding(): Promise<string | undefined> {\n        if (this.fileResource) {\n            return this.fileResource.guessEncoding();\n        }\n    }\n\n    protected fireDidChangeContents(): void {\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n\n    get version(): ResourceVersion | undefined {\n        if (this.fileResource) {\n            return this.fileResource.version;\n        }\n        return undefined;\n    }\n}\n\nexport function createUntitledURI(language?: string): URI {\n    let extension;\n    if (language) {\n        for (const lang of monaco.languages.getLanguages()) {\n            if (lang.id === language) {\n                if (lang.extensions) {\n                    extension = lang.extensions[0];\n                    break;\n                }\n            }\n        }\n    }\n    return new URI().withScheme(Schemes.UNTITLED).withPath(`/Untitled-${index++}${extension ? extension : ''}`);\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { URI as CodeUri } from 'vscode-uri';\nimport { injectable, inject } from 'inversify';\nimport { MenuPath, ILogger, CommandRegistry, Command, Mutable, MenuAction, SelectionService, CommandHandler, Disposable, DisposableCollection } from '@theia/core';\nimport { EDITOR_CONTEXT_MENU, EditorWidget } from '@theia/editor/lib/browser';\nimport { MenuModelRegistry } from '@theia/core/lib/common';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { TabBarToolbarRegistry, TabBarToolbarItem } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { NAVIGATOR_CONTEXT_MENU } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { QuickCommandService } from '@theia/core/lib/browser/quick-open/quick-command-service';\nimport { VIEW_ITEM_CONTEXT_MENU, TreeViewWidget, VIEW_ITEM_INLINE_MENU } from '../view/tree-view-widget';\nimport { DeployedPlugin, Menu, ScmCommandArg, TreeViewSelection } from '../../../common';\nimport { DebugStackFramesWidget } from '@theia/debug/lib/browser/view/debug-stack-frames-widget';\nimport { DebugThreadsWidget } from '@theia/debug/lib/browser/view/debug-threads-widget';\nimport { TreeWidgetSelection } from '@theia/core/lib/browser/tree/tree-widget-selection';\nimport { ScmWidget } from '@theia/scm/lib/browser/scm-widget';\nimport { ScmTreeWidget } from '@theia/scm/lib/browser/scm-tree-widget';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { PluginScmProvider, PluginScmResourceGroup, PluginScmResource } from '../scm-main';\nimport { ResourceContextKey } from '@theia/core/lib/browser/resource-context-key';\nimport { PluginViewWidget } from '../view/plugin-view-widget';\nimport { ViewContextKeyService } from '../view/view-context-key-service';\nimport { WebviewWidget } from '../webview/webview';\nimport { Navigatable } from '@theia/core/lib/browser/navigatable';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\ntype CodeEditorWidget = EditorWidget | WebviewWidget;\nexport namespace CodeEditorWidget {\n    export function is(arg: any): arg is CodeEditorWidget {\n        return arg instanceof EditorWidget || arg instanceof WebviewWidget;\n    }\n    export function getResourceUri(editor: CodeEditorWidget): CodeUri | undefined {\n        const resourceUri = Navigatable.is(editor) && editor.getResourceUri();\n        return resourceUri ? resourceUri['codeUri'] : undefined;\n    }\n}\n\n@injectable()\nexport class MenusContributionPointHandler {\n\n    @inject(MenuModelRegistry)\n    protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(ScmService)\n    protected readonly scmService: ScmService;\n\n    @inject(QuickCommandService)\n    protected readonly quickCommandService: QuickCommandService;\n\n    @inject(TabBarToolbarRegistry)\n    protected readonly tabBarToolbar: TabBarToolbarRegistry;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(ResourceContextKey)\n    protected readonly resourceContextKey: ResourceContextKey;\n\n    @inject(ViewContextKeyService)\n    protected readonly viewContextKeys: ViewContextKeyService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    handle(plugin: DeployedPlugin): Disposable {\n        const allMenus = plugin.contributes && plugin.contributes.menus;\n        if (!allMenus) {\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        for (const location in allMenus) {\n            if (location === 'commandPalette') {\n                for (const menu of allMenus[location]) {\n                    if (menu.when) {\n                        toDispose.push(this.quickCommandService.pushCommandContext(menu.command, menu.when));\n                    }\n                }\n            } else if (location === 'editor/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerTitleAction(location, action, {\n                        execute: widget => CodeEditorWidget.is(widget) && this.commands.executeCommand(action.command, CodeEditorWidget.getResourceUri(widget)),\n                        isEnabled: widget => CodeEditorWidget.is(widget) && this.commands.isEnabled(action.command, CodeEditorWidget.getResourceUri(widget)),\n                        isVisible: widget => CodeEditorWidget.is(widget) && this.commands.isVisible(action.command, CodeEditorWidget.getResourceUri(widget))\n                    }));\n                }\n            } else if (location === 'view/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerTitleAction(location, { ...action, when: undefined }, {\n                        execute: widget => widget instanceof PluginViewWidget && this.commands.executeCommand(action.command),\n                        isEnabled: widget => widget instanceof PluginViewWidget &&\n                            this.viewContextKeys.with({ view: widget.options.viewId }, () =>\n                                this.commands.isEnabled(action.command) && this.viewContextKeys.match(action.when)),\n                        isVisible: widget => widget instanceof PluginViewWidget &&\n                            this.viewContextKeys.with({ view: widget.options.viewId }, () =>\n                                this.commands.isVisible(action.command) && this.viewContextKeys.match(action.when))\n                    }));\n                }\n            } else if (location === 'view/item/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? VIEW_ITEM_INLINE_MENU : VIEW_ITEM_CONTEXT_MENU;\n                    toDispose.push(this.registerTreeMenuAction(menuPath, menu));\n                }\n            } else if (location === 'scm/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerScmTitleAction(location, action));\n                }\n            } else if (location === 'scm/resourceGroup/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? ScmTreeWidget.RESOURCE_GROUP_INLINE_MENU : ScmTreeWidget.RESOURCE_GROUP_CONTEXT_MENU;\n                    toDispose.push(this.registerScmMenuAction(menuPath, menu));\n                }\n            } else if (location === 'scm/resourceFolder/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? ScmTreeWidget.RESOURCE_FOLDER_INLINE_MENU : ScmTreeWidget.RESOURCE_FOLDER_CONTEXT_MENU;\n                    toDispose.push(this.registerScmMenuAction(menuPath, menu));\n                }\n            } else if (location === 'scm/resourceState/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? ScmTreeWidget.RESOURCE_INLINE_MENU : ScmTreeWidget.RESOURCE_CONTEXT_MENU;\n                    toDispose.push(this.registerScmMenuAction(menuPath, menu));\n                }\n            } else if (location === 'debug/callstack/context') {\n                for (const menu of allMenus[location]) {\n                    for (const menuPath of [DebugStackFramesWidget.CONTEXT_MENU, DebugThreadsWidget.CONTEXT_MENU]) {\n                        toDispose.push(this.registerMenuAction(menuPath, menu, command => ({\n                            execute: (...args) => this.commands.executeCommand(command, args[0]),\n                            isEnabled: (...args) => this.commands.isEnabled(command, args[0]),\n                            isVisible: (...args) => this.commands.isVisible(command, args[0])\n                        })));\n                    }\n                }\n            } else if (allMenus.hasOwnProperty(location)) {\n                const menuPaths = MenusContributionPointHandler.parseMenuPaths(location);\n                if (!menuPaths.length) {\n                    this.logger.warn(`'${plugin.metadata.model.id}' plugin contributes items to a menu with invalid identifier: ${location}`);\n                    continue;\n                }\n                const menus = allMenus[location];\n                menus.forEach(menu => {\n                    for (const menuPath of menuPaths) {\n                        toDispose.push(this.registerGlobalMenuAction(menuPath, menu));\n                    }\n                });\n            }\n        }\n        return toDispose;\n    }\n\n    protected static parseMenuPaths(value: string): MenuPath[] {\n        switch (value) {\n            case 'editor/context': return [EDITOR_CONTEXT_MENU];\n            case 'explorer/context': return [NAVIGATOR_CONTEXT_MENU];\n        }\n        return [];\n    }\n\n    protected registerTreeMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: (...args) => this.commands.executeCommand(command, ...this.toTreeArgs(...args)),\n            isEnabled: (...args) => this.commands.isEnabled(command, ...this.toTreeArgs(...args)),\n            isVisible: (...args) => this.commands.isVisible(command, ...this.toTreeArgs(...args))\n        }));\n    }\n    protected toTreeArgs(...args: any[]): any[] {\n        const treeArgs: any[] = [];\n        for (const arg of args) {\n            if (TreeViewSelection.is(arg)) {\n                treeArgs.push(arg);\n            }\n        }\n        return treeArgs;\n    }\n\n    protected registerTitleAction(location: string, action: Menu, handler: CommandHandler): Disposable {\n        const toDispose = new DisposableCollection();\n        const id = this.createSyntheticCommandId(action.command, { prefix: `__plugin.${location.replace('/', '.')}.action.` });\n        const command: Command = { id };\n        toDispose.push(this.commands.registerCommand(command, handler));\n\n        const { when } = action;\n        const whenKeys = when && this.contextKeyService.parseKeys(when);\n        let onDidChange;\n        if (whenKeys && whenKeys.size) {\n            const onDidChangeEmitter = new Emitter<void>();\n            toDispose.push(onDidChangeEmitter);\n            onDidChange = onDidChangeEmitter.event;\n            this.contextKeyService.onDidChange.maxListeners = this.contextKeyService.onDidChange.maxListeners + 1;\n            toDispose.push(this.contextKeyService.onDidChange(event => {\n                if (event.affects(whenKeys)) {\n                    onDidChangeEmitter.fire(undefined);\n                }\n            }));\n            toDispose.push(Disposable.create(() => {\n                this.contextKeyService.onDidChange.maxListeners = this.contextKeyService.onDidChange.maxListeners - 1;\n            }));\n        }\n\n        // handle group and priority\n        // if group is empty or white space is will be set to navigation\n        // ' ' => ['navigation', 0]\n        // 'navigation@1' => ['navigation', 1]\n        // '1_rest-client@2' => ['1_rest-client', 2]\n        // if priority is not a number it will be set to 0\n        // navigation@test => ['navigation', 0]\n        const [group, sort] = (action.group || 'navigation').split('@');\n        const item: Mutable<TabBarToolbarItem> = { id, command: id, group: group.trim() || 'navigation', priority: ~~sort || undefined, when, onDidChange };\n        toDispose.push(this.tabBarToolbar.registerItem(item));\n\n        toDispose.push(this.onDidRegisterCommand(action.command, pluginCommand => {\n            command.category = pluginCommand.category;\n            item.tooltip = pluginCommand.label;\n            if (group === 'navigation') {\n                command.iconClass = pluginCommand.iconClass;\n            }\n        }));\n        return toDispose;\n    }\n\n    protected registerScmTitleAction(location: string, action: Menu): Disposable {\n        const selectedRepository = () => this.toScmArgs(this.scmService.selectedRepository);\n        return this.registerTitleAction(location, action, {\n            execute: widget => widget instanceof ScmWidget && this.commands.executeCommand(action.command, selectedRepository()),\n            isEnabled: widget => widget instanceof ScmWidget && this.commands.isEnabled(action.command, selectedRepository()),\n            isVisible: widget => widget instanceof ScmWidget && this.commands.isVisible(action.command, selectedRepository())\n        });\n    }\n    protected registerScmMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: (...args) => this.commands.executeCommand(command, ...this.toScmArgs(...args)),\n            isEnabled: (...args) => this.commands.isEnabled(command, ...this.toScmArgs(...args)),\n            isVisible: (...args) => this.commands.isVisible(command, ...this.toScmArgs(...args))\n        }));\n    }\n    protected toScmArgs(...args: any[]): any[] {\n        const scmArgs: any[] = [];\n        for (const arg of args) {\n            const scmArg = this.toScmArg(arg);\n            if (scmArg) {\n                scmArgs.push(scmArg);\n            }\n        }\n        return scmArgs;\n    }\n    protected toScmArg(arg: any): ScmCommandArg | undefined {\n        if (arg instanceof ScmRepository && arg.provider instanceof PluginScmProvider) {\n            return {\n                sourceControlHandle: arg.provider.handle\n            };\n        }\n        if (arg instanceof PluginScmResourceGroup) {\n            return {\n                sourceControlHandle: arg.provider.handle,\n                resourceGroupHandle: arg.handle\n            };\n        }\n        if (arg instanceof PluginScmResource) {\n            return {\n                sourceControlHandle: arg.group.provider.handle,\n                resourceGroupHandle: arg.group.handle,\n                resourceStateHandle: arg.handle\n            };\n        }\n    }\n\n    protected registerGlobalMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        const selectedResource = () => {\n            const selection = this.selectionService.selection;\n            if (TreeWidgetSelection.is(selection) && selection.source instanceof TreeViewWidget && selection[0]) {\n                return selection.source.toTreeViewSelection(selection[0]);\n            }\n            const uri = this.resourceContextKey.get();\n            return uri ? uri['codeUri'] : undefined;\n        };\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: () => this.commands.executeCommand(command, selectedResource()),\n            isEnabled: () => this.commands.isEnabled(command, selectedResource()),\n            isVisible: () => this.commands.isVisible(command, selectedResource())\n        }));\n    }\n\n    protected registerMenuAction(menuPath: MenuPath, menu: Menu, handler: (command: string) => CommandHandler): Disposable {\n        const toDispose = new DisposableCollection();\n        const commandId = this.createSyntheticCommandId(menu.command, { prefix: '__plugin.menu.action.' });\n        const command: Command = { id: commandId };\n        toDispose.push(this.commands.registerCommand(command, handler(menu.command)));\n        toDispose.push(this.quickCommandService.pushCommandContext(commandId, 'false'));\n\n        let altId: string | undefined;\n        if (menu.alt) {\n            altId = this.createSyntheticCommandId(menu.alt, { prefix: '__plugin.menu.action.' });\n            const alt: Command = { id: altId };\n            toDispose.push(this.commands.registerCommand(alt, handler(menu.alt)));\n            toDispose.push(this.quickCommandService.pushCommandContext(altId, 'false'));\n            toDispose.push(this.onDidRegisterCommand(menu.alt, pluginCommand => {\n                alt.category = pluginCommand.category;\n                alt.label = pluginCommand.label;\n                if (inline) {\n                    alt.iconClass = pluginCommand.iconClass;\n                }\n            }));\n        }\n\n        const { when } = menu;\n        const [group = '', order = undefined] = (menu.group || '').split('@');\n        const action: MenuAction = { commandId, alt: altId, order, when };\n        const inline = /^inline/.test(group);\n        menuPath = inline ? menuPath : [...menuPath, group];\n        toDispose.push(this.menuRegistry.registerMenuAction(menuPath, action));\n\n        toDispose.push(this.onDidRegisterCommand(menu.command, pluginCommand => {\n            command.category = pluginCommand.category;\n            command.label = pluginCommand.label;\n            if (inline) {\n                command.iconClass = pluginCommand.iconClass;\n            }\n        }));\n        return toDispose;\n    }\n\n    protected createSyntheticCommandId(command: string, { prefix }: { prefix: string }): string {\n        let id = prefix + command;\n        let index = 0;\n        while (this.commands.getCommand(id)) {\n            id = prefix + command + ':' + index;\n            index++;\n        }\n        return id;\n    }\n\n    protected onDidRegisterCommand(id: string, cb: (command: Command) => void): Disposable {\n        const command = this.commands.getCommand(id);\n        if (command) {\n            cb(command);\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        // Registering a menu action requires the related command to be already registered.\n        // But Theia plugin registers the commands dynamically via the Commands API.\n        // Let's wait for ~2 sec. It should be enough to finish registering all the contributed commands.\n        // FIXME: remove this workaround (timer) once the https://github.com/theia-ide/theia/issues/3344 is fixed\n        const handle = setTimeout(() => toDispose.push(this.onDidRegisterCommand(id, cb)), 2000);\n        toDispose.push(Disposable.create(() => clearTimeout(handle)));\n        return toDispose;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    MAIN_RPC_CONTEXT,\n    ScmExt,\n    SourceControlGroupFeatures,\n    ScmMain,\n    SourceControlProviderFeatures,\n    SourceControlResourceState\n} from '../../common/plugin-api-rpc';\nimport { ScmProvider, ScmResource, ScmResourceDecorations, ScmResourceGroup, ScmCommand } from '@theia/scm/lib/browser/scm-provider';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from 'inversify';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport URI from '@theia/core/lib/common/uri';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\n\nexport class ScmMainImpl implements ScmMain, Disposable {\n    private readonly proxy: ScmExt;\n    private readonly scmService: ScmService;\n    private readonly scmRepositoryMap = new Map<number, ScmRepository>();\n    private readonly colors: ColorRegistry;\n    private lastSelectedSourceControlHandle: number | undefined;\n\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.SCM_EXT);\n        this.scmService = container.get(ScmService);\n        this.colors = container.get(ColorRegistry);\n        this.toDispose.push(this.scmService.onDidChangeSelectedRepository(repository => this.updateSelectedRepository(repository)));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected updateSelectedRepository(repository: ScmRepository | undefined): void {\n        const sourceControlHandle = repository ? this.getSourceControlHandle(repository) : undefined;\n        if (sourceControlHandle !== undefined) {\n            this.proxy.$setSourceControlSelection(sourceControlHandle, true);\n        }\n        if (this.lastSelectedSourceControlHandle !== undefined && this.lastSelectedSourceControlHandle !== sourceControlHandle) {\n            this.proxy.$setSourceControlSelection(this.lastSelectedSourceControlHandle, false);\n        }\n        this.lastSelectedSourceControlHandle = sourceControlHandle;\n    }\n\n    protected getSourceControlHandle(repository: ScmRepository): number | undefined {\n        return Array.from(this.scmRepositoryMap.keys()).find(key => {\n            const scmRepository = this.scmRepositoryMap.get(key);\n            return scmRepository !== undefined && scmRepository.provider.rootUri === repository.provider.rootUri;\n        });\n    }\n\n    async $registerSourceControl(sourceControlHandle: number, id: string, label: string, rootUri: string): Promise<void> {\n        const provider = new PluginScmProvider(this.proxy, sourceControlHandle, id, label, rootUri, this.colors);\n        const repository = this.scmService.registerScmProvider(provider);\n        repository.input.onDidChange(() =>\n            this.proxy.$updateInputBox(sourceControlHandle, repository.input.value)\n        );\n        this.scmRepositoryMap.set(sourceControlHandle, repository);\n        if (this.scmService.repositories.length === 1) {\n            this.updateSelectedRepository(repository);\n        }\n        this.toDispose.push(Disposable.create(() => this.$unregisterSourceControl(sourceControlHandle)));\n    }\n\n    async $updateSourceControl(sourceControlHandle: number, features: SourceControlProviderFeatures): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateSourceControl(features);\n        }\n    }\n\n    async $unregisterSourceControl(sourceControlHandle: number): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.dispose();\n            this.scmRepositoryMap.delete(sourceControlHandle);\n        }\n    }\n\n    async $setInputBoxPlaceholder(sourceControlHandle: number, placeholder: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.input.placeholder = placeholder;\n        }\n    }\n\n    async $setInputBoxValue(sourceControlHandle: number, value: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.input.value = value;\n        }\n    }\n\n    async $registerGroup(sourceControlHandle: number, groupHandle: number, id: string, label: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.registerGroup(groupHandle, id, label);\n        }\n    }\n\n    async $unregisterGroup(sourceControlHandle: number, groupHandle: number): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.unregisterGroup(groupHandle);\n        }\n    }\n\n    async $updateGroup(sourceControlHandle: number, groupHandle: number, features: SourceControlGroupFeatures): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroup(groupHandle, features);\n        }\n    }\n\n    async $updateGroupLabel(sourceControlHandle: number, groupHandle: number, label: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroupLabel(groupHandle, label);\n        }\n    }\n\n    async $updateResourceState(sourceControlHandle: number, groupHandle: number, resources: SourceControlResourceState[]): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroupResourceStates(sourceControlHandle, groupHandle, resources);\n        }\n    }\n}\nexport class PluginScmProvider implements ScmProvider {\n    private onDidChangeEmitter = new Emitter<void>();\n    private onDidChangeCommitTemplateEmitter = new Emitter<string>();\n    private onDidChangeStatusBarCommandsEmitter = new Emitter<ScmCommand[] | undefined>();\n    private features: SourceControlProviderFeatures = {};\n    private groupsMap: Map<number, PluginScmResourceGroup> = new Map();\n    private disposableCollection: DisposableCollection = new DisposableCollection();\n\n    constructor(\n        private readonly proxy: ScmExt,\n        readonly handle: number,\n        readonly id: string,\n        readonly label: string,\n        readonly rootUri: string,\n        protected readonly colors: ColorRegistry\n    ) {\n        this.disposableCollection.push(this.onDidChangeEmitter);\n        this.disposableCollection.push(this.onDidChangeCommitTemplateEmitter);\n        this.disposableCollection.push(this.onDidChangeStatusBarCommandsEmitter);\n    }\n\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    get groups(): ScmResourceGroup[] {\n        return Array.from(this.groupsMap.values());\n    }\n\n    get commitTemplate(): string | undefined {\n        return this.features.commitTemplate;\n    }\n\n    get acceptInputCommand(): ScmCommand | undefined {\n        const command = this.features.acceptInputCommand;\n        if (command) {\n            const scmCommand: ScmCommand = command;\n            scmCommand.command = command.id;\n            return command;\n        }\n    }\n\n    get statusBarCommands(): ScmCommand[] | undefined {\n        const commands = this.features.statusBarCommands;\n        if (commands) {\n            return commands.map(command => {\n                const scmCommand: ScmCommand = command;\n                scmCommand.command = command.id;\n                return scmCommand;\n            });\n        }\n    }\n\n    get count(): number | undefined {\n        return this.features.count;\n    }\n\n    get onDidChangeCommitTemplate(): Event<string> {\n        return this.onDidChangeCommitTemplateEmitter.event;\n    }\n\n    get onDidChangeStatusBarCommands(): Event<ScmCommand[] | undefined> {\n        return this.onDidChangeStatusBarCommandsEmitter.event;\n    }\n\n    get onDidChange(): Event<void> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    dispose(): void {\n        this.disposableCollection.dispose();\n    }\n\n    updateSourceControl(features: SourceControlProviderFeatures): void {\n        if (features.acceptInputCommand) {\n            this.features.acceptInputCommand = features.acceptInputCommand;\n        }\n        if (features.commitTemplate) {\n            this.features.commitTemplate = features.commitTemplate;\n        }\n        if (features.count) {\n            this.features.count = features.count;\n        }\n        if (features.hasQuickDiffProvider !== undefined) {\n            this.features.hasQuickDiffProvider = features.hasQuickDiffProvider;\n        }\n        if (features.statusBarCommands) {\n            this.features.statusBarCommands = features.statusBarCommands;\n        }\n        this.fireDidChange();\n\n        if (features.commitTemplate) {\n            this.onDidChangeCommitTemplateEmitter.fire(features.commitTemplate);\n        }\n        if (features.statusBarCommands) {\n            this.onDidChangeStatusBarCommandsEmitter.fire(features.statusBarCommands);\n        }\n    }\n\n    async getOriginalResource(uri: URI): Promise<URI | undefined> {\n        if (this.features.hasQuickDiffProvider) {\n            const result = await this.proxy.$provideOriginalResource(this.handle, uri.toString(), CancellationToken.None);\n            if (result) {\n                return new URI(result.path);\n            }\n        }\n    }\n\n    registerGroup(groupHandle: number, id: string, label: string): void {\n        const group = new PluginScmResourceGroup(\n            groupHandle,\n            this,\n            { hideWhenEmpty: undefined },\n            label,\n            id\n        );\n        this.groupsMap.set(groupHandle, group);\n        this.fireDidChange();\n    }\n\n    unregisterGroup(groupHandle: number): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.dispose();\n            this.groupsMap.delete(groupHandle);\n            this.fireDidChange();\n        }\n    }\n\n    updateGroup(groupHandle: number, features: SourceControlGroupFeatures): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateGroup(features);\n            this.fireDidChange();\n        }\n    }\n\n    updateGroupLabel(groupHandle: number, label: string): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateGroupLabel(label);\n            this.fireDidChange();\n        }\n    }\n\n    async updateGroupResourceStates(sourceControlHandle: number, groupHandle: number, resources: SourceControlResourceState[]): Promise<void> {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateResources(await Promise.all(resources.map(async resource => {\n                const resourceUri = new URI(resource.resourceUri);\n                let scmDecorations;\n                const decorations = resource.decorations;\n                if (decorations) {\n                    const colorVariable = resource.colorId && this.colors.toCssVariableName(resource.colorId);\n                    scmDecorations = {\n                        tooltip: decorations.tooltip,\n                        letter: resource.letter,\n                        color: colorVariable && `var(${colorVariable})`\n                    };\n                }\n                return new PluginScmResource(\n                    this.proxy,\n                    resource.handle,\n                    group,\n                    resourceUri,\n                    group,\n                    scmDecorations);\n            })));\n            this.fireDidChange();\n        }\n    }\n\n}\n\nexport class PluginScmResourceGroup implements ScmResourceGroup {\n\n    private _resources: PluginScmResource[] = [];\n\n    constructor(\n        readonly handle: number,\n        public provider: PluginScmProvider,\n        public features: SourceControlGroupFeatures,\n        public label: string,\n        readonly id: string\n    ) {\n    }\n\n    get resources(): PluginScmResource[] {\n        return this._resources;\n    }\n\n    get hideWhenEmpty(): boolean | undefined {\n        return this.features.hideWhenEmpty;\n    }\n\n    updateGroup(features: SourceControlGroupFeatures): void {\n        this.features = features;\n    }\n\n    updateGroupLabel(label: string): void {\n        this.label = label;\n    }\n\n    updateResources(resources: PluginScmResource[]): void {\n        this._resources = resources;\n    }\n\n    dispose(): void { }\n\n}\n\nexport class PluginScmResource implements ScmResource {\n    constructor(\n        private proxy: ScmExt,\n        readonly handle: number,\n        readonly group: PluginScmResourceGroup,\n        public sourceUri: URI,\n        public resourceGroup: ScmResourceGroup,\n        public decorations?: ScmResourceDecorations\n    ) { }\n\n    open(): Promise<void> {\n        return this.proxy.$executeResourceCommand(this.group.provider.handle, this.group.handle, this.handle);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Panel, Widget } from '@phosphor/widgets';\nimport { MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { ViewContextKeyService } from './view-context-key-service';\nimport { StatefulWidget } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { Message } from '@phosphor/messaging';\nimport { TreeViewWidget } from './tree-view-widget';\n\n@injectable()\nexport class PluginViewWidgetIdentifier {\n    id: string;\n    viewId: string;\n}\n\n@injectable()\nexport class PluginViewWidget extends Panel implements StatefulWidget {\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ViewContextKeyService)\n    protected readonly contextKeys: ViewContextKeyService;\n\n    @inject(PluginViewWidgetIdentifier)\n    readonly options: PluginViewWidgetIdentifier;\n\n    constructor() {\n        super();\n        this.node.tabIndex = -1;\n        this.node.style.height = '100%';\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.id = this.options.id;\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        const widget = this.widgets[0];\n        if (widget) {\n            widget.activate();\n            this.updateWidgetMessage();\n        } else {\n            this.node.focus();\n        }\n    }\n\n    storeState(): PluginViewWidget.State {\n        return {\n            label: this.title.label,\n            message: this.message,\n            widgets: this.widgets\n        };\n    }\n\n    restoreState(state: PluginViewWidget.State): void {\n        this.title.label = state.label;\n        this.message = state.message;\n        for (const widget of state.widgets) {\n            this.addWidget(widget);\n        }\n    }\n\n    protected _suppressUpdateViewVisibility = false;\n    set suppressUpdateViewVisibility(suppressUpdateViewVisibility: boolean) {\n        this._suppressUpdateViewVisibility = !this.updatingViewVisibility && suppressUpdateViewVisibility;\n    }\n\n    protected updatingViewVisibility = false;\n    updateViewVisibility(cb: () => void): void {\n        if (this._suppressUpdateViewVisibility) {\n            return;\n        }\n        try {\n            this.updatingViewVisibility = true;\n            cb();\n        } finally {\n            this.updatingViewVisibility = false;\n        }\n    }\n\n    private _message: string | undefined;\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.updateWidgetMessage();\n    }\n\n    private updateWidgetMessage(): void {\n        const widget = this.widgets[0];\n        if (widget) {\n            if (widget instanceof TreeViewWidget) {\n                widget.message = this._message;\n            }\n        }\n    }\n\n    addWidget(widget: Widget): void {\n        super.addWidget(widget);\n        this.updateWidgetMessage();\n    }\n\n    insertWidget(index: number, widget: Widget): void {\n        super.insertWidget(index, widget);\n        this.updateWidgetMessage();\n    }\n}\nexport namespace PluginViewWidget {\n    export interface State {\n        label: string\n        message?: string;\n        widgets: ReadonlyArray<Widget>\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018-2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { URI } from 'vscode-uri';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { TreeViewsExt, TreeViewSelection } from '../../../common/plugin-api-rpc';\nimport { Command } from '../../../common/plugin-api-rpc-model';\nimport {\n    TreeWidget,\n    TreeNode,\n    NodeProps,\n    SelectableTreeNode,\n    ExpandableTreeNode,\n    CompositeTreeNode,\n    TreeImpl,\n    TREE_NODE_SEGMENT_CLASS,\n    TREE_NODE_SEGMENT_GROW_CLASS,\n    TREE_NODE_TAIL_CLASS,\n    TreeModelImpl\n} from '@theia/core/lib/browser';\nimport { TreeViewItem, TreeViewItemCollapsibleState } from '../../../common/plugin-api-rpc';\nimport { MenuPath, MenuModelRegistry, ActionMenuNode } from '@theia/core/lib/common/menu';\nimport * as React from 'react';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { ViewContextKeyService } from './view-context-key-service';\nimport { Widget } from '@theia/core/lib/browser/widgets/widget';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { View } from '../../../common/plugin-protocol';\nimport CoreURI from '@theia/core/lib/common/uri';\n\nexport const TREE_NODE_HYPERLINK = 'theia-TreeNodeHyperlink';\nexport const VIEW_ITEM_CONTEXT_MENU: MenuPath = ['view-item-context-menu'];\nexport const VIEW_ITEM_INLINE_MENU: MenuPath = ['view-item-inline-menu'];\n\nexport interface SelectionEventHandler {\n    readonly node: SelectableTreeNode;\n    readonly contextSelection: boolean;\n}\n\nexport interface TreeViewNode extends SelectableTreeNode {\n    contextValue?: string;\n    command?: Command;\n    resourceUri?: string;\n    themeIconId?: string | 'folder' | 'file';\n    tooltip?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n}\nexport namespace TreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is TreeViewNode {\n        return !!arg && SelectableTreeNode.is(arg) && !ExpandableTreeNode.is(arg) && !CompositeTreeNode.is(arg);\n    }\n}\n\nexport interface CompositeTreeViewNode extends TreeViewNode, ExpandableTreeNode, CompositeTreeNode {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n}\nexport namespace CompositeTreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is CompositeTreeViewNode {\n        return !!arg && SelectableTreeNode.is(arg) && ExpandableTreeNode.is(arg) && CompositeTreeNode.is(arg);\n    }\n}\n\n@injectable()\nexport class TreeViewWidgetIdentifier {\n    id: string;\n}\n\n@injectable()\nexport class PluginTree extends TreeImpl {\n\n    @inject(PluginSharedStyle)\n    protected readonly sharedStyle: PluginSharedStyle;\n\n    @inject(TreeViewWidgetIdentifier)\n    protected readonly identifier: TreeViewWidgetIdentifier;\n\n    @inject(MessageService)\n    protected readonly notification: MessageService;\n\n    private _proxy: TreeViewsExt | undefined;\n    private _viewInfo: View | undefined;\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this._proxy = proxy;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this._viewInfo = viewInfo;\n    }\n\n    protected async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!this._proxy) {\n            return super.resolveChildren(parent);\n        }\n        const children = await this.fetchChildren(this._proxy, parent);\n        return children.map(value => this.createTreeNode(value, parent));\n    }\n\n    protected async fetchChildren(proxy: TreeViewsExt, parent: CompositeTreeNode): Promise<TreeViewItem[]> {\n        try {\n            const children = await proxy.$getChildren(this.identifier.id, parent.id);\n            return children || [];\n        } catch (e) {\n            if (e) {\n                console.error(`Failed to fetch children for '${this.identifier.id}'`, e);\n                const label = this._viewInfo ? this._viewInfo.name : this.identifier.id;\n                this.notification.error(`${label}: ${e.message}`);\n            }\n            return [];\n        }\n    }\n\n    protected createTreeNode(item: TreeViewItem, parent: CompositeTreeNode): TreeNode {\n        const icon = this.toIconClass(item);\n        const resourceUri = item.resourceUri && URI.revive(item.resourceUri).toString();\n        const themeIconId = item.themeIconId ? item.themeIconId : item.collapsibleState !== TreeViewItemCollapsibleState.None ? 'folder' : 'file';\n        const update: Partial<TreeViewNode> = {\n            name: item.label,\n            icon,\n            description: item.description,\n            themeIconId,\n            resourceUri,\n            tooltip: item.tooltip,\n            contextValue: item.contextValue\n        };\n        const node = this.getNode(item.id);\n        if (item.collapsibleState !== undefined && item.collapsibleState !== TreeViewItemCollapsibleState.None) {\n            if (CompositeTreeViewNode.is(node)) {\n                return Object.assign(node, update);\n            }\n            return Object.assign({\n                id: item.id,\n                parent,\n                visible: true,\n                selected: false,\n                expanded: TreeViewItemCollapsibleState.Expanded === item.collapsibleState,\n                children: []\n            }, update);\n        }\n        if (TreeViewNode.is(node)) {\n            return Object.assign(node, update, { command: item.command });\n        }\n        return Object.assign({\n            id: item.id,\n            parent,\n            visible: true,\n            selected: false,\n            command: item.command\n        }, update);\n    }\n\n    protected toIconClass(item: TreeViewItem): string | undefined {\n        if (item.icon) {\n            return 'fa ' + item.icon;\n        }\n        if (item.iconUrl) {\n            const reference = this.sharedStyle.toIconClass(item.iconUrl);\n            this.toDispose.push(reference);\n            return reference.object.iconClass;\n        }\n        return undefined;\n    }\n\n}\n\n@injectable()\nexport class PluginTreeModel extends TreeModelImpl {\n\n    @inject(PluginTree)\n    protected readonly tree: PluginTree;\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this.tree.proxy = proxy;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this.tree.viewInfo = viewInfo;\n    }\n\n}\n\n@injectable()\nexport class TreeViewWidget extends TreeWidget {\n\n    protected _contextSelection = false;\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ViewContextKeyService)\n    protected readonly contextKeys: ViewContextKeyService;\n\n    @inject(TreeViewWidgetIdentifier)\n    readonly identifier: TreeViewWidgetIdentifier;\n\n    @inject(PluginTreeModel)\n    readonly model: PluginTreeModel;\n\n    protected readonly onDidChangeVisibilityEmitter = new Emitter<boolean>();\n    readonly onDidChangeVisibility = this.onDidChangeVisibilityEmitter.event;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.id = this.identifier.id;\n        this.addClass('theia-tree-view');\n        this.node.style.height = '100%';\n        this.toDispose.push(this.onDidChangeVisibilityEmitter);\n    }\n\n    protected renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        const icon = this.toNodeIcon(node);\n        if (icon) {\n            return <div className={icon + ' theia-tree-view-icon'}></div>;\n        }\n        return undefined;\n    }\n\n    protected renderCaption(node: TreeViewNode, props: NodeProps): React.ReactNode {\n        const classes = [TREE_NODE_SEGMENT_CLASS];\n        if (!this.hasTrailingSuffixes(node)) {\n            classes.push(TREE_NODE_SEGMENT_GROW_CLASS);\n        }\n        const className = classes.join(' ');\n        const title = node.tooltip ||\n            (node.resourceUri && this.labelProvider.getLongName(new CoreURI(node.resourceUri)))\n            || this.toNodeName(node);\n        const attrs = this.decorateCaption(node, {\n            className, id: node.id,\n            title\n        });\n\n        const children = this.getCaption(node);\n        return React.createElement('div', attrs, ...children);\n    }\n\n    protected getCaption(node: TreeNode): React.ReactNode {\n        const nodes: React.ReactNode[] = [];\n\n        const name = this.toNodeName(node) || '';\n        const description = this.toNodeDescription(node);\n\n        let work = name;\n\n        const regex = /\\[([^\\[]+)\\]\\(([^\\)]+)\\)/g;\n        const matchResult = work.match(regex);\n\n        if (matchResult) {\n            matchResult.forEach((match, index) => {\n                nodes.push(<span key={`m${index}`}>{work.substring(0, work.indexOf(match))}</span>);\n\n                const execResult = regex.exec(name);\n                nodes.push(<a key={`l${index}`}\n                    href={execResult![2]}\n                    target='_blank'\n                    className={TREE_NODE_HYPERLINK}\n                    onClick={e => e.stopPropagation()}>{execResult![1]}</a>\n                );\n\n                work = work.substring(work.indexOf(match) + match.length);\n            });\n        }\n\n        return <div className='noWrapInfoTree'>\n            {...nodes}\n            {work && <span>{work}</span>}\n            {description && <span className='theia-tree-view-description'>\n                {description}\n            </span>}\n        </div>;\n    }\n\n    protected renderTailDecorations(node: TreeViewNode, props: NodeProps): React.ReactNode {\n        if (this.model.selectedNodes.every(selected => selected.id !== node.id) && node.id !== this.hoverNodeId) {\n            return false;\n        }\n        return this.contextKeys.with({ view: this.id, viewItem: node.contextValue }, () => {\n            const menu = this.menus.getMenu(VIEW_ITEM_INLINE_MENU);\n            const arg = this.toTreeViewSelection(node);\n            return <React.Fragment>\n                {menu.children.map((item, index) => item instanceof ActionMenuNode && this.renderInlineCommand(item, index, arg))}\n            </React.Fragment>;\n        });\n    }\n\n    toTreeViewSelection(node: TreeNode): TreeViewSelection {\n        return { treeViewId: this.id, treeItemId: node.id };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected renderInlineCommand(node: ActionMenuNode, index: number, arg: any): React.ReactNode {\n        const { icon } = node;\n        if (!icon || !this.commands.isVisible(node.action.commandId, arg) || !this.contextKeys.match(node.action.when)) {\n            return false;\n        }\n        const className = [TREE_NODE_SEGMENT_CLASS, TREE_NODE_TAIL_CLASS, icon, 'theia-tree-view-inline-action'].join(' ');\n        return <div key={index} className={className} title={node.label} onClick={e => {\n            e.stopPropagation();\n            this.commands.executeCommand(node.action.commandId, arg);\n        }} />;\n    }\n\n    protected hoverNodeId: string | undefined;\n    protected setHoverNodeId(hoverNodeId: string | undefined): void {\n        this.hoverNodeId = hoverNodeId;\n        this.update();\n    }\n\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        return {\n            ...super.createNodeAttributes(node, props),\n            onMouseOver: () => this.setHoverNodeId(node.id),\n            onMouseOut: () => this.setHoverNodeId(undefined)\n        };\n    }\n\n    protected toContextMenuArgs(node: SelectableTreeNode): [TreeViewSelection] {\n        return [this.toTreeViewSelection(node)];\n    }\n\n    setFlag(flag: Widget.Flag): void {\n        super.setFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    clearFlag(flag: Widget.Flag): void {\n        super.clearFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    handleEnter(event: KeyboardEvent): void {\n        super.handleEnter(event);\n        this.tryExecuteCommand();\n    }\n\n    handleClickEvent(node: TreeNode, event: React.MouseEvent<HTMLElement>): void {\n        super.handleClickEvent(node, event);\n        this.tryExecuteCommand(node);\n    }\n\n    // execute TreeItem.command if present\n    protected tryExecuteCommand(node?: TreeNode): void {\n        const treeNodes = (node ? [node] : this.model.selectedNodes) as TreeViewNode[];\n        for (const treeNode of treeNodes) {\n            if (treeNode && treeNode.command) {\n                this.commands.executeCommand(treeNode.command.id, ...(treeNode.command.arguments || []));\n            }\n        }\n    }\n\n    private _message: string | undefined;\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.update();\n    }\n\n    protected render(): React.ReactNode {\n        return React.createElement('div', this.createContainerAttributes(), this.renderSearchInfo(), this.renderTree(this.model));\n    }\n\n    protected renderSearchInfo(): React.ReactNode {\n        if (this._message) {\n            return <div className='theia-TreeViewInfo'>{this._message}</div>;\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, postConstruct, inject } from 'inversify';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class ViewContextKeyService {\n\n    protected _view: ContextKey<string>;\n    get view(): ContextKey<string> {\n        return this._view;\n    }\n\n    protected _viewItem: ContextKey<string>;\n    get viewItem(): ContextKey<string> {\n        return this._viewItem;\n    }\n\n    protected _activeViewlet: ContextKey<string>;\n    /**\n     * Viewlet is a tab in the left area in VS Code. Active means visible in this context.\n     *\n     * In VS Code there can be only one visible viewlet at any time.\n     * It is not true for Theia, since views can be layed-out again to different areas.\n     * So only last visible view will be an active viewlet.\n     */\n    get activeViewlet(): ContextKey<string> {\n        return this._activeViewlet;\n    }\n\n    protected _activePanel: ContextKey<string>;\n    /**\n     * Panel is a tab in the bottom area in VS Code. Active means visible in this context.\n     *\n     * In VS Code there can be only one visible panel at any time.\n     * It is not true for Theia, since views can be layed-out again to different areas.\n     * So only last visible view will be an active panel.\n     */\n    get activePanel(): ContextKey<string> {\n        return this._activePanel;\n    }\n\n    protected _focusedView: ContextKey<string>;\n    get focusedView(): ContextKey<string> {\n        return this._focusedView;\n    }\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @postConstruct()\n    protected init(): void {\n        this._view = this.contextKeyService.createKey('view', '');\n        this._viewItem = this.contextKeyService.createKey('viewItem', '');\n        this._activeViewlet = this.contextKeyService.createKey('activeViewlet', '');\n        this._activePanel = this.contextKeyService.createKey('activePanel', '');\n        this._focusedView = this.contextKeyService.createKey('focusedView', '');\n    }\n\n    match(expression: string | undefined): boolean {\n        return !expression || this.contextKeyService.match(expression);\n    }\n\n    with<T>(input: { view?: string, viewItem?: string }, cb: () => T): T {\n        const view = this.view.get();\n        const viewItem = this.viewItem.get();\n        this.view.set(input.view);\n        this.viewItem.set(input.viewItem);\n        try {\n            return cb();\n        } finally {\n            this.view.set(view);\n            this.viewItem.set(viewItem);\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { MarkdownString as IMarkdownString } from '../common/plugin-api-rpc-model';\n\nexport class MarkdownString {\n\n    value: string;\n    isTrusted?: boolean;\n\n    constructor(value?: string) {\n        this.value = value || '';\n    }\n\n    appendText(value: string): MarkdownString {\n        // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        this.value += value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&');\n        return this;\n    }\n\n    appendMarkdown(value: string): MarkdownString {\n        this.value += value;\n        return this;\n    }\n\n    appendCodeblock(code: string, language: string = ''): MarkdownString {\n        this.value += '\\n```';\n        this.value += language;\n        this.value += '\\n';\n        this.value += code;\n        this.value += '\\n```\\n';\n        return this;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isMarkdownString(thing: any): thing is IMarkdownString {\n    if (thing instanceof MarkdownString) {\n        return true;\n    } else if (thing && typeof thing === 'object') {\n        return typeof (<MarkdownString>thing).value === 'string'\n            && (typeof (<MarkdownString>thing).isTrusted === 'boolean' || (<MarkdownString>thing).isTrusted === undefined);\n    }\n    return false;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n// copied from https://github.com/microsoft/vscode/blob/1.37.0/src/vs/workbench/api/common/extHostTypes.ts\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\n\n/* eslint-disable no-null/no-null */\n\nimport { UUID } from '@phosphor/coreutils/lib/uuid';\nimport { illegalArgument } from '../common/errors';\nimport * as theia from '@theia/plugin';\nimport * as crypto from 'crypto';\nimport { URI } from 'vscode-uri';\nimport { relative } from '../common/paths-util';\nimport { startsWithIgnoreCase } from '@theia/languages/lib/common/language-selector/strings';\nimport { MarkdownString, isMarkdownString } from './markdown-string';\nimport { SymbolKind } from '../common/plugin-api-rpc-model';\n\nexport class Disposable {\n    private disposable: undefined | (() => void);\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static from(...disposables: { dispose(): any }[]): Disposable {\n        return new Disposable(() => {\n            if (disposables) {\n                for (const disposable of disposables) {\n                    if (disposable && typeof disposable.dispose === 'function') {\n                        disposable.dispose();\n                    }\n                }\n            }\n        });\n    }\n\n    constructor(func: () => void) {\n        this.disposable = func;\n    }\n    /**\n     * Dispose this object.\n     */\n    dispose(): void {\n        if (this.disposable) {\n            this.disposable();\n            this.disposable = undefined;\n        }\n    }\n\n    static create(func: () => void): Disposable {\n        return new Disposable(func);\n    }\n}\n\nexport enum StatusBarAlignment {\n    Left = 1,\n    Right = 2\n}\n\nexport enum TextEditorLineNumbersStyle {\n    Off = 0,\n    On = 1,\n    Relative = 2\n}\n\n/**\n * Denotes a column in the editor window.\n * Columns are used to show editors side by side.\n */\nexport enum ViewColumn {\n    Active = -1,\n    Beside = -2,\n    One = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4,\n    Five = 5,\n    Six = 6,\n    Seven = 7,\n    Eight = 8,\n    Nine = 9\n}\n\n/**\n * Represents sources that can cause `window.onDidChangeEditorSelection`\n */\nexport enum TextEditorSelectionChangeKind {\n    Keyboard = 1,\n\n    Mouse = 2,\n\n    Command = 3\n}\n\nexport namespace TextEditorSelectionChangeKind {\n    export function fromValue(s: string | undefined): TextEditorSelectionChangeKind | undefined {\n        switch (s) {\n            case 'keyboard': return TextEditorSelectionChangeKind.Keyboard;\n            case 'mouse': return TextEditorSelectionChangeKind.Mouse;\n            case 'api': return TextEditorSelectionChangeKind.Command;\n        }\n        return undefined;\n    }\n}\n\nexport class Position {\n    private _line: number;\n    private _character: number;\n    constructor(line: number, char: number) {\n        if (line < 0) {\n            throw new Error('line number cannot be negative');\n        }\n        if (char < 0) {\n            throw new Error('char number cannot be negative');\n        }\n        this._line = line;\n        this._character = char;\n    }\n\n    get line(): number {\n        return this._line;\n    }\n\n    get character(): number {\n        return this._character;\n    }\n\n    isBefore(other: Position): boolean {\n        if (this._line < other._line) {\n            return true;\n        }\n        if (other._line < this._line) {\n            return false;\n        }\n        return this._character < other._character;\n    }\n\n    isBeforeOrEqual(other: Position): boolean {\n        if (this._line < other._line) {\n            return true;\n        }\n        if (other._line < this._line) {\n            return false;\n        }\n        return this._character <= other._character;\n    }\n\n    isAfter(other: Position): boolean {\n        return !this.isBeforeOrEqual(other);\n    }\n\n    isAfterOrEqual(other: Position): boolean {\n        return !this.isBefore(other);\n    }\n\n    isEqual(other: Position): boolean {\n        return this._line === other._line && this._character === other._character;\n    }\n\n    compareTo(other: Position): number {\n        if (this._line < other._line) {\n            return -1;\n        } else if (this._line > other.line) {\n            return 1;\n        } else {\n            // equal line\n            if (this._character < other._character) {\n                return -1;\n            } else if (this._character > other._character) {\n                return 1;\n            } else {\n                // equal line and character\n                return 0;\n            }\n        }\n    }\n\n    translate(change: { lineDelta?: number; characterDelta?: number; }): Position;\n    translate(lineDelta?: number, characterDelta?: number): Position;\n    translate(lineDeltaOrChange: number | { lineDelta?: number; characterDelta?: number; } | undefined, characterDelta: number = 0): Position {\n\n        if (lineDeltaOrChange === null || characterDelta === null) {\n            throw illegalArgument();\n        }\n\n        let lineDelta: number;\n        if (typeof lineDeltaOrChange === 'undefined') {\n            lineDelta = 0;\n        } else if (typeof lineDeltaOrChange === 'number') {\n            lineDelta = lineDeltaOrChange;\n        } else {\n            lineDelta = typeof lineDeltaOrChange.lineDelta === 'number' ? lineDeltaOrChange.lineDelta : 0;\n            characterDelta = typeof lineDeltaOrChange.characterDelta === 'number' ? lineDeltaOrChange.characterDelta : 0;\n        }\n\n        if (lineDelta === 0 && characterDelta === 0) {\n            return this;\n        }\n        return new Position(this.line + lineDelta, this.character + characterDelta);\n    }\n\n    with(change: { line?: number; character?: number; }): Position;\n    with(line?: number, character?: number): Position;\n    with(lineOrChange: number | { line?: number; character?: number; } | undefined, character: number = this.character): Position {\n\n        if (lineOrChange === null || character === null) {\n            throw illegalArgument();\n        }\n\n        let line: number;\n        if (typeof lineOrChange === 'undefined') {\n            line = this.line;\n\n        } else if (typeof lineOrChange === 'number') {\n            line = lineOrChange;\n\n        } else {\n            line = typeof lineOrChange.line === 'number' ? lineOrChange.line : this.line;\n            character = typeof lineOrChange.character === 'number' ? lineOrChange.character : this.character;\n        }\n\n        if (line === this.line && character === this.character) {\n            return this;\n        }\n        return new Position(line, character);\n    }\n\n    static Min(...positions: Position[]): Position {\n        let result = positions.pop();\n        for (const p of positions) {\n            if (p.isBefore(result!)) {\n                result = p;\n            }\n        }\n        return result!;\n    }\n\n    static Max(...positions: Position[]): Position {\n        let result = positions.pop();\n        for (const p of positions) {\n            if (p.isAfter(result!)) {\n                result = p;\n            }\n        }\n        return result!;\n    }\n\n    static isPosition(other: {}): other is Position {\n        if (!other) {\n            return false;\n        }\n        if (other instanceof Position) {\n            return true;\n        }\n        const { line, character } = <Position>other;\n        if (typeof line === 'number' && typeof character === 'number') {\n            return true;\n        }\n        return false;\n    }\n}\n\nexport class Range {\n    protected _start: Position;\n    protected _end: Position;\n\n    constructor(start: Position, end: Position);\n    constructor(startLine: number, startColumn: number, endLine: number, endColumn: number);\n    constructor(startLineOrStart: number | Position, startColumnOrEnd: number | Position, endLine?: number, endColumn?: number) {\n        let start: Position | undefined = undefined;\n        let end: Position | undefined = undefined;\n\n        if (typeof startLineOrStart === 'number' && typeof startColumnOrEnd === 'number' && typeof endLine === 'number' && typeof endColumn === 'number') {\n            start = new Position(startLineOrStart, startColumnOrEnd);\n            end = new Position(endLine, endColumn);\n        } else if (startLineOrStart instanceof Position && startColumnOrEnd instanceof Position) {\n            start = startLineOrStart;\n            end = startColumnOrEnd;\n        }\n\n        if (!start || !end) {\n            throw new Error('Invalid arguments');\n        }\n\n        if (start.isBefore(end)) {\n            this._start = start;\n            this._end = end;\n        } else {\n            this._start = end;\n            this._end = start;\n        }\n    }\n\n    get start(): Position {\n        return this._start;\n    }\n\n    get end(): Position {\n        return this._end;\n    }\n\n    contains(positionOrRange: Position | Range): boolean {\n        if (positionOrRange instanceof Range) {\n            return this.contains(positionOrRange._start)\n                && this.contains(positionOrRange._end);\n\n        } else if (positionOrRange instanceof Position) {\n            if (positionOrRange.isBefore(this._start)) {\n                return false;\n            }\n            if (this._end.isBefore(positionOrRange)) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n\n    isEqual(other: Range): boolean {\n        return this._start.isEqual(other._start) && this._end.isEqual(other._end);\n    }\n\n    intersection(other: Range): Range | undefined {\n        const start = Position.Max(other.start, this._start);\n        const end = Position.Min(other.end, this._end);\n        if (start.isAfter(end)) {\n            // this happens when there is no overlap:\n            // |-----|\n            //          |----|\n            return undefined;\n        }\n        return new Range(start, end);\n    }\n\n    union(other: Range): Range {\n        if (this.contains(other)) {\n            return this;\n        } else if (other.contains(this)) {\n            return other;\n        }\n        const start = Position.Min(other.start, this._start);\n        const end = Position.Max(other.end, this.end);\n        return new Range(start, end);\n    }\n\n    get isEmpty(): boolean {\n        return this._start.isEqual(this._end);\n    }\n\n    get isSingleLine(): boolean {\n        return this._start.line === this._end.line;\n    }\n\n    with(change: { start?: Position, end?: Position }): Range;\n    with(start?: Position, end?: Position): Range;\n    with(startOrChange: Position | { start?: Position, end?: Position } | undefined, end: Position = this.end): Range {\n\n        if (startOrChange === null || end === null) {\n            throw illegalArgument();\n        }\n\n        let start: Position;\n        if (!startOrChange) {\n            start = this.start;\n\n        } else if (Position.isPosition(startOrChange)) {\n            start = startOrChange;\n\n        } else {\n            start = startOrChange.start || this.start;\n            end = startOrChange.end || this.end;\n        }\n\n        if (start.isEqual(this._start) && end.isEqual(this.end)) {\n            return this;\n        }\n        return new Range(start, end);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static isRange(thing: any): thing is theia.Range {\n        if (thing instanceof Range) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return Position.isPosition((<Range>thing).start)\n            && Position.isPosition((<Range>thing).end);\n    }\n\n}\n\nexport class Selection extends Range {\n    private _anchor: Position;\n    private _active: Position;\n    constructor(anchor: Position, active: Position);\n    constructor(anchorLine: number, anchorColumn: number, activeLine: number, activeColumn: number);\n    constructor(anchorLineOrAnchor: number | Position, anchorColumnOrActive: number | Position, activeLine?: number, activeColumn?: number) {\n        let anchor: Position | undefined = undefined;\n        let active: Position | undefined = undefined;\n\n        if (typeof anchorLineOrAnchor === 'number' && typeof anchorColumnOrActive === 'number' && typeof activeLine === 'number' && typeof activeColumn === 'number') {\n            anchor = new Position(anchorLineOrAnchor, anchorColumnOrActive);\n            active = new Position(activeLine, activeColumn);\n        } else if (anchorLineOrAnchor instanceof Position && anchorColumnOrActive instanceof Position) {\n            anchor = anchorLineOrAnchor;\n            active = anchorColumnOrActive;\n        }\n\n        if (!anchor || !active) {\n            throw new Error('Invalid arguments');\n        }\n\n        super(anchor, active);\n\n        this._anchor = anchor;\n        this._active = active;\n    }\n\n    get active(): Position {\n        return this._active;\n    }\n\n    get anchor(): Position {\n        return this._anchor;\n    }\n\n    get isReversed(): boolean {\n        return this._anchor === this._end;\n    }\n}\n\nexport enum EndOfLine {\n    LF = 1,\n    CRLF = 2\n}\n\nexport class SnippetString {\n\n    static isSnippetString(thing: {}): thing is SnippetString {\n        if (thing instanceof SnippetString) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof (<SnippetString>thing).value === 'string';\n    }\n\n    private static _escape(value: string): string {\n        return value.replace(/\\$|}|\\\\/g, '\\\\$&');\n    }\n\n    private _tabstop: number = 1;\n\n    value: string;\n\n    constructor(value?: string) {\n        this.value = value || '';\n    }\n\n    appendText(string: string): SnippetString {\n        this.value += SnippetString._escape(string);\n        return this;\n    }\n\n    appendTabstop(number: number = this._tabstop++): SnippetString {\n        this.value += '$';\n        this.value += number;\n        return this;\n    }\n\n    appendPlaceholder(value: string | ((snippet: SnippetString) => void), number: number = this._tabstop++): SnippetString {\n\n        if (typeof value === 'function') {\n            const nested = new SnippetString();\n            nested._tabstop = this._tabstop;\n            value(nested);\n            this._tabstop = nested._tabstop;\n            value = nested.value;\n        } else {\n            value = SnippetString._escape(value);\n        }\n\n        this.value += '${';\n        this.value += number;\n        this.value += ':';\n        this.value += value;\n        this.value += '}';\n\n        return this;\n    }\n\n    appendVariable(name: string, defaultValue?: string | ((snippet: SnippetString) => void)): SnippetString {\n\n        if (typeof defaultValue === 'function') {\n            const nested = new SnippetString();\n            nested._tabstop = this._tabstop;\n            defaultValue(nested);\n            this._tabstop = nested._tabstop;\n            defaultValue = nested.value;\n\n        } else if (typeof defaultValue === 'string') {\n            defaultValue = defaultValue.replace(/\\$|}/g, '\\\\$&');\n        }\n\n        this.value += '${';\n        this.value += name;\n        if (defaultValue) {\n            this.value += ':';\n            this.value += defaultValue;\n        }\n        this.value += '}';\n\n        return this;\n    }\n}\n\nexport class ThemeColor {\n    constructor(public id: string) {\n    }\n}\n\nexport class ThemeIcon {\n\n    static readonly File: ThemeIcon = new ThemeIcon('file');\n\n    static readonly Folder: ThemeIcon = new ThemeIcon('folder');\n\n    private constructor(public id: string) {\n    }\n\n}\n\nexport enum TextEditorRevealType {\n    Default = 0,\n    InCenter = 1,\n    InCenterIfOutsideViewport = 2,\n    AtTop = 3\n}\n\n/**\n * These values match very carefully the values of `TrackedRangeStickiness`\n */\nexport enum DecorationRangeBehavior {\n    /**\n     * TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges\n     */\n    OpenOpen = 0,\n    /**\n     * TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n     */\n    ClosedClosed = 1,\n    /**\n     * TrackedRangeStickiness.GrowsOnlyWhenTypingBefore\n     */\n    OpenClosed = 2,\n    /**\n     * TrackedRangeStickiness.GrowsOnlyWhenTypingAfter\n     */\n    ClosedOpen = 3\n}\n\n/**\n * Vertical Lane in the overview ruler of the editor.\n */\nexport enum OverviewRulerLane {\n    Left = 1,\n    Center = 2,\n    Right = 4,\n    Full = 7\n}\n\nexport enum ConfigurationTarget {\n    Global = 1,\n    Workspace,\n    WorkspaceFolder,\n    Default,\n    Memory\n}\n\nexport class RelativePattern {\n\n    base: string;\n\n    constructor(base: theia.WorkspaceFolder | string, public pattern: string) {\n        if (typeof base !== 'string') {\n            if (!base || !URI.isUri(base.uri)) {\n                throw illegalArgument('base');\n            }\n        }\n\n        if (typeof pattern !== 'string') {\n            throw illegalArgument('pattern');\n        }\n\n        this.base = typeof base === 'string' ? base : base.uri.fsPath;\n    }\n\n    pathToRelative(from: string, to: string): string {\n        return relative(from, to);\n    }\n}\n\nexport enum IndentAction {\n    None = 0,\n    Indent = 1,\n    IndentOutdent = 2,\n    Outdent = 3\n}\n\nexport class TextEdit {\n\n    protected _range: Range;\n    protected _newText: string;\n    protected _newEol: EndOfLine;\n\n    get range(): Range {\n        return this._range;\n    }\n\n    set range(value: Range) {\n        if (value && !Range.isRange(value)) {\n            throw illegalArgument('range');\n        }\n        this._range = value;\n    }\n\n    get newText(): string {\n        return this._newText || '';\n    }\n\n    set newText(value: string) {\n        if (value && typeof value !== 'string') {\n            throw illegalArgument('newText');\n        }\n        this._newText = value;\n    }\n\n    get newEol(): EndOfLine {\n        return this._newEol;\n    }\n\n    set newEol(value: EndOfLine) {\n        if (value && typeof value !== 'number') {\n            throw illegalArgument('newEol');\n        }\n        this._newEol = value;\n    }\n\n    constructor(range: Range | undefined, newText: string | undefined) {\n        this.range = range!;\n        this.newText = newText!;\n    }\n\n    static isTextEdit(thing: {}): thing is TextEdit {\n        if (thing instanceof TextEdit) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return Range.isRange((<TextEdit>thing).range)\n            && typeof (<TextEdit>thing).newText === 'string';\n    }\n\n    static replace(range: Range, newText: string): TextEdit {\n        return new TextEdit(range, newText);\n    }\n\n    static insert(position: Position, newText: string): TextEdit {\n        return TextEdit.replace(new Range(position, position), newText);\n    }\n\n    static delete(range: Range): TextEdit {\n        return TextEdit.replace(range, '');\n    }\n\n    static setEndOfLine(eol: EndOfLine): TextEdit {\n        const ret = new TextEdit(undefined, undefined);\n        ret.newEol = eol;\n        return ret;\n    }\n}\n\nexport enum CompletionTriggerKind {\n    Invoke = 0,\n    TriggerCharacter = 1,\n    TriggerForIncompleteCompletions = 2\n}\n\nexport enum CompletionItemKind {\n    Text = 0,\n    Method = 1,\n    Function = 2,\n    Constructor = 3,\n    Field = 4,\n    Variable = 5,\n    Class = 6,\n    Interface = 7,\n    Module = 8,\n    Property = 9,\n    Unit = 10,\n    Value = 11,\n    Enum = 12,\n    Keyword = 13,\n    Snippet = 14,\n    Color = 15, // eslint-disable-line no-shadow\n    File = 16,\n    Reference = 17,\n    Folder = 18,\n    EnumMember = 19,\n    Constant = 20,\n    Struct = 21,\n    Event = 22,\n    Operator = 23,\n    TypeParameter = 24\n}\n\nexport class CompletionItem implements theia.CompletionItem {\n\n    label: string;\n    kind?: CompletionItemKind;\n    detail: string;\n    documentation: string | MarkdownString;\n    sortText: string;\n    filterText: string;\n    preselect: boolean;\n    insertText: string | SnippetString;\n    range: Range;\n    textEdit: TextEdit;\n    additionalTextEdits: TextEdit[];\n    command: theia.Command;\n\n    constructor(label: string, kind?: CompletionItemKind) {\n        this.label = label;\n        this.kind = kind;\n    }\n}\n\nexport class CompletionList {\n\n    isIncomplete?: boolean;\n\n    items: theia.CompletionItem[];\n\n    constructor(items: theia.CompletionItem[] = [], isIncomplete: boolean = false) {\n        this.items = items;\n        this.isIncomplete = isIncomplete;\n    }\n}\n\nexport enum DiagnosticSeverity {\n    Error = 0,\n    Warning = 1,\n    Information = 2,\n    Hint = 3\n}\n\nexport class DiagnosticRelatedInformation {\n    location: Location;\n    message: string;\n\n    constructor(location: Location, message: string) {\n        this.location = location;\n        this.message = message;\n    }\n}\n\nexport class Location {\n    uri: URI;\n    range: Range;\n\n    constructor(uri: URI, rangeOrPosition: Range | Position | undefined) {\n        this.uri = uri;\n        if (rangeOrPosition instanceof Range) {\n            this.range = rangeOrPosition;\n        } else if (rangeOrPosition instanceof Position) {\n            this.range = new Range(rangeOrPosition, rangeOrPosition);\n        }\n    }\n\n    static isLocation(thing: {}): thing is theia.Location {\n        if (thing instanceof Location) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return Range.isRange((<Location>thing).range)\n            && URI.isUri((<Location>thing).uri);\n    }\n}\n\nexport enum DiagnosticTag {\n    Unnecessary = 1,\n}\n\nexport class Diagnostic {\n    range: Range;\n    message: string;\n    severity: DiagnosticSeverity;\n    source?: string;\n    code?: string | number;\n    relatedInformation?: DiagnosticRelatedInformation[];\n    tags?: DiagnosticTag[];\n\n    constructor(range: Range, message: string, severity: DiagnosticSeverity = DiagnosticSeverity.Error) {\n        this.range = range;\n        this.message = message;\n        this.severity = severity;\n    }\n}\n\nexport enum MarkerSeverity {\n    Hint = 1,\n    Info = 2,\n    Warning = 4,\n    Error = 8,\n}\n\nexport enum MarkerTag {\n    Unnecessary = 1,\n}\n\nexport class ParameterInformation {\n    label: string | [number, number];\n    documentation?: string | MarkdownString;\n\n    constructor(label: string | [number, number], documentation?: string | MarkdownString) {\n        this.label = label;\n        this.documentation = documentation;\n    }\n}\n\nexport class SignatureInformation {\n    label: string;\n    documentation?: string | MarkdownString;\n    parameters: ParameterInformation[];\n\n    constructor(label: string, documentation?: string | MarkdownString) {\n        this.label = label;\n        this.documentation = documentation;\n        this.parameters = [];\n    }\n}\n\nexport enum SignatureHelpTriggerKind {\n    Invoke = 1,\n    TriggerCharacter = 2,\n    ContentChange = 3,\n}\n\nexport class SignatureHelp {\n    signatures: SignatureInformation[];\n    activeSignature: number;\n    activeParameter: number;\n\n    constructor() {\n        this.signatures = [];\n    }\n}\n\nexport class Hover {\n\n    public contents: MarkdownString[] | theia.MarkedString[];\n    public range?: Range;\n\n    constructor(\n        contents: MarkdownString | theia.MarkedString | MarkdownString[] | theia.MarkedString[],\n        range?: Range\n    ) {\n        if (!contents) {\n            illegalArgument('contents must be defined');\n        }\n        if (Array.isArray(contents)) {\n            this.contents = <MarkdownString[] | theia.MarkedString[]>contents;\n        } else if (isMarkdownString(contents)) {\n            this.contents = [contents];\n        } else {\n            this.contents = [contents];\n        }\n        this.range = range;\n    }\n}\n\nexport enum DocumentHighlightKind {\n    Text = 0,\n    Read = 1,\n    Write = 2\n}\n\nexport class DocumentHighlight {\n\n    public range: Range;\n    public kind?: DocumentHighlightKind;\n\n    constructor(\n        range: Range,\n        kind?: DocumentHighlightKind\n    ) {\n        this.range = range;\n        this.kind = kind;\n    }\n}\n\nexport type Definition = Location | Location[];\n\nexport class DocumentLink {\n    range: Range;\n    target: URI;\n\n    constructor(range: Range, target: URI) {\n        if (target && !(target instanceof URI)) {\n            throw illegalArgument('target');\n        }\n        if (!Range.isRange(range) || range.isEmpty) {\n            throw illegalArgument('range');\n        }\n        this.range = range;\n        this.target = target;\n    }\n}\n\nexport class CodeLens {\n\n    range: Range;\n\n    command?: theia.Command;\n\n    get isResolved(): boolean {\n        return !!this.command;\n    }\n\n    constructor(range: Range, command?: theia.Command) {\n        this.range = range;\n        this.command = command;\n    }\n}\n\nexport enum CodeActionTrigger {\n    Automatic = 1,\n    Manual = 2,\n}\n\nexport class CodeActionKind {\n    private static readonly sep = '.';\n\n    public static readonly Empty = new CodeActionKind('');\n    public static readonly QuickFix = CodeActionKind.Empty.append('quickfix');\n    public static readonly Refactor = CodeActionKind.Empty.append('refactor');\n    public static readonly RefactorExtract = CodeActionKind.Refactor.append('extract');\n    public static readonly RefactorInline = CodeActionKind.Refactor.append('inline');\n    public static readonly RefactorRewrite = CodeActionKind.Refactor.append('rewrite');\n    public static readonly Source = CodeActionKind.Empty.append('source');\n    public static readonly SourceOrganizeImports = CodeActionKind.Source.append('organizeImports');\n    public static readonly SourceFixAll = CodeActionKind.Source.append('fixAll');\n\n    constructor(\n        public readonly value: string\n    ) { }\n\n    public append(parts: string): CodeActionKind {\n        return new CodeActionKind(this.value ? this.value + CodeActionKind.sep + parts : parts);\n    }\n\n    public contains(other: CodeActionKind): boolean {\n        return this.value === other.value || startsWithIgnoreCase(other.value, this.value + CodeActionKind.sep);\n    }\n\n    public intersects(other: CodeActionKind): boolean {\n        return this.contains(other) || other.contains(this);\n    }\n}\n\nexport enum TextDocumentSaveReason {\n    Manual = 1,\n    AfterDelay = 2,\n    FocusOut = 3\n}\n\nexport class CodeAction {\n    title: string;\n\n    command?: theia.Command;\n\n    edit?: WorkspaceEdit;\n\n    diagnostics?: Diagnostic[];\n\n    kind?: CodeActionKind;\n\n    constructor(title: string, kind?: CodeActionKind) {\n        this.title = title;\n        this.kind = kind;\n    }\n}\n\nexport interface FileOperationOptions {\n    overwrite?: boolean;\n    ignoreIfExists?: boolean;\n    ignoreIfNotExists?: boolean;\n    recursive?: boolean;\n}\nexport interface FileOperation {\n    _type: 1;\n    from: URI | undefined;\n    to: URI | undefined;\n    options?: FileOperationOptions;\n}\n\nexport interface FileTextEdit {\n    _type: 2;\n    uri: URI;\n    edit: TextEdit;\n}\n\nexport class WorkspaceEdit implements theia.WorkspaceEdit {\n\n    private _edits = new Array<FileOperation | FileTextEdit | undefined>();\n\n    renameFile(from: theia.Uri, to: theia.Uri, options?: { overwrite?: boolean, ignoreIfExists?: boolean }): void {\n        this._edits.push({ _type: 1, from, to, options });\n    }\n\n    createFile(uri: theia.Uri, options?: { overwrite?: boolean, ignoreIfExists?: boolean }): void {\n        this._edits.push({ _type: 1, from: undefined, to: uri, options });\n    }\n\n    deleteFile(uri: theia.Uri, options?: { recursive?: boolean, ignoreIfNotExists?: boolean }): void {\n        this._edits.push({ _type: 1, from: uri, to: undefined, options });\n    }\n\n    replace(uri: URI, range: Range, newText: string): void {\n        this._edits.push({ _type: 2, uri, edit: new TextEdit(range, newText) });\n    }\n\n    insert(resource: URI, position: Position, newText: string): void {\n        this.replace(resource, new Range(position, position), newText);\n    }\n\n    delete(resource: URI, range: Range): void {\n        this.replace(resource, range, '');\n    }\n\n    has(uri: URI): boolean {\n        for (const edit of this._edits) {\n            if (edit && edit._type === 2 && edit.uri.toString() === uri.toString()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    set(uri: URI, edits: TextEdit[]): void {\n        if (!edits) {\n            // remove all text edits for `uri`\n            for (let i = 0; i < this._edits.length; i++) {\n                const element = this._edits[i];\n                if (element && element._type === 2 && element.uri.toString() === uri.toString()) {\n                    this._edits[i] = undefined;\n                }\n            }\n            this._edits = this._edits.filter(e => !!e);\n        } else {\n            // append edit to the end\n            for (const edit of edits) {\n                if (edit) {\n                    this._edits.push({ _type: 2, uri, edit });\n                }\n            }\n        }\n    }\n\n    get(uri: URI): TextEdit[] {\n        const res: TextEdit[] = [];\n        for (const candidate of this._edits) {\n            if (candidate && candidate._type === 2 && candidate.uri.toString() === uri.toString()) {\n                res.push(candidate.edit);\n            }\n        }\n        if (res.length === 0) {\n            return undefined!;\n        }\n        return res;\n    }\n\n    entries(): [URI, TextEdit[]][] {\n        const textEdits = new Map<string, [URI, TextEdit[]]>();\n        for (const candidate of this._edits) {\n            if (candidate && candidate._type === 2) {\n                let textEdit = textEdits.get(candidate.uri.toString());\n                if (!textEdit) {\n                    textEdit = [candidate.uri, []];\n                    textEdits.set(candidate.uri.toString(), textEdit);\n                }\n                textEdit[1].push(candidate.edit);\n            }\n        }\n        const result: [URI, TextEdit[]][] = [];\n        textEdits.forEach(v => result.push(v));\n        return result;\n    }\n\n    _allEntries(): ([URI, TextEdit[]] | [URI, URI, FileOperationOptions])[] {\n        const res: ([URI, TextEdit[]] | [URI, URI, FileOperationOptions])[] = [];\n        for (const edit of this._edits) {\n            if (!edit) {\n                continue;\n            }\n            if (edit._type === 1) {\n                res.push([edit.from!, edit.to!, edit.options!]);\n            } else {\n                res.push([edit.uri, [edit.edit]]);\n            }\n        }\n        return res;\n    }\n\n    get size(): number {\n        return this.entries().length;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    toJSON(): any {\n        return this.entries();\n    }\n}\n\nexport class TreeItem {\n\n    label?: string | theia.TreeItemLabel;\n\n    id?: string;\n\n    iconPath?: string | URI | { light: string | URI; dark: string | URI } | ThemeIcon;\n\n    resourceUri?: URI;\n\n    tooltip?: string | undefined;\n\n    command?: theia.Command;\n\n    contextValue?: string;\n\n    constructor(label: string | theia.TreeItemLabel, collapsibleState?: theia.TreeItemCollapsibleState)\n    constructor(resourceUri: URI, collapsibleState?: theia.TreeItemCollapsibleState)\n    constructor(arg1: string | theia.TreeItemLabel | URI, public collapsibleState: theia.TreeItemCollapsibleState = TreeItemCollapsibleState.None) {\n        if (arg1 instanceof URI) {\n            this.resourceUri = arg1;\n        } else {\n            this.label = arg1;\n        }\n    }\n}\n\nexport enum TreeItemCollapsibleState {\n    None = 0,\n    Collapsed = 1,\n    Expanded = 2\n}\n\nexport enum SymbolTag {\n    Deprecated = 1\n}\n\nexport class SymbolInformation {\n\n    static validate(candidate: SymbolInformation): void {\n        if (!candidate.name) {\n            throw new Error('Should provide a name inside candidate field');\n        }\n    }\n\n    name: string;\n    location: Location;\n    kind: SymbolKind;\n    tags?: SymbolTag[];\n    containerName: undefined | string;\n    constructor(name: string, kind: SymbolKind, containerName: string, location: Location);\n    constructor(name: string, kind: SymbolKind, range: Range, uri?: URI, containerName?: string);\n    constructor(name: string, kind: SymbolKind, rangeOrContainer: string | Range, locationOrUri?: Location | URI, containerName?: string) {\n        this.name = name;\n        this.kind = kind;\n        this.containerName = containerName;\n\n        if (typeof rangeOrContainer === 'string') {\n            this.containerName = rangeOrContainer;\n        }\n\n        if (locationOrUri instanceof Location) {\n            this.location = locationOrUri;\n        } else if (rangeOrContainer instanceof Range) {\n            this.location = new Location(locationOrUri!, rangeOrContainer);\n        }\n\n        SymbolInformation.validate(this);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    toJSON(): any {\n        return {\n            name: this.name,\n            kind: SymbolKind[this.kind],\n            location: this.location,\n            containerName: this.containerName\n        };\n    }\n}\n\nexport class DocumentSymbol {\n\n    static validate(candidate: DocumentSymbol): void {\n        if (!candidate.name) {\n            throw new Error('Should provide a name inside candidate field');\n        }\n        if (!candidate.range.contains(candidate.selectionRange)) {\n            throw new Error('selectionRange must be contained in fullRange');\n        }\n        if (candidate.children) {\n            candidate.children.forEach(DocumentSymbol.validate);\n        }\n    }\n\n    name: string;\n    detail: string;\n    kind: SymbolKind;\n    tags?: SymbolTag[];\n    range: Range;\n    selectionRange: Range;\n    children: DocumentSymbol[];\n\n    constructor(name: string, detail: string, kind: SymbolKind, range: Range, selectionRange: Range) {\n        this.name = name;\n        this.detail = detail;\n        this.kind = kind;\n        this.range = range;\n        this.selectionRange = selectionRange;\n        this.children = [];\n\n        DocumentSymbol.validate(this);\n    }\n}\n\nexport enum FileChangeType {\n    Changed = 1,\n    Created = 2,\n    Deleted = 3,\n}\n\nexport enum CommentThreadCollapsibleState {\n    Collapsed = 0,\n    Expanded = 1\n}\n\nexport interface QuickInputButton {\n    readonly iconPath: URI | { light: string | URI; dark: string | URI } | ThemeIcon;\n    readonly tooltip?: string | undefined;\n}\n\nexport class QuickInputButtons {\n    static readonly Back: QuickInputButton = {\n        iconPath: {\n            id: 'Back'\n        },\n        tooltip: 'Back'\n    };\n}\n\nexport enum CommentMode {\n    Editing = 0,\n    Preview = 1\n}\n\nexport class FileSystemError extends Error {\n\n    static FileExists(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'EntryExists', FileSystemError.FileExists);\n    }\n    static FileNotFound(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'EntryNotFound', FileSystemError.FileNotFound);\n    }\n    static FileNotADirectory(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'EntryNotADirectory', FileSystemError.FileNotADirectory);\n    }\n    static FileIsADirectory(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'EntryIsADirectory', FileSystemError.FileIsADirectory);\n    }\n    static NoPermissions(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'NoPermissions', FileSystemError.NoPermissions);\n    }\n    static Unavailable(messageOrUri?: string | URI): FileSystemError {\n        return new FileSystemError(messageOrUri, 'Unavailable', FileSystemError.Unavailable);\n    }\n\n    constructor(uriOrMessage?: string | URI, code?: string, terminator?: Function) {\n        super(URI.isUri(uriOrMessage) ? uriOrMessage.toString(true) : uriOrMessage);\n        this.name = code ? `${code} (FileSystemError)` : 'FileSystemError';\n\n        if (typeof Object.setPrototypeOf === 'function') {\n            Object.setPrototypeOf(this, FileSystemError.prototype);\n        }\n\n        if (typeof Error.captureStackTrace === 'function' && typeof terminator === 'function') {\n            Error.captureStackTrace(this, terminator);\n        }\n    }\n}\n\nexport enum FileType {\n    Unknown = 0,\n    File = 1,\n    Directory = 2,\n    SymbolicLink = 64\n}\n\nexport interface FileStat {\n    readonly type: FileType;\n    readonly ctime: number;\n    readonly mtime: number;\n    readonly size: number;\n}\n\nexport class ProgressOptions {\n    /**\n     * The location at which progress should show.\n     */\n    location: ProgressLocation;\n    /**\n     * A human-readable string which will be used to describe the\n     * operation.\n     */\n    title?: string;\n    /**\n     * Controls if a cancel button should show to allow the user to\n     * cancel the long running operation.  Note that currently only\n     * `ProgressLocation.Notification` is supporting to show a cancel\n     * button.\n     */\n    cancellable?: boolean;\n    constructor(location: ProgressLocation, title?: string, cancellable?: boolean) {\n        this.location = location;\n    }\n}\nexport class Progress<T> {\n    /**\n     * Report a progress update.\n     * @param value A progress item, like a message and/or an\n     * report on how much work finished\n     */\n    report(value: T): void {\n    }\n}\nexport enum ProgressLocation {\n    /**\n     * Show progress for the source control viewlet, as overlay for the icon and as progress bar\n     * inside the viewlet (when visible). Neither supports cancellation nor discrete progress.\n     */\n    SourceControl = 1,\n    /**\n     * Show progress in the status bar of the editor. Neither supports cancellation nor discrete progress.\n     */\n    Window = 10,\n    /**\n     * Show progress as notification with an optional cancel button. Supports to show infinite and discrete progress.\n     */\n    Notification = 15\n}\n\nexport class ProcessExecution {\n    private executionProcess: string;\n    private arguments: string[];\n    private executionOptions: theia.ProcessExecutionOptions | undefined;\n\n    constructor(process: string, options?: theia.ProcessExecutionOptions);\n    constructor(process: string, args: string[], options?: theia.ProcessExecutionOptions);\n    constructor(process: string, varg1?: string[] | theia.ProcessExecutionOptions, varg2?: theia.ProcessExecutionOptions) {\n        if (typeof process !== 'string') {\n            throw illegalArgument('process');\n        }\n        this.executionProcess = process;\n        if (varg1 !== undefined) {\n            if (Array.isArray(varg1)) {\n                this.arguments = varg1;\n                this.executionOptions = varg2;\n            } else {\n                this.executionOptions = varg1;\n            }\n        }\n        if (this.arguments === undefined) {\n            this.arguments = [];\n        }\n    }\n\n    get process(): string {\n        return this.executionProcess;\n    }\n\n    set process(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('process');\n        }\n        this.executionProcess = value;\n    }\n\n    get args(): string[] {\n        return this.arguments;\n    }\n\n    set args(value: string[]) {\n        if (!Array.isArray(value)) {\n            value = [];\n        }\n        this.arguments = value;\n    }\n\n    get options(): theia.ProcessExecutionOptions | undefined {\n        return this.executionOptions;\n    }\n\n    set options(value: theia.ProcessExecutionOptions | undefined) {\n        this.executionOptions = value;\n    }\n\n    public computeId(): string {\n        const hash = crypto.createHash('md5');\n        hash.update('process');\n        if (this.executionProcess !== undefined) {\n            hash.update(this.executionProcess);\n        }\n        if (this.arguments && this.arguments.length > 0) {\n            for (const arg of this.arguments) {\n                hash.update(arg);\n            }\n        }\n        return hash.digest('hex');\n    }\n\n    public static is(value: theia.ShellExecution | theia.ProcessExecution): boolean {\n        const candidate = value as ProcessExecution;\n        return candidate && !!candidate.process;\n    }\n}\n\nexport enum ShellQuoting {\n    Escape = 1,\n    Strong = 2,\n    Weak = 3\n}\n\nexport enum TaskPanelKind {\n    Shared = 1,\n    Dedicated = 2,\n    New = 3\n}\n\nexport enum TaskRevealKind {\n    Always = 1,\n    Silent = 2,\n    Never = 3\n}\n\nexport class ShellExecution {\n    private shellCommandLine: string;\n    private shellCommand: string | theia.ShellQuotedString;\n    private arguments: (string | theia.ShellQuotedString)[];\n    private shellOptions: theia.ShellExecutionOptions | undefined;\n\n    constructor(commandLine: string, options?: theia.ShellExecutionOptions);\n    constructor(command: string | theia.ShellQuotedString, args: (string | theia.ShellQuotedString)[], options?: theia.ShellExecutionOptions);\n\n    constructor(arg0: string | theia.ShellQuotedString, arg1?: theia.ShellExecutionOptions | (string | theia.ShellQuotedString)[], arg2?: theia.ShellExecutionOptions) {\n        if (Array.isArray(arg1) || typeof arg1 === 'string') {\n            if (!arg0) {\n                throw illegalArgument('command can\\'t be undefined or null');\n            }\n            if (typeof arg0 !== 'string' && typeof arg0.value !== 'string') {\n                throw illegalArgument('command');\n            }\n            this.shellCommand = arg0;\n            this.arguments = arg1 as (string | theia.ShellQuotedString)[];\n            this.shellOptions = arg2;\n        } else {\n            if (typeof arg0 !== 'string') {\n                throw illegalArgument('commandLine');\n            }\n            this.shellCommandLine = arg0;\n            this.shellOptions = arg1;\n        }\n    }\n\n    get commandLine(): string {\n        return this.shellCommandLine;\n    }\n\n    set commandLine(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('commandLine');\n        }\n        this.shellCommandLine = value;\n    }\n\n    get command(): string | theia.ShellQuotedString {\n        return this.shellCommand;\n    }\n\n    set command(value: string | theia.ShellQuotedString) {\n        if (typeof value !== 'string' && typeof value.value !== 'string') {\n            throw illegalArgument('command');\n        }\n        this.shellCommand = value;\n    }\n\n    get args(): (string | theia.ShellQuotedString)[] {\n        return this.arguments;\n    }\n\n    set args(value: (string | theia.ShellQuotedString)[]) {\n        this.arguments = value || [];\n    }\n\n    get options(): theia.ShellExecutionOptions | undefined {\n        return this.shellOptions;\n    }\n\n    set options(value: theia.ShellExecutionOptions | undefined) {\n        this.shellOptions = value;\n    }\n\n    public computeId(): string {\n        const hash = crypto.createHash('md5');\n        hash.update('shell');\n        if (this.shellCommandLine !== undefined) {\n            hash.update(this.shellCommandLine);\n        }\n        if (this.shellCommand !== undefined) {\n            hash.update(typeof this.shellCommand === 'string' ? this.shellCommand : this.shellCommand.value);\n        }\n        if (this.arguments && this.arguments.length > 0) {\n            for (const arg of this.arguments) {\n                hash.update(typeof arg === 'string' ? arg : arg.value);\n            }\n        }\n        return hash.digest('hex');\n    }\n\n    public static is(value: theia.ShellExecution | theia.ProcessExecution): boolean {\n        const candidate = value as ShellExecution;\n        return candidate && (!!candidate.commandLine || !!candidate.command);\n    }\n}\n\nexport class TaskGroup {\n    private groupId: string;\n\n    public static Clean: TaskGroup = new TaskGroup('clean', 'Clean');\n    public static Build: TaskGroup = new TaskGroup('build', 'Build');\n    public static Rebuild: TaskGroup = new TaskGroup('rebuild', 'Rebuild');\n    public static Test: TaskGroup = new TaskGroup('test', 'Test');\n\n    public static from(value: string): TaskGroup | undefined {\n        switch (value) {\n            case 'clean':\n                return TaskGroup.Clean;\n            case 'build':\n                return TaskGroup.Build;\n            case 'rebuild':\n                return TaskGroup.Rebuild;\n            case 'test':\n                return TaskGroup.Test;\n            default:\n                return undefined;\n        }\n    }\n\n    constructor(id: string, label: string) {\n        if (typeof id !== 'string') {\n            throw illegalArgument('id');\n        }\n        if (typeof label !== 'string') {\n            throw illegalArgument('name');\n        }\n        this.groupId = id;\n    }\n\n    get id(): string {\n        return this.groupId;\n    }\n}\n\nexport enum TaskScope {\n    Global = 1,\n    Workspace = 2\n}\n\nexport class Task {\n    private taskDefinition: theia.TaskDefinition;\n    private taskScope: theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined;\n    private taskName: string;\n    private taskExecution: ProcessExecution | ShellExecution | undefined;\n    private taskProblemMatchers: string[];\n    private hasTaskProblemMatchers: boolean;\n    private isTaskBackground: boolean;\n    private taskSource: string;\n    private taskGroup: TaskGroup | undefined;\n    private taskPresentationOptions: theia.TaskPresentationOptions | undefined;\n    constructor(\n        taskDefinition: theia.TaskDefinition,\n        scope: theia.WorkspaceFolder | theia.TaskScope.Global | theia.TaskScope.Workspace,\n        name: string,\n        source: string,\n        execution?: ProcessExecution | ShellExecution,\n        problemMatchers?: string | string[]\n    );\n\n    // Deprecated constructor used by Jake vscode built-in\n    constructor(\n        taskDefinition: theia.TaskDefinition,\n        name: string,\n        source: string,\n        execution?: ProcessExecution | ShellExecution,\n        problemMatchers?: string | string[],\n    );\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    constructor(...args: any[]) {\n        let taskDefinition: theia.TaskDefinition;\n        let scope: theia.WorkspaceFolder | theia.TaskScope.Global | theia.TaskScope.Workspace | undefined;\n        let name: string;\n        let source: string;\n        let execution: ProcessExecution | ShellExecution | undefined;\n        let problemMatchers: string | string[] | undefined;\n\n        if (typeof args[1] === 'string') {\n            [\n                taskDefinition,\n                name,\n                source,\n                execution,\n                problemMatchers,\n            ] = args;\n        } else {\n            [\n                taskDefinition,\n                scope,\n                name,\n                source,\n                execution,\n                problemMatchers,\n            ] = args;\n        }\n\n        this.definition = taskDefinition;\n        this.scope = scope;\n        this.name = name;\n        this.source = source;\n        this.execution = execution;\n\n        if (typeof problemMatchers === 'string') {\n            this.taskProblemMatchers = [problemMatchers];\n            this.hasTaskProblemMatchers = true;\n        } else if (Array.isArray(problemMatchers)) {\n            this.taskProblemMatchers = problemMatchers;\n            this.hasTaskProblemMatchers = true;\n        } else {\n            this.taskProblemMatchers = [];\n            this.hasTaskProblemMatchers = false;\n        }\n        this.isTaskBackground = false;\n    }\n\n    get definition(): theia.TaskDefinition {\n        return this.taskDefinition;\n    }\n\n    set definition(value: theia.TaskDefinition) {\n        if (value === undefined || value === null) {\n            throw illegalArgument('Kind can\\'t be undefined or null');\n        }\n        this.taskDefinition = value;\n    }\n\n    get scope(): theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined {\n        return this.taskScope;\n    }\n\n    set scope(value: theia.TaskScope.Global | theia.TaskScope.Workspace | theia.WorkspaceFolder | undefined) {\n        if (value === null) {\n            value = undefined;\n        }\n        this.taskScope = value;\n    }\n\n    get name(): string {\n        return this.taskName;\n    }\n\n    set name(value: string) {\n        if (typeof value !== 'string') {\n            throw illegalArgument('name');\n        }\n        this.taskName = value;\n    }\n\n    get execution(): ProcessExecution | ShellExecution | undefined {\n        return this.taskExecution;\n    }\n\n    set execution(value: ProcessExecution | ShellExecution | undefined) {\n        if (value === null) {\n            value = undefined;\n        }\n        this.taskExecution = value;\n        this.updateDefinitionBasedOnExecution();\n    }\n\n    get problemMatchers(): string[] {\n        return this.taskProblemMatchers;\n    }\n\n    set problemMatchers(value: string[]) {\n        if (!Array.isArray(value)) {\n            this.taskProblemMatchers = [];\n            this.hasTaskProblemMatchers = false;\n            return;\n        }\n        this.taskProblemMatchers = value;\n        this.hasTaskProblemMatchers = true;\n    }\n\n    get hasProblemMatchers(): boolean {\n        return this.hasTaskProblemMatchers;\n    }\n\n    get isBackground(): boolean {\n        return this.isTaskBackground;\n    }\n\n    set isBackground(value: boolean) {\n        if (value !== true && value !== false) {\n            value = false;\n        }\n        this.isTaskBackground = value;\n    }\n\n    get source(): string {\n        return this.taskSource;\n    }\n\n    set source(value: string) {\n        if (typeof value !== 'string' || value.length === 0) {\n            throw illegalArgument('source must be a string of length > 0');\n        }\n        this.taskSource = value;\n    }\n\n    get group(): TaskGroup | undefined {\n        return this.taskGroup;\n    }\n\n    set group(value: TaskGroup | undefined) {\n        if (value === undefined || value === null) {\n            this.taskGroup = undefined;\n            return;\n        }\n        this.taskGroup = value;\n    }\n\n    get presentationOptions(): theia.TaskPresentationOptions | undefined {\n        return this.taskPresentationOptions;\n    }\n\n    set presentationOptions(value: theia.TaskPresentationOptions | undefined) {\n        if (value === null) {\n            value = undefined;\n        }\n        this.taskPresentationOptions = value;\n    }\n\n    private updateDefinitionBasedOnExecution(): void {\n        if (this.taskExecution instanceof ProcessExecution) {\n            Object.assign(this.taskDefinition, {\n                type: 'process',\n                id: this.taskExecution.computeId(),\n                taskType: this.taskDefinition!.type\n            });\n        } else if (this.taskExecution instanceof ShellExecution) {\n            Object.assign(this.taskDefinition, {\n                type: 'shell',\n                id: this.taskExecution.computeId(),\n                taskType: this.taskDefinition!.type\n            });\n        }\n    }\n}\n\nexport class Task2 extends Task {\n    detail?: string;\n}\n\nexport class DebugAdapterExecutable {\n    /**\n     * The command or path of the debug adapter executable.\n     * A command must be either an absolute path of an executable or the name of an command to be looked up via the PATH environment variable.\n     * The special value 'node' will be mapped to VS Code's built-in Node.js runtime.\n     */\n    readonly command: string;\n\n    /**\n     * The arguments passed to the debug adapter executable. Defaults to an empty array.\n     */\n    readonly args?: string[];\n\n    /**\n     * Optional options to be used when the debug adapter is started.\n     * Defaults to undefined.\n     */\n    readonly options?: theia.DebugAdapterExecutableOptions;\n\n    /**\n     * Creates a description for a debug adapter based on an executable program.\n     *\n     * @param command The command or executable path that implements the debug adapter.\n     * @param args Optional arguments to be passed to the command or executable.\n     * @param options Optional options to be used when starting the command or executable.\n     */\n    constructor(command: string, args?: string[], options?: theia.DebugAdapterExecutableOptions) {\n        this.command = command;\n        this.args = args;\n        this.options = options;\n    }\n}\n\n/**\n * Represents a debug adapter running as a socket based server.\n */\nexport class DebugAdapterServer {\n\n    /**\n     * The port.\n     */\n    readonly port: number;\n\n    /**\n     * The host.\n     */\n    readonly host?: string;\n\n    /**\n     * Create a description for a debug adapter running as a socket based server.\n     */\n    constructor(port: number, host?: string) {\n        this.port = port;\n        this.host = host;\n    }\n}\n\nexport enum LogLevel {\n    Trace = 1,\n    Debug = 2,\n    Info = 3,\n    Warning = 4,\n    Error = 5,\n    Critical = 6,\n    Off = 7\n}\n\n/**\n * The base class of all breakpoint types.\n */\nexport class Breakpoint {\n    /**\n     * Is breakpoint enabled.\n     */\n    enabled: boolean;\n    /**\n     * An optional expression for conditional breakpoints.\n     */\n    condition?: string;\n    /**\n     * An optional expression that controls how many hits of the breakpoint are ignored.\n     */\n    hitCondition?: string;\n    /**\n     * An optional message that gets logged when this breakpoint is hit. Embedded expressions within {} are interpolated by the debug adapter.\n     */\n    logMessage?: string;\n\n    protected constructor(enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        this.enabled = enabled || false;\n        this.condition = condition;\n        this.hitCondition = hitCondition;\n        this.logMessage = logMessage;\n    }\n\n    private _id: string | undefined;\n    /**\n     * The unique ID of the breakpoint.\n     */\n    get id(): string {\n        if (!this._id) {\n            this._id = UUID.uuid4();\n        }\n        return this._id;\n    }\n\n}\n\n/**\n * A breakpoint specified by a source location.\n */\nexport class SourceBreakpoint extends Breakpoint {\n    /**\n     * The source and line position of this breakpoint.\n     */\n    location: Location;\n\n    /**\n     * Create a new breakpoint for a source location.\n     */\n    constructor(location: Location, enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        super(enabled, condition, hitCondition, logMessage);\n        this.location = location;\n    }\n}\n\n/**\n * A breakpoint specified by a function name.\n */\nexport class FunctionBreakpoint extends Breakpoint {\n    /**\n     * The name of the function to which this breakpoint is attached.\n     */\n    functionName: string;\n\n    /**\n     * Create a new function breakpoint.\n     */\n    constructor(functionName: string, enabled?: boolean, condition?: string, hitCondition?: string, logMessage?: string) {\n        super(enabled, condition, hitCondition, logMessage);\n        this.functionName = functionName;\n    }\n}\n\nexport class Color {\n    readonly red: number;\n    readonly green: number;\n    readonly blue: number;\n    readonly alpha: number;\n\n    constructor(red: number, green: number, blue: number, alpha: number) {\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n}\n\nexport class ColorInformation {\n    range: Range;\n    color: Color;\n\n    constructor(range: Range, color: Color) {\n        if (color && !(color instanceof Color)) {\n            throw illegalArgument('color');\n        }\n        if (!Range.isRange(range)) {\n            throw illegalArgument('range');\n        }\n        this.range = range;\n        this.color = color;\n    }\n}\n\nexport class ColorPresentation {\n    label: string;\n    textEdit?: TextEdit;\n    additionalTextEdits?: TextEdit[];\n\n    constructor(label: string) {\n        if (!label || typeof label !== 'string') {\n            throw illegalArgument('label');\n        }\n        this.label = label;\n    }\n}\n\nexport enum ColorFormat {\n    RGB = 0,\n    HEX = 1,\n    HSL = 2\n}\n\nexport class FoldingRange {\n    start: number;\n    end: number;\n    kind?: FoldingRangeKind;\n\n    constructor(start: number, end: number, kind?: FoldingRangeKind) {\n        this.start = start;\n        this.end = end;\n        this.kind = kind;\n    }\n}\n\nexport enum FoldingRangeKind {\n    Comment = 1,\n    Imports = 2,\n    Region = 3\n}\n\nexport class SelectionRange {\n\n    range: Range;\n    parent?: SelectionRange;\n\n    constructor(range: Range, parent?: SelectionRange) {\n        this.range = range;\n        this.parent = parent;\n\n        if (parent && !parent.range.contains(this.range)) {\n            throw new Error('Invalid argument: parent must contain this range');\n        }\n    }\n}\n\n/**\n * Enumeration of the supported operating systems.\n */\nexport enum OperatingSystem {\n    Windows = 'Windows',\n    Linux = 'Linux',\n    OSX = 'OSX'\n}\n\n/** The areas of the application shell where webview panel can reside. */\nexport enum WebviewPanelTargetArea {\n    Main = 'main',\n    Left = 'left',\n    Right = 'right',\n    Bottom = 'bottom'\n}\n\n/**\n * Possible kinds of UI that can use extensions.\n */\nexport enum UIKind {\n\n    /**\n     * Extensions are accessed from a desktop application.\n     */\n    Desktop = 1,\n\n    /**\n     * Extensions are accessed from a web browser.\n     */\n    Web = 2\n}\n\nexport class CallHierarchyItem {\n    _sessionId?: string;\n    _itemId?: string;\n\n    kind: SymbolKind;\n    name: string;\n    detail?: string;\n    uri: URI;\n    range: Range;\n    selectionRange: Range;\n\n    constructor(kind: SymbolKind, name: string, detail: string, uri: URI, range: Range, selectionRange: Range) {\n        this.kind = kind;\n        this.name = name;\n        this.detail = detail;\n        this.uri = uri;\n        this.range = range;\n        this.selectionRange = selectionRange;\n    }\n\n    static isCallHierarchyItem(thing: {}): thing is theia.CallHierarchyItem {\n        if (thing instanceof CallHierarchyItem) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof (<CallHierarchyItem>thing).kind === 'number' &&\n            typeof (<CallHierarchyItem>thing).name === 'string' &&\n            URI.isUri((<CallHierarchyItem>thing).uri) &&\n            Range.isRange((<CallHierarchyItem>thing).range) &&\n            Range.isRange((<CallHierarchyItem>thing).selectionRange);\n    }\n}\n\nexport class CallHierarchyIncomingCall {\n\n    from: theia.CallHierarchyItem;\n    fromRanges: theia.Range[];\n\n    constructor(item: theia.CallHierarchyItem, fromRanges: theia.Range[]) {\n        this.fromRanges = fromRanges;\n        this.from = item;\n    }\n}\n\nexport class CallHierarchyOutgoingCall {\n\n    to: theia.CallHierarchyItem;\n    fromRanges: theia.Range[];\n\n    constructor(item: theia.CallHierarchyItem, fromRanges: theia.Range[]) {\n        this.fromRanges = fromRanges;\n        this.to = item;\n    }\n}\n"],"sourceRoot":""}