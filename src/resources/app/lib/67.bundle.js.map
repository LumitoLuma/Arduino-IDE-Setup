{"version":3,"sources":["webpack:///./node_modules/@theia/terminal/src/browser/base/terminal-service.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/arduino-debug-configuration-manager.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/arduino-debug-frontend-application-contribution.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/arduino-debug-frontend-module.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/arduino-debug-session-manager.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/arduino-variable-resolver.ts","webpack:///./node_modules/arduino-debugger-extension/src/browser/style/debug-dark.svg","webpack:///./node_modules/arduino-debugger-extension/src/browser/style/index.css?17b0","webpack:///./node_modules/arduino-debugger-extension/src/browser/style/index.css"],"names":[],"mappings":"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","file":"67.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Event } from '@theia/core/lib/common/event';\nimport { WidgetOpenerOptions } from '@theia/core/lib/browser';\nimport { TerminalWidgetOptions, TerminalWidget } from './terminal-widget';\n\n/**\n * Service manipulating terminal widgets.\n */\nexport const TerminalService = Symbol('TerminalService');\nexport interface TerminalService {\n\n    /**\n     * Create new terminal with predefined options.\n     * @param options - terminal options.\n     */\n    newTerminal(options: TerminalWidgetOptions): Promise<TerminalWidget>;\n\n    /**\n     * Display new terminal widget.\n     * @param terminal - widget to attach.\n     * @deprecated use #open\n     */\n    activateTerminal(terminal: TerminalWidget): void;\n\n    open(terminal: TerminalWidget, options?: WidgetOpenerOptions): void;\n\n    readonly all: TerminalWidget[];\n\n    /**\n     * @param id - the widget id (NOT the terminal id!)\n     * @return the widget\n     */\n    getById(id: string): TerminalWidget | undefined;\n\n    /**\n     * @param id - the terminal id (NOT the terminal widget id!)\n     * @return the widget\n     */\n    getByTerminalId(terminalId: number): TerminalWidget | undefined;\n\n    /**\n     * Returns detected default shell.\n     */\n    getDefaultShell(): Promise<string>;\n\n    readonly onDidCreateTerminal: Event<TerminalWidget>;\n\n    readonly currentTerminal: TerminalWidget | undefined;\n\n    readonly onDidChangeCurrentTerminal: Event<TerminalWidget | undefined>;\n\n    readonly lastUsedTerminal: TerminalWidget | undefined;\n}\n","import { DebugConfigurationManager } from \"@theia/debug/lib/browser/debug-configuration-manager\";\r\nimport { injectable } from \"inversify\";\r\n\r\n@injectable()\r\nexport class ArduinoDebugConfigurationManager extends DebugConfigurationManager {\r\n\r\n    get defaultDebugger(): Promise<string | undefined> {\r\n        return this.debug.getDebuggersForLanguage('ino').then(debuggers => {\r\n            if (debuggers.length === 0)\r\n                return undefined;\r\n            return debuggers[0].type;\r\n        });\r\n    }\r\n\r\n    protected async selectDebugType(): Promise<string | undefined> {\r\n        const widget = this.editorManager.currentEditor;\r\n        if (!widget) {\r\n            return this.defaultDebugger;\r\n        }\r\n        const { languageId } = widget.editor.document;\r\n        const debuggers = await this.debug.getDebuggersForLanguage(languageId);\r\n        if (debuggers.length === 0) {\r\n            return this.defaultDebugger;\r\n        }\r\n        return this.quickPick.show(debuggers.map(\r\n            ({ label, type }) => ({ label, value: type }),\r\n            { placeholder: 'Select Environment' })\r\n        );\r\n    }\r\n\r\n    async createDefaultConfiguration(): Promise<void> {\r\n        const { model } = this;\r\n        if (model) {\r\n            await this.doCreate(model);\r\n            await this.updateModels();\r\n        }\r\n    }\r\n\r\n}\r\n","import { injectable, inject } from 'inversify';\r\nimport { MenuModelRegistry, Path, MessageService, Command, CommandRegistry } from '@theia/core';\r\nimport { KeybindingRegistry } from '@theia/core/lib/browser';\r\nimport { TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\r\nimport { DebugFrontendApplicationContribution, DebugCommands } from '@theia/debug/lib/browser/debug-frontend-application-contribution';\r\nimport { DebugSessionOptions } from \"@theia/debug/lib/browser/debug-session-options\";\r\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\r\nimport { FileSystem } from '@theia/filesystem/lib/common';\r\nimport URI from '@theia/core/lib/common/uri';\r\nimport { EditorManager } from '@theia/editor/lib/browser';\r\nimport { EditorMode } from \"arduino-ide-extension/lib/browser/editor-mode\";\r\nimport { SketchesService } from 'arduino-ide-extension/lib/common/protocol/sketches-service';\r\nimport { ArduinoToolbar } from 'arduino-ide-extension/lib/browser/toolbar/arduino-toolbar';\r\nimport { ArduinoDebugConfigurationManager } from './arduino-debug-configuration-manager';\r\n\r\nexport namespace ArduinoDebugCommands {\r\n    export const START_DEBUG: Command = {\r\n        id: 'arduino-start-debug',\r\n        label: 'Start Debugging'\r\n    }\r\n}\r\n\r\n@injectable()\r\nexport class ArduinoDebugFrontendApplicationContribution extends DebugFrontendApplicationContribution {\r\n\r\n    @inject(EditorMode)\r\n    protected readonly editorMode: EditorMode;\r\n\r\n    @inject(WorkspaceService)\r\n    protected readonly workspaceService: WorkspaceService;\r\n\r\n    @inject(SketchesService)\r\n    protected readonly sketchesService: SketchesService;\r\n\r\n    @inject(FileSystem)\r\n    protected readonly fileSystem: FileSystem;\r\n\r\n    @inject(EditorManager)\r\n    protected readonly editorManager: EditorManager;\r\n\r\n    @inject(MessageService)\r\n    protected readonly messageService: MessageService;\r\n\r\n    async start(noDebug?: boolean, debugSessionOptions?: DebugSessionOptions): Promise<void> {\r\n        const configurations = this.configurations as ArduinoDebugConfigurationManager;\r\n        let current = debugSessionOptions ? debugSessionOptions : configurations.current;\r\n        // If no configurations are currently present, create them\r\n        if (!current) {\r\n            await configurations.createDefaultConfiguration();\r\n            current = configurations.current;\r\n        }\r\n        if (current) {\r\n            if (noDebug !== undefined) {\r\n                current = {\r\n                    ...current,\r\n                    configuration: {\r\n                        ...current.configuration,\r\n                        noDebug\r\n                    }\r\n                };\r\n            }\r\n            if (current.configuration.type === 'arduino') {\r\n                const wsStat = this.workspaceService.workspace;\r\n                let sketchFileURI: URI | undefined;\r\n                if (wsStat && await this.sketchesService.isSketchFolder(wsStat.uri)) {\r\n                    const wsPath = new Path(wsStat.uri);\r\n                    const sketchFilePath = wsPath.join(wsPath.name + '.ino').toString();\r\n                    sketchFileURI = new URI(sketchFilePath);\r\n                } else if (this.editorManager.currentEditor) {\r\n                    const editorURI = this.editorManager.currentEditor.getResourceUri();\r\n                    if (editorURI && editorURI.path && editorURI.path.ext === '.ino') {\r\n                        sketchFileURI = editorURI;\r\n                    }\r\n                }\r\n                if (sketchFileURI) {\r\n                    await this.editorManager.open(sketchFileURI);\r\n                    await this.manager.start(current);\r\n                } else {\r\n                    this.messageService.error('Please open a sketch file to start debugging.')\r\n                }\r\n            } else {\r\n                await this.manager.start(current);\r\n            }\r\n        }\r\n    }\r\n\r\n    initializeLayout(): Promise<void> {\r\n        if (this.editorMode.proMode) {\r\n            return super.initializeLayout();\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n\r\n    registerMenus(menus: MenuModelRegistry): void {\r\n        if (this.editorMode.proMode) {\r\n            super.registerMenus(menus);\r\n            menus.unregisterMenuAction(DebugCommands.START_NO_DEBUG);\r\n        }\r\n    }\r\n\r\n    registerKeybindings(keybindings: KeybindingRegistry): void {\r\n        if (this.editorMode.proMode) {\r\n            super.registerKeybindings(keybindings);\r\n            keybindings.unregisterKeybinding({\r\n                command: DebugCommands.START_NO_DEBUG.id,\r\n                keybinding: 'ctrl+f5'\r\n            });\r\n        }\r\n    }\r\n\r\n    registerToolbarItems(toolbar: TabBarToolbarRegistry): void {\r\n        super.registerToolbarItems(toolbar);\r\n        toolbar.registerItem({\r\n            id: ArduinoDebugCommands.START_DEBUG.id,\r\n            command: ArduinoDebugCommands.START_DEBUG.id,\r\n            tooltip: 'Start Debugging',\r\n            priority: 3\r\n        });\r\n    }\r\n\r\n    registerCommands(registry: CommandRegistry): void {\r\n        super.registerCommands(registry);\r\n        registry.registerCommand(ArduinoDebugCommands.START_DEBUG, {\r\n            isVisible: widget => ArduinoToolbar.is(widget) && widget.side === 'left',\r\n            isEnabled: widget => ArduinoToolbar.is(widget) && widget.side === 'left',\r\n            execute: () => {\r\n                registry.executeCommand(DebugCommands.START.id);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n","import { ContainerModule } from 'inversify';\r\nimport { VariableContribution } from '@theia/variable-resolver/lib/browser';\r\nimport { ArduinoVariableResolver } from './arduino-variable-resolver';\r\nimport { DebugSessionManager } from '@theia/debug/lib/browser/debug-session-manager';\r\nimport { DebugFrontendApplicationContribution } from '@theia/debug/lib/browser/debug-frontend-application-contribution';\r\nimport { DebugConfigurationManager } from '@theia/debug/lib/browser/debug-configuration-manager';\r\nimport { ArduinoDebugConfigurationManager } from './arduino-debug-configuration-manager';\r\nimport { ArduinoDebugFrontendApplicationContribution } from './arduino-debug-frontend-application-contribution';\r\nimport { ArduinoDebugSessionManager } from './arduino-debug-session-manager';\r\n\r\nimport '../../src/browser/style/index.css';\r\n\r\nexport default new ContainerModule((bind, unbind, isBound, rebind) => {\r\n    bind(ArduinoVariableResolver).toSelf().inSingletonScope();\r\n    bind(VariableContribution).toService(ArduinoVariableResolver);\r\n    rebind(DebugSessionManager).to(ArduinoDebugSessionManager).inSingletonScope();\r\n    rebind(DebugConfigurationManager).to(ArduinoDebugConfigurationManager).inSingletonScope();\r\n    rebind(DebugFrontendApplicationContribution).to(ArduinoDebugFrontendApplicationContribution);\r\n});\r\n","import { DebugSessionManager } from \"@theia/debug/lib/browser/debug-session-manager\";\r\nimport { DebugSessionOptions } from \"@theia/debug/lib/browser/debug-session-options\";\r\n\r\nexport class ArduinoDebugSessionManager extends DebugSessionManager {\r\n\r\n    start(options: DebugSessionOptions) {\r\n        if (options.configuration.type === 'arduino' && this.sessions.find(s => s.configuration.type === 'arduino')) {\r\n            this.messageService.info('A debug session is already running. You must stop the running session before starting a new one.')\r\n            return Promise.resolve(undefined);\r\n        }\r\n        return super.start(options);\r\n    }\r\n\r\n}\r\n","\r\nimport { VariableContribution, VariableRegistry, Variable } from '@theia/variable-resolver/lib/browser';\r\nimport { injectable, inject } from 'inversify';\r\nimport { MessageService } from '@theia/core/lib/common/message-service';\r\nimport { BoardsServiceClientImpl } from 'arduino-ide-extension/lib/browser/boards/boards-service-client-impl';\r\n\r\n@injectable()\r\nexport class ArduinoVariableResolver implements VariableContribution {\r\n\r\n    @inject(BoardsServiceClientImpl)\r\n    protected readonly boardsServiceClient: BoardsServiceClientImpl;\r\n\r\n    @inject(MessageService)\r\n    protected readonly messageService: MessageService\r\n\r\n    registerVariables(variables: VariableRegistry): void {\r\n        variables.registerVariable(<Variable>{\r\n            name: 'fqbn',\r\n            description: 'Qualified name of the selected board',\r\n            resolve: this.resolveFqbn.bind(this),\r\n        });\r\n        variables.registerVariable({\r\n            name: 'port',\r\n            description: 'Selected upload port',\r\n            resolve: this.resolvePort.bind(this)\r\n        });\r\n    }\r\n\r\n    protected async resolveFqbn(): Promise<string | undefined> {\r\n        const { boardsConfig } = this.boardsServiceClient;\r\n        if (!boardsConfig || !boardsConfig.selectedBoard) {\r\n            this.messageService.error('No board selected. Please select a board for debugging.');\r\n            return undefined;\r\n        }\r\n        return boardsConfig.selectedBoard.fqbn;\r\n    }\r\n\r\n    protected async resolvePort(): Promise<string | undefined> {\r\n        const { boardsConfig } = this.boardsServiceClient;\r\n        if (!boardsConfig || !boardsConfig.selectedPort) {\r\n            return undefined;\r\n        }\r\n        return boardsConfig.selectedPort.address;\r\n    }\r\n\r\n}\r\n","module.exports = \"data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPg0KPCEtLUNvcHlyaWdodCAoQykgMjAxOSBUeXBlRm94IGFuZCBvdGhlcnMuLS0+DQo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4NCjxzdmcgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMjggMjgiIGZpbGw9IiNGNkY2RjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZD0iTTE1LjE2NzMgMTguMDY4N1YyMy4wMjQ3QzE1LjE2NzMgMjMuNTYzNyAxNS4yNzIzIDI0LjUgMTQuNzMxNSAyNC41SDEyLjgzMjhWMjMuMzMyN0gxNFYxOS42MTIyTDEzLjc5ODggMTkuNDAyMkMxMy4wNjA0IDIwLjA4MDMgMTIuMTAwOCAyMC40NjY5IDExLjA5ODYgMjAuNDlDMTAuMDk2NCAyMC41MTMyIDkuMTE5OTQgMjAuMTcxNCA4LjM1MSAxOS41MjgyQzcgMTguMTczNyA3LjEzODI2IDE2LjMzMjcgOC42MDQ3NSAxNEg0LjY2NzI2VjE1LjE2NzJIMy41MDAwMVYxMy4yNjg1QzMuNTAwMDEgMTIuNzI3NyA0LjQzNjI2IDEyLjgzMjcgNC45NzUyNiAxMi44MzI3SDkuNzYzMjZMMTUuMTY3MyAxOC4wNjg3Wk0xMS42NjczIDUuODMyNzVIMTAuNVY0LjY2NzI1SDEyLjc3NUMxMy4zMTIzIDQuNjY3MjUgMTQgNC45MjQ1IDE0IDUuNDYzNVY5LjM2NkwxNC44NTkzIDEwLjM4NjJDMTQuOTI3IDkuODM5NzkgMTUuMTkwNiA5LjMzNjQ0IDE1LjYwMTMgOC45Njk1OEMxNi4wMTE5IDguNjAyNzEgMTYuNTQxNiA4LjM5NzIzIDE3LjA5MjMgOC4zOTEyNUMxNy4yMjk4IDguMzc5NDUgMTcuMzY4NCA4LjM5NDkyIDE3LjUgOC40MzY3NVY1LjgzMjc1SDE4LjY2NzNWOC44ODgyNUMxOC43MDMgOC45OTE1NCAxOC43NjE4IDkuMDg1MzYgMTguODM5MSA5LjE2MjY1QzE4LjkxNjQgOS4yMzk5NSAxOS4wMTAyIDkuMjk4NzEgMTkuMTEzNSA5LjMzNDVIMjIuMTY3M1YxMC41SDE5LjU2MTVDMTkuNTkzIDEwLjUgMTkuNjEwNSAxMC42NzUgMTkuNjEwNSAxMC44NUMxOS42MDU4IDExLjQwMzQgMTkuNDAxMSAxMS45MzY1IDE5LjAzNDEgMTIuMzUwOEMxOC42NjcxIDEyLjc2NTEgMTguMTYyNiAxMy4wMzI2IDE3LjYxMzggMTMuMTA0TDE4LjYzNCAxNEgyMi41MzgzQzIzLjA3NzMgMTQgMjMuMzM0NSAxNC42ODA3IDIzLjMzNDUgMTUuMjI1VjE3LjVIMjIuMTY3M1YxNi4zMzI3SDE5LjIyNzNMMTEuNjY3MyA4Ljk4Mjc1VjUuODMyNzVaTTE0IDBDMTEuMjMxMSAwIDguNTI0MzEgMC44MjEwODYgNi4yMjIwMiAyLjM1OTQzQzMuOTE5NzMgMy44OTc3NiAyLjEyNTMyIDYuMDg0MjYgMS4wNjU2OSA4LjY0MjQzQzAuMDA2MDY1OTMgMTEuMjAwNiAtMC4yNzExODEgMTQuMDE1NSAwLjI2OTAxMiAxNi43MzEzQzAuODA5MjA1IDE5LjQ0NyAyLjE0MjU4IDIxLjk0MTYgNC4xMDA1MSAyMy44OTk1QzYuMDU4NDUgMjUuODU3NCA4LjU1MzAxIDI3LjE5MDggMTEuMjY4NyAyNy43MzFDMTMuOTg0NSAyOC4yNzEyIDE2Ljc5OTQgMjcuOTkzOSAxOS4zNTc2IDI2LjkzNDNDMjEuOTE1NyAyNS44NzQ3IDI0LjEwMjIgMjQuMDgwMyAyNS42NDA2IDIxLjc3OEMyNy4xNzg5IDE5LjQ3NTcgMjggMTYuNzY4OSAyOCAxNEMyOCAxMC4yODcgMjYuNTI1IDYuNzI2MDEgMjMuODk5NSA0LjEwMDVDMjEuMjc0IDEuNDc1IDE3LjcxMyAwIDE0IDBWMFpNMjUuNjY3MyAxNEMyNS42NjkyIDE2LjY5MDggMjQuNzM2NCAxOS4yOTg4IDIzLjAyODMgMjEuMzc4TDYuNjIyIDQuOTcxNzVDOC4zMzAzNiAzLjU3MjY5IDEwLjQwMDkgMi42ODc1NSAxMi41OTI3IDIuNDE5MzVDMTQuNzg0NSAyLjE1MTE1IDE3LjAwNzQgMi41MTA5MSAxOS4wMDI3IDMuNDU2NzZDMjAuOTk4IDQuNDAyNjIgMjIuNjgzNiA1Ljg5NTY3IDIzLjg2MzUgNy43NjIxN0MyNS4wNDMzIDkuNjI4NjcgMjUuNjY4OSAxMS43OTE5IDI1LjY2NzMgMTRaTTIuMzMyNzYgMTRDMi4zMzA2NiAxMS4zMDkxIDMuMjYzNTEgOC43MDExMSA0Ljk3MTc2IDYuNjIyTDIxLjM3OCAyMy4wM0MxOS42NjkzIDI0LjQyODQgMTcuNTk4NyAyNS4zMTMgMTUuNDA3IDI1LjU4MDdDMTMuMjE1MyAyNS44NDg1IDEwLjk5MjYgMjUuNDg4NCA4Ljk5NzU0IDI0LjU0MjVDNy4wMDI0NCAyMy41OTY1IDUuMzE2OTMgMjIuMTAzNiA0LjEzNzA4IDIwLjIzNzNDMi45NTcyMiAxOC4zNzA5IDIuMzMxNTIgMTYuMjA4IDIuMzMyNzYgMTRaIiBmaWxsPSJ3aGl0ZSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cmVjdCB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9IiNGNkY2RjYiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4NCg==\"","\nvar content = require(\"!!../../../../css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var escape = require(\"../../../../css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".arduino-start-debug-icon {\\r\\n    -webkit-mask: url(\" + escape(require(\"./debug-dark.svg\")) + \") 50%;\\r\\n    mask: url(\" + escape(require(\"./debug-dark.svg\")) + \") 50%;\\r\\n    -webkit-mask-size: 100%;\\r\\n    mask-size: 100%;\\r\\n    -webkit-mask-repeat: no-repeat;\\r\\n    mask-repeat: no-repeat;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    color: var(--theia-ui-button-font-color);\\r\\n}\\r\\n\\r\\n.arduino-start-debug {\\r\\n    border-radius: 12px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}